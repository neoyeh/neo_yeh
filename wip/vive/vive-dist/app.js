!function(e){function t(t){for(var r,a,c=t[0],s=t[1],u=t[2],d=0,p=[];d<c.length;d++)a=c[d],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&p.push(o[a][0]),o[a]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);for(l&&l(t);p.length;)p.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,c=1;c<n.length;c++){var s=n[c];0!==o[s]&&(r=!1)}r&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},o={0:0},i=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var c=window.webpackJsonp=window.webpackJsonp||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var l=s;i.push([643,1]),n()}({239:function(e,t){[Element.prototype,Document.prototype,DocumentFragment.prototype].forEach((function(e){e.hasOwnProperty("prepend")||Object.defineProperty(e,"prepend",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=Array.prototype.slice.call(arguments),t=document.createDocumentFragment();e.forEach((function(e){var n=e instanceof Node;t.appendChild(n?e:document.createTextNode(String(e)))})),this.insertBefore(t,this.firstChild)}})})),[Element.prototype,Document.prototype,DocumentFragment.prototype].forEach((function(e){e.hasOwnProperty("append")||Object.defineProperty(e,"append",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=Array.prototype.slice.call(arguments),t=document.createDocumentFragment();e.forEach((function(e){var n=e instanceof Node;t.appendChild(n?e:document.createTextNode(String(e)))})),this.appendChild(t)}})}))},577:function(e,t){Array.prototype.find||(Array.prototype.find=function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,n=Object(this),r=n.length>>>0,o=arguments[1],i=0;i<r;i+=1)if(t=n[i],e.call(o,t,i,n))return t})},578:function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}
/*! modernizr 3.6.0 (Custom Build) | MIT *
 * https://modernizr.com/download/?-webp-setclasses !*/!function(e,t,r){function o(e,t){return n(e)===t}function i(e){var t=p.className,n=l._config.classPrefix||"";if(f&&(t=t.baseVal),l._config.enableJSClass){var r=new RegExp("(^|\\s)"+n+"no-js(\\s|$)");t=t.replace(r,"$1"+n+"js$2")}l._config.enableClasses&&(t+=" "+n+e.join(" "+n),f?p.className.baseVal=t:p.className=t)}function a(e,t){if("object"==n(e))for(var r in e)d(e,r)&&a(r,e[r]);else{var o=(e=e.toLowerCase()).split("."),c=l[o[0]];if(2==o.length&&(c=c[o[1]]),void 0!==c)return l;t="function"==typeof t?t():t,1==o.length?l[o[0]]=t:(!l[o[0]]||l[o[0]]instanceof Boolean||(l[o[0]]=new Boolean(l[o[0]])),l[o[0]][o[1]]=t),i([(t&&0!=t?"":"no-")+o.join("-")]),l._trigger(e,t)}return l}var c=[],s=[],u={_version:"3.6.0",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var n=this;setTimeout((function(){t(n[e])}),0)},addTest:function(e,t,n){s.push({name:e,fn:t,options:n})},addAsyncTest:function(e){s.push({name:null,fn:e})}},l=function(){};l.prototype=u,l=new l;var d,p=t.documentElement,f="svg"===p.nodeName.toLowerCase();!function(){var e={}.hasOwnProperty;d=o(e,"undefined")||o(e.call,"undefined")?function(e,t){return t in e&&o(e.constructor.prototype[t],"undefined")}:function(t,n){return e.call(t,n)}}(),u._l={},u.on=function(e,t){this._l[e]||(this._l[e]=[]),this._l[e].push(t),l.hasOwnProperty(e)&&setTimeout((function(){l._trigger(e,l[e])}),0)},u._trigger=function(e,t){if(this._l[e]){var n=this._l[e];setTimeout((function(){var e;for(e=0;e<n.length;e++)(0,n[e])(t)}),0),delete this._l[e]}},l._q.push((function(){u.addTest=a})),l.addAsyncTest((function(){function e(e,t,n){function r(t){var r=!(!t||"load"!==t.type)&&1==o.width;a(e,"webp"===e&&r?new Boolean(r):r),n&&n(t)}var o=new Image;o.onerror=r,o.onload=r,o.src=t}var t=[{uri:"data:image/webp;base64,UklGRiQAAABXRUJQVlA4IBgAAAAwAQCdASoBAAEAAwA0JaQAA3AA/vuUAAA=",name:"webp"},{uri:"data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA==",name:"webp.alpha"},{uri:"data:image/webp;base64,UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA",name:"webp.animation"},{uri:"data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=",name:"webp.lossless"}],n=t.shift();e(n.name,n.uri,(function(n){if(n&&"load"===n.type)for(var r=0;r<t.length;r++)e(t[r].name,t[r].uri)}))})),function(){var e,t,n,r,i,a;for(var u in s)if(s.hasOwnProperty(u)){if(e=[],(t=s[u]).name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(n=0;n<t.options.aliases.length;n++)e.push(t.options.aliases[n].toLowerCase());for(r=o(t.fn,"function")?t.fn():t.fn,i=0;i<e.length;i++)1===(a=e[i].split(".")).length?l[a[0]]=r:(!l[a[0]]||l[a[0]]instanceof Boolean||(l[a[0]]=new Boolean(l[a[0]])),l[a[0]][a[1]]=r),c.push((r?"":"no-")+a.join("-"))}}(),i(c),delete u.addTest,delete u.addAsyncTest;for(var m=0;m<l._q.length;m++)l._q[m]();e.Modernizr=l}(window,document)},643:function(e,t,n){"use strict";n.r(t);n(299);var r=n(1),o=n.n(r),i=n(60),a=n.n(i),c=n(34),s=n(35),u=n(181),l=n.n(u),d=n(71),p=n.n(d),f=n(182),m=n.n(f),h=n(132),v=n.n(h),y=(n(663),n(668),n(682),n(239),n(577),n(578),{"site-id":"",locale:"","fiter-country":"",countryName:"",currency:"","theme-id":"",cartProviderType:"",ecLocale:"",storeLocale:""}),g=n(37),b=n.n(g);function S(e){return function(e){if(Array.isArray(e))return k(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var w=function(e,t){var n;e&&e.classList&&(n=e.classList).add.apply(n,S(t))},I=function(e,t){var n;e&&e.classList&&(n=e.classList).remove.apply(n,S(t))},A=function(e){e&&e.parentNode.removeChild(e)},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){return e[t]?e[t]:t}},_=function(e){for(var t=e.attributes,n={},r=0;r<t.length;r+=1){var o=t[r];if(o.name.indexOf("data-")>-1)n[o.name.replace("data-","").split("-").map((function(e,t){return t?e.replace(e[0],e[0].toUpperCase()):e})).join("")]=o.value}return n},T=function(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)},P=function(){var e=document.getElementById("data-store-info");return e?JSON.parse(e.getAttribute("data-store-info")||"[]"):[]},E=function(){return b.a.get("dr-htc-locale-info")?JSON.parse(b.a.get("dr-htc-locale-info")):y},O=function(){return b.a.get("vive-magento-token")?b.a.get("vive-magento-token"):""},L=function(e){b.a.set("vive-magento-token",e,{domain:"vive.com",path:"/"})};function j(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function x(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){j(i,r,o,a,c,"next",e)}function c(e){j(i,r,o,a,c,"throw",e)}a(void 0)}))}}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var N=function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),D(this,"checkToken",function(){var e=x(regeneratorRuntime.mark((function e(n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=O(),e.next=3,fetch(t.getCartApi,{headers:{"Content-Type":"application/json"},method:"GET",credentials:"include"}).then((function(e){return e.json()})).catch((function(e){return console.error("Error:",e)})).then((function(e){e.quote_id!==r&&L(e.quote_id),n()}));case 3:e.sent;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),D(this,"getCart",function(){var e=x(regeneratorRuntime.mark((function e(n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=O(),e.next=3,fetch(t.getCartApi,{headers:{"Content-Type":"application/json"},method:"GET",credentials:"include"}).then((function(e){return e.json()})).catch((function(e){return console.error("Error:",e)})).then((function(e){e.quote_id!==r&&L(e.quote_id);var t=[];e.items.length>0&&e.items.forEach((function(e){var n={id:e.pid,name:e.name,image:e.thumbnail,quantity:e.qty,price:e.formatted_subTotal,saleprice:e.formatted_subTotal};t.push(n)}));var o={items:t,totalItems:e.grand_total,subTotal:e.formatted_grand_total,checkoutURL:e.checkout_url};n(o)}));case 3:e.sent;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),D(this,"retrieveProductInfo",function(){var e=x(regeneratorRuntime.mark((function e(n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t.getProductApi,{headers:{"x-api-key":t.lamdaApiKey,"Content-Type":"application/json"},method:"POST",body:JSON.stringify({storecode:t.ecLocale,pids:[n]})}).then((function(e){return e.json()})).catch((function(e){return console.error("Error:",e)})).then((function(e){r(e)}));case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),D(this,"getProduct",function(){var e=x(regeneratorRuntime.mark((function e(n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.retrieveProductInfo(n,(function(e){var t={};e.length>0&&(t={basePriceNumber:e[0].base_price,basePrice:e[0].formatted_base_price,salePriceNumber:e[0].price,salePrice:e[0].formatted_price,overrideOutOfStock:!1,availableStock:"",inventory:parseInt(e[0].inventory,10),isAvailable:"available"===e[0].status,isBackOrder:!1,isPreOrder:!1}),r(t)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),D(this,"removeItemFromCart",function(){var e=x(regeneratorRuntime.mark((function e(n,r){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.removeItemApi.replace("{pid}",n),e.next=3,fetch(o,{headers:{Referer:"https://www.vive.com/","Content-Type":"application/json"},method:"POST",credentials:"include"}).then((function(e){return e.json()})).catch((function(e){return console.error("Error:",e)})).then((function(e){r(e)}));case 3:e.sent;case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),D(this,"addToCart",function(){var e=x(regeneratorRuntime.mark((function e(n,r,o){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.checkToken((function(){t.retrieveProductInfo(n,function(){var e=x(regeneratorRuntime.mark((function e(n){var i,a,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.length>0)){e.next=7;break}return i=O(),a=n[0].sku,c=t.addItemtApi.replace("{quote}",i),e.next=6,fetch(c,{headers:{Referer:"https://www.vive.com/","Content-Type":"application/json"},method:"POST",body:JSON.stringify({cart_item:{quote_id:i,qty:r,sku:a}})}).then((function(e){return e.json()})).catch((function(e){return console.error("Error:",e)})).then((function(e){e.qty>0&&o()}));case 6:e.sent;case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}));case 1:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}());var n=E();this.ecLocale=n.ecLocale,this.getCartApi=n.miniCartApiLink.getCart,this.getProductApi=n.miniCartApiLink.getProduct,this.addItemtApi=n.miniCartApiLink.addItem,this.removeItemApi=n.miniCartApiLink.removeItem,this.lamdaApiKey=n.miniCartApiLink.key,this.getCart=this.getCart.bind(this),this.getProduct=this.getProduct.bind(this),this.retrieveProductInfo=this.retrieveProductInfo.bind(this)},R="https"===purl().attr("protocol");function q(){var e=purl().attr("host"),t="vive.com";return"localhost"===e?t="localhost":e.indexOf("htcvive.com")>-1&&(t="htcvive.com"),t}function U(e,t,n){$.cookie(e,t,{domain:q(),path:"/",expires:1,secure:R})}function H(e){return void 0!==$.cookie(e)?$.cookie(e):null}function M(e,t,n){var r,o,i,a,c=e,s=c.split("_")[1],u=t,l=n,d=location.hostname.indexOf("htcvive.com")>-1,p="",f="https://store.%cc%.vive.com/";switch(d&&(f="https://store.%cc%.htcvive.com/"),s.toLowerCase()){case"us":p="&accountID=565272&expand=customAttributes";case"ca":r="https://api.digitalriver.com/v1/shoppers/",o=f.replace("%cc%","us")+"store/htcus/SessionToken",i=d?"6ac66961851f424f87aa7992a5cea5ca":"5310815a01e14e95bfedf1b655fdef03",i+=p;break;case"nz":case"au":case"hk":case"sg":r="https://api.digitalriver.com/v1/shoppers/",o=f.replace("%cc%","ap")+"store/htcapac/SessionToken",i=d?"0e393a6f3c9c4e08aab38db741953af0":"2b0d95e5167742bfaa87b50141d327b9";break;case"ie":case"fr":case"de":case"gb":case"at":case"pl":case"be":case"is":case"es":case"se":case"it":case"ch":case"dk":case"cz":case"nl":case"fi":case"lv":case"lt":case"lu":case"mt":case"pt":case"no":r="https://api.digitalriver.com/v1/shoppers/",o=f.replace("%cc%","eu")+"store/htcemea/SessionToken",i=d?"b38695ad77ef4d31b11192f8d80d9a8d":"37504a549ca94c2fbcff1cc7ebfd89e2"}a=void 0!==c&&void 0!==c&&""!==c&&void 0!==u&&void 0!==u&&""!==u?"locale="+c+"&currency="+u+"&":"",this.createAnonToken=function(e){var t=o+"?"+a+"format=json&method=get&ThemeID="+l+"&apiKey="+i,n=M.token;if(null===n||""===n){if(M.flag)return void M.queue.push(e);M.flag=!0,$.ajax({url:t,dataType:"jsonp",success:function(t){var n;for(M.flag=!1,M.token=t.access_token,U("dr-htc-token",t.access_token),"function"==typeof e&&e();n=M.queue.shift();)n();setTimeout((function(){M.token=""}),500)},error:function(e,t,n){M.flag=!1}})}else"function"==typeof e&&e()},this.addToCart=function(e,t,n){this.createAnonToken((function(){var o=H("dr-htc-token"),i=r+"me/carts/active/line-items?format=json&method=post&productId="+e+"&quantity="+t+"&token="+o;$.ajax({url:i,dataType:"jsonp",tryCount:0,retryLimit:3,success:function(e){if(e&&e.errors){var t="";switch(e.errors.error[0].code){case"offer-unavailable":case"inventory-unavailable-error":case"offer-not-applicable":case"invalid-product-id":t="out-of-stock"}}"function"==typeof n&&(t?n(t):n())},error:function(e,t,n){}})}))},this.removeItemFromCart=function(e,t){this.createAnonToken((function(){var n=H("dr-htc-token"),o=r+"me/carts/active/line-items/"+e+"?format=json&method=delete&token="+n;$.ajax({url:o,dataType:"jsonp",tryCount:0,retryLimit:3,success:function(e){"function"==typeof t&&t()},error:function(e,t,n){}})}))},this.getCart=function(e){this.createAnonToken((function(){var t=H("dr-htc-token"),n=r+"me/carts/active?format=json&expand=lineitems.lineItem.product.sku&method=get&token="+t;"en_us"==c.toLowerCase()&&(n+=p),$.ajax({method:"POST",url:n,dataType:"jsonp",tryCount:0,retryLimit:3,success:function(n){if(n&&n.errors)U("dr-htc-token","");else{var o=[];n.cart.lineItems.lineItem&&(o=n.cart.lineItems.lineItem);var i=[];$.each(o,(function(e,t){var n={id:t.id,name:t.product.displayName,image:t.product.thumbnailImage,quantity:t.quantity,price:t.pricing.formattedListPriceWithQuantity,saleprice:t.pricing.formattedSalePriceWithQuantity};i[e]=n}));var a=ViveCookie.getCookie(siteInfoCookieName).themeId,c=r+"me/carts/active/web-checkout?token="+t+"&ThemeID="+a,s={items:i,totalItems:n.cart.totalItemsInCart,subTotal:n.cart.pricing.formattedSubtotal,checkoutURL:c};"function"==typeof e&&e(s)}},error:function(e,t,n){}})}))},this.checkout=function(){this.getCart((function(e){window.location=e.checkoutURL}))},this.getProduct=function(e,t){this.createAnonToken((function(){H("dr-htc-token");var n=r+"me/products/"+e+"?"+a+"format=json&method=get&apiKey="+i+"&expand=pricing,inventoryStatus";$.ajax({url:n,dataType:"jsonp",tryCount:0,retryLimit:3,success:function(e){var n={};e.product&&(n={basePriceNumber:e.product.pricing.listPriceWithQuantity.value,basePrice:e.product.pricing.formattedListPriceWithQuantity,salePriceNumber:e.product.pricing.salePriceWithQuantity.value,salePrice:e.product.pricing.formattedSalePriceWithQuantity,overrideOutOfStock:!1,availableStock:"",inventory:parseInt(e.product.inventoryStatus.availableQuantity,10),isAvailable:e.product.inventoryStatus.productIsInStock,isBackOrder:"true"===e.product.inventoryStatus.productIsAllowsBackorders,isPreOrder:e.product.inventoryStatus.productIsAllowsBackorders}),"function"==typeof t&&t(n)},error:function(e,t,n){}})}))},this.getPrices=function(e,t){this.createAnonToken((function(){H("dr-htc-token");var n=r+"me/products?"+a+"productId="+e.toString()+"&format=json&method=get&apiKey="+i+"&expand=product,pricing,product.inventoryStatus";$.ajax({url:n,dataType:"jsonp",tryCount:0,retryLimit:3,success:function(e){var n=e.products.product,r=[];if(void 0!==n&&n.length>0)for(var o=0,i=n.length;o<i;o++){var a=n[o],c=a.id.toString(),s=a.pricing.formattedListPrice;r[o]={skuId:c,price:s}}"function"==typeof t&&t(r)},error:function(e,t,n){}})}))}}M.token="",M.queue=[];var B=M,F="https"===purl().attr("protocol"),Q=purl().attr("host").toLowerCase(),G=purl().attr("path").split("/")[1].toLowerCase();function J(e){return-1!==["kr","sg","tw","nz","mea-en","mea-ar"].indexOf(e)}function K(){return"localhost"===Q?"localhost":Q.indexOf("htcvive.com")>-1?"htcvive.com":"vive.com"}function z(e,t,n){$.cookie(e,t,{domain:K(),expires:1,path:"/",secure:F})}function V(e){return void 0!==$.cookie(e)?$.cookie(e):null}function W(e,t,n){var r,o,i,a=e,c=t,s=n;switch(a.toLowerCase()){case"ko_kr":case"kr":r="https://mall.vivestore.co.kr/soap_api8.php",o="https://mall.vivestore.co.kr/soap_api8.php";break;case"zh_tw":case"en_nz":case"en_sg":r="https://store.vive.com/soap_api8.php",o="https://store.vive.com/soap_api8.php";break;case"en_sa":case"en_ae":case"ar_ae":case"ar_sa":r="https://e-store.vive.com/soap_api8.php",o="https://e-store.vive.com/soap_api8.php";break;default:console.error("Cart provider can't find relative locale")}i=void 0!==a&&void 0!==a&&""!==a&&void 0!==c&&void 0!==c&&""!==c?"locale="+a+"&currency="+c+"&":"",this.createAnonToken=function(e){var t=V("dr-htc-locale-info"),n=o+"?"+i+"format=json&method=get&ThemeID="+s+"&apiKey="+void 0+"&localeInfo="+t,r=W.token;if(null===r||""===r){if(W.flag)return void W.queue.push(e);W.flag=!0,$.ajax({url:n,dataType:"jsonp",success:function(t){var n;for(W.flag=!1,W.token=t.access_token,z("dr-htc-token",t.access_token),"function"==typeof e&&e();n=W.queue.shift();)n();setTimeout((function(){W.token=""}),500)},error:function(e,t,n){W.flag=!1,console.log("createAnonToken error")}})}else"function"==typeof e&&e()},this.addToCart=function(e,t,n){this.createAnonToken((function(){var o=V("dr-htc-token"),i=r+"?me/carts/active/line-items?format=json&method=post&productId="+e+"&quantity="+t+"&token="+o;J(G)?(i=r+"?format=json&method=post&productId="+e+"&quantity="+t+"&token="+o,$.ajax({url:i,dataType:"jsonp",tryCount:0,retryLimit:3,success:function(e){if(e&&e.errors){var t="";switch(e.errors.error[0].code){case"offer-unavailable":case"inventory-unavailable-error":case"offer-not-applicable":case"invalid-product-id":t="out-of-stock"}}"function"==typeof n&&(t?n(t):n())},error:function(e,t,n){}})):console.log("not support this country "+G)}))},this.removeItemFromCart=function(e,t){this.createAnonToken((function(){var n=V("dr-htc-token"),o=r+"?me/carts/active/line-items/"+e+"?format=json&method=delete&token="+n;J(G)&&(o=r+"?productId="+e+"&format=json&method=delete&token="+n),$.ajax({url:o,dataType:"jsonp",tryCount:0,retryLimit:3,success:function(e){"function"==typeof t&&t()},error:function(e,t,n){}})}))},this.getCart=function(e){this.createAnonToken((function(){var t=V("dr-htc-token"),n=r+"?me/carts/active?format=json&expand=lineitems.lineItem.product.sku&method=get&token="+t;J(G)&&(n=r+"?format=json&expand=lineitems.lineItem.product.sku&method=get&token="+t),$.ajax({url:n,dataType:"jsonp",tryCount:0,retryLimit:3,success:function(n){if(n&&n.errors)z("dr-htc-token","");else{var i=[];n.cart.lineItems.lineItem&&(i=n.cart.lineItems.lineItem);var a=[];$.each(i,(function(e,t){var n={id:t.id,name:t.product.displayName,image:t.product.thumbnailImage,quantity:t.quantity,price:t.pricing.formattedListPriceWithQuantity,saleprice:t.pricing.formattedSalePriceWithQuantity};a[e]=n}));var c=JSON.parse(V("dr-htc-locale-info")).fiterCountry,u=r+"?me/carts/active/web-checkout?token="+t+"&ThemeID="+s;J(G)&&(u=o+"?action=checkout&token="+t+"&site="),u+=c;var l={items:a,totalItems:n.cart.totalItemsInCart,subTotal:n.cart.pricing.formattedSubtotal,checkoutURL:u};"function"==typeof e&&e(l)}},error:function(e,t,n){}})}))},this.checkout=function(){this.getCart((function(e){window.location=e.checkoutURL}))},this.getProduct=function(e,t){this.createAnonToken((function(){var n=V("dr-htc-token"),o=r+"?me/products/"+e+"?"+i+"format=json&method=get&apiKey="+void 0+"&expand=pricing,inventoryStatus";J(G)&&(o=r+"?products="+e+"&"+i+"format=json&method=get&apiKey="+void 0+"&expand=pricing,inventoryStatus&token="+n),$.ajax({url:o,dataType:"jsonp",tryCount:0,retryLimit:3,success:function(e){var n={};e.product&&(n={basePriceNumber:0,basePrice:e.product.pricing.formattedListPrice,salePriceNumber:0,salePrice:e.product.pricing.formattedSalePriceWithQuantity,overrideOutOfStock:!1,availableStock:"",inventory:parseInt(e.product.inventoryStatus.availableQuantity,10),isAvailable:e.product.inventoryStatus.productIsInStock,isBackOrder:e.product.inventoryStatus.productIsAllowsBackorders,isPreOrder:e.product.inventoryStatus.productIsAllowsBackorders}),"function"==typeof t&&t(n)},error:function(e,t,n){}})}))},this.getPrices=function(e,t){this.createAnonToken((function(){V("dr-htc-token");var n=r+"?method=get&productIds="+e.toString()+"&format=json&method=get&apiKey="+void 0+"&expand=product,pricing,product.inventoryStatus";$.ajax({url:n,dataType:"jsonp",tryCount:0,retryLimit:3,success:function(e){var n=e.products.product,r=[];if(void 0!==n&&n.length>0)for(var o=0,i=n.length;o<i;o++){var a=n[o],c=a.id.toString(),s=a.pricing.formattedListPrice;r[o]={skuId:c,price:s}}"function"==typeof t&&t(r)},error:function(e,t,n){}})}))}}W.token="",W.queue=[];var Y=W,X=function(){var e,t;switch(location.host){case"localhost":case"localhost:8080":e={zh_cn:""},t={zh_cn:""};break;default:e={zh_cn:"https://eshop.htc.com/mall/"},t={zh_cn:"https://eshop.htc.com/mall/api_vive_shopping_cart?storeId=10051"}}var n,r,o,i=!1,a="logout",c=[],s=[],u=!1,l=function(e){return function(){var t=arguments;"login"!==a?i?c.push({cb:e,arg:t}):d.login((function(){e.apply(d,t)})):e.apply(d,t)}};function d(i){return i&&"string"==typeof i&&(r=e[n=i],o=t[n]),d}function p(e,t){r="https://eshop.htc.com/mall/";var n,o=$.cookie("htc-uid");if("string"==typeof e&&"object"===$.type(t)&&("api_vive_orderitem_list"===e||"api_vive_product_detail_intro"===e||"api_user_logon"===e||"api_user_logoff"===e||"login"===a)&&r){n=t.success,p.e=t.error,delete t.success,delete t.error,t.data=$.extend({storeId:10051,verify_account:"8e5008cb-16c9-4139-b4fc-12b1fe27e76f",verify_password:"1e35e1b1-48b1-4fd1-8c3d-ff3c27c13581"},t.data),o&&(t.data.access_token=o);var c=$.extend({url:r+e,dataType:"jsonp"},t);$.ajax(c).fail(f).done((function(e){if(e.error_msg)return f();"function"==typeof n&&setTimeout((function(){n(e)}),10)})).always((function(){i=!1}))}}function f(){"function"==typeof p.e&&setTimeout((function(){p.e(arguments),p.e=null}),10)}return d.getProductList=l((function(e,t){p("api_vive_product_detail_intro",{data:{product_id:e},success:function(e){"function"==typeof t&&t(e)}})})),d.getProduct=function(e,t){u?s.push({args:[e,t]}):(u=!0,p("api_vive_product_detail_intro",{data:{product_id:e},success:function(e){u=!1;var n={basePriceNumber:0,basePrice:"￥ "+numeral(Number(e.list_price)).format("0,0"),salePriceNumber:0,salePrice:"￥ "+numeral(Number(e.offer_price)).format("0,0"),overrideOutOfStock:!1,availableStock:"",inventory:parseInt(e.inventory,10),isAvailable:!!+e.inventory,isBackOrder:!1,isPreOrder:!1};"function"==typeof t&&t(n),(e=s.shift())&&d.getProduct.apply(d,e.args)}}))},d.getCart=function(e){clearTimeout(d.tid),d.tid=setTimeout((function(){var t=$.cookie("htc-account-token"),n=$.cookie("htc-uid");t&&n&&function(e){o="https://eshop.htc.com/mall/api_vive_shopping_cart?storeId=10051",p("api_vive_orderitem_list",{success:function(t){var n=[];t.order_items&&$.each(t.order_items,(function(e,t){n.push({id:t.orderitem_id,name:t.orderitem_name,image:t.orderitem_image,quantity:t.orderitem_quantity,price:t.orderitem_price,saleprice:t.orderitem_total_price})}));t={items:n,totalItems:t.order_product_count,subTotal:t.order_total_price,checkoutURL:o,orderId:t.order_id};"function"==typeof e&&e(t)}})}(e)}),300)},d.addToCart=l((function(e,t,n){p("api_vive_product_add_cart",{data:{sku_id:e,quantity:t},success:function(e){if(e&&e.error_msg){var t="";switch(e.error_msg){case"The inventory of product is not enough.":case"The orderitem will exceed the maximum number of the product or system.":t="out-of-stock"}}"function"==typeof n&&(t?n(t):n())}})})),d.removeItemFromCart=l((function(e,t){u?s.push({args:[e,t]}):(u=!0,p("api_orderitem_operate",{data:{orderitem_id:e,action:"remove"},success:function(){u=!1,"function"==typeof t&&t();var e=s.shift();e&&d.removeItemFromCart.apply(d,e.args)}}))})),d.login=function(e){var t,n,r,o;if("login"!==a){if(r=$.cookie("htc-account-token"),o=$.cookie("htc-uid"),!r||!o)return n="https://"+(t=window.location).host+"/us/ssologin?action=login&prevUrl="+encodeURIComponent(t.href),void(t.href=n);i||(i=!0,p("api_user_logon",{data:{AuthKey:r},success:function(t){var n;for("success"===t.message&&(a="login",i=!1),"function"==typeof e&&e();c.length;)(n=c.shift()).cb.apply(d,n.arg)}}))}else"function"==typeof e&&e()},d.logout=function(e){p("api_user_logoff",{success:function(t){"success"===t.message&&(a="logout"),"function"==typeof e&&e(),c=[]}})},d.checkout=function(){o&&(window.location.href=o)},d.createAnonToken=function(e){d.login(e)},d.status=function(){return a},d}();function Z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ee(e,t,n){var r=t.get(e);if(!r)throw new TypeError("attempted to set private field on non-instance");if(r.set)r.set.call(e,n);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=n}return n}function te(e,t){var n=t.get(e);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(e):n.value}var ne=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),re.set(this,{writable:!0,value:void 0}),te(this,re),this.setup()}var t,n,r;return t=e,(n=[{key:"setup",value:function(){var e=E();if(e){var t=e.cartProviderType;t.includes("DIGITAL_RIVER")?ee(this,re,new B(e.ecLocale,e.currency,e.themeId)):t.includes("MAGENTO_ONE")?ee(this,re,new Y(e.ecLocale,e.currency,e.themeId)):t.includes("WCS")?ee(this,re,new X):t.includes("MAGENTO")&&ee(this,re,new N(e.storeLocale))}}},{key:"returnProductInfo",value:function(e,t){te(this,re).getProduct(e,(function(e){t(e)}))}},{key:"addToCart",value:function(e,t,n){te(this,re).addToCart(e,t,(function(e){n(e)}))}},{key:"removeItemFromCart",value:function(e,t){te(this,re).removeItemFromCart(e,(function(){t()}))}},{key:"getCart",value:function(e){try{te(this,re).getCart((function(t){e(t)}))}catch(e){console.warn("Please setup cart provider")}}}])&&Z(t.prototype,n),r&&Z(t,r),e}(),re=new WeakMap,oe=ne,ie=function(e,t){document.getElementsByTagName("header")[0];var n=document.querySelector(".nav20-center-content"),r=document.querySelector(".nav20-mini-cart"),o=document.querySelector(".nav20-account-info"),i=[n,r,o],a={toolItem:!1,menuMode:!1};switch(e){case"header-menu":a.toolItem=n,a.menuMode=!0;break;case"cart":a.toolItem=r,a.menuMode=!0;break;case"account":a.toolItem=o}i.forEach((function(e){e&&e!==a.toolItem&&(e.classList.remove("active"),document.body.classList.remove("nav20-menu-mode","nav20-menu-mode--menu"))})),e&&(a.toolItem.classList.contains("active")&&!0!==t?(a.toolItem.classList.remove("active"),document.body.classList.remove("nav20-menu-mode","nav20-menu-mode--menu")):a.toolItem.classList.contains("active")&&!0!==t||(a.toolItem.classList.add("active"),a.menuMode&&(document.body.classList.add("nav20-menu-mode"),a.toolItem===n&&document.body.classList.add("nav20-menu-mode--menu"))))};function ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ce=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ecCartProviderApi=new oe,this.miniCart=document.querySelector(".nav20-mini-cart"),this.miniCartContent=document.querySelector(".nav20-mini-cart .nav20-mini-cart-content"),this.miniCartList=document.querySelector(".nav20-mini-cart-list"),this.miniCartQuantity=document.querySelector(".nav20-mini-cart-quantity"),this.init=this.init.bind(this),this.buildCartHtml=this.buildCartHtml.bind(this),this.settingForCartHasItem=this.settingForCartHasItem.bind(this),this.settingForCartEmpty=this.settingForCartEmpty.bind(this),this.checkShoppingCart=this.checkShoppingCart.bind(this),this.checkShoppingCartAndDisplayList=this.checkShoppingCartAndDisplayList.bind(this),this.displayMiniCartList=this.displayMiniCartList.bind(this),this.hideMiniCartList=this.hideMiniCartList.bind(this),this.bindCartClick=this.bindCartClick.bind(this)}var t,n,r;return t=e,(n=[{key:"init",value:function(){this.miniCart&&(this.bindCartClick(),this.checkShoppingCart())}},{key:"buildCartHtml",value:function(e){if(void 0!==e.items&&e.items.length>0){var t="",n=0;e.items.slice(0).reverse().map((function(e,r){n+=e.quantity,t+='\n          <div class="nav20-mini-cart-item">\n            <div class="nav20-mini-cart-item-left">\n              <img src="'.concat(e.image,'" alt=""/>\n            </div>\n            <div class="nav20-mini-cart-item-right">\n              <div class="nav20-mini-cart-item-right-top">\n                ').concat(e.name,'\n              </div>\n              <div class="nav20-mini-cart-item-right-bottom">\n                <div class="nav20-mini-cart-qty">\n                  x').concat(e.quantity,'\n                </div>\n                <div class="nav20-mini-cart-price">\n                  ').concat(e.saleprice,"\n                </div>\n              </div>\n            </div>\n          </div>\n        ")})),this.miniCartList.innerHTML=t,this.miniCartQuantity.innerHTML=n,this.settingForCartHasItem();var r=this.miniCartContent.querySelector(".nav20-check-out");r&&r.addEventListener("click",(function(t){t.preventDefault(),window.location.href=e.checkoutURL}))}else this.settingForCartEmpty()}},{key:"settingForCartHasItem",value:function(){this.miniCart&&this.miniCart.classList.add("has-items")}},{key:"settingForCartEmpty",value:function(){this.miniCart&&this.miniCart.classList.remove("has-items")}},{key:"displayMiniCartList",value:function(){console.log("displayMiniCartList")}},{key:"hideMiniCartList",value:function(){console.log("hideMiniCartList")}},{key:"checkShoppingCartAndDisplayList",value:function(){var e=this;this.ecCartProviderApi.getCart((function(t){e.buildCartHtml(t),e.displayMiniCartList()}))}},{key:"checkShoppingCart",value:function(){var e=this;this.ecCartProviderApi.getCart((function(t){e.buildCartHtml(t)}))}},{key:"bindCartClick",value:function(){var e=this.miniCart.querySelector(".nav20-toggle-btn");if(e){var t=function(){ie("cart")};e.removeEventListener("click",t),e.addEventListener("click",t)}}}])&&ae(t.prototype,n),r&&ae(t,r),e}(),se={vn:["shopee.vn","tiki.vn"],nz:["www.pbtech.co.nz"],th:["vive.beyondgodlike.net"],"my-en":["www.11street.my","www.lazada.com.my","www.shopee.com.my","shopee.com.my"],tw:[],hk:["www.hktshop.com"],in:["www.amazon.in"],sg:["www.hktshop.com","shop.beyondgeek.sg"],ua:["www.moyo.ua"]},ue={cn:["hmsr","hmpl","hmcu","hmkw"]},le=[{hostPattern:/enterprise/,checkList:[{urlPattern:/#sign-in/,replaceURL:"http://enterprise.vive.com/portal/"}]}],de=function(e,t,n,r){return!function(e){return/^(?:[a-zA-Z]+:)?\/\/|^#|^JavaScript/i.test(e)}(e)&&n.test(t)?"".concat(r).concat(/^\//.test(e)?"":"/").concat(function(e){if("/"!==window.location.pathname&&e){for(var t=window.location.pathname.replace(/^\/|\/$/g,"").split("/"),n=t.length,r=/\.{2}\//g,o=null!==e.match(r)?n-e.match(r).length:0,i=e.replace(r,""),a=0;a<o;a+=1)i="".concat(t[a],"/").concat(i);return i}return e}(e)):e},pe=function(e,t,n){for(var r=0;r<t.length;r+=1)if(e.indexOf(t[r])>-1){alert(n);break}},fe=function(e,t){for(var n=0;n<le.length;n+=1)if(le[n].hostPattern.test(t))for(var r=le[n].checkList,o=0;o<r.length;o+=1)if(r[o].urlPattern.test(e))return r[o].replaceURL;return e},me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href,t=e.split("?")[1];return t?t.split("&").map((function(e){var t=e.split("=");return{key:t[0],val:t[1]}})):[]},he=function(e,t,n,r){var o=me(document.location.href),i=ue[r]||[],a=t.test(e)?[n]:[];return o.map((function(e){i.indexOf(e.key)>-1&&a.push("".concat(e.key,"=").concat(e.val))})),function(e,t){var n=e.split("?"),r=n[1]?n[1].split("&"):[],o=p()(r,t);return o.length>0?"".concat(n[0],"?").concat(o.join("&")):e}(e,a)},ve=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=document.body.getAttribute("data-site")||document.documentElement.getAttribute("data-site"),i="gl=".concat(o),a=/www\.viveport\.com/,c=/developer\.viveport\.com/,s="https://www.vive.com",u=se[o]||[],l=he(e,a,i,o);return l=de(l,t,c,s),l=fe(l,t),n&&pe(l,u,r),l},ye=function(e){var t=document.createElement("a");return t.href=e,t},ge=function(e,t){var n=e.split("."),r=t.split(".");return n.pop(),r.pop(),n.pop()===r.pop()},be=function(e,t,n){if(function(e){return e.isTrusted||e.screenX&&e.screenY}(e))for(var r=e.path||e.composedPath&&e.composedPath()||function(e){for(var t=[],n=e;n;){if(t.push(n),"HTML"===n.tagName)return t.push(document),t.push(window),t;n=n.parentElement}return""}(e.target),o=0;o<r.length;o+=1){var i=r[o].tagName.toLowerCase();if("a"===i){var a=r[o].getAttribute("href");a&&r[o].setAttribute("href",ve(a,document.location.host,t,n));break}if("body"===i)break}};function Se(e){return function(e){if(Array.isArray(e))return ke(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ke(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ke(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ke(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function we(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ae=function(){var e,t="";switch(document.location.host){case"preview-web.vive.com":case"cms.vive.com":case"origin-web.vive.com":case"www.vive.com":case"preview-developer.vive.com":case"developer-cms.vive.com":case"origin-developer.vive.com":case"developer.vive.com":case"preview-vivex.vive.com":case"vivex-cms.vive.com":case"origin-vivex.vive.com":case"vivex.vive.com":case"preview-enterprise.vive.com":case"enterprise-cms.vive.com":case"origin-enterprise.vive.com":case"enterprise.vive.com":case"preview-www.htc.com":case"cms.htc.com":case"origin-web.htc.com":case"www.htc.com":case"htc-cms.htc.com":case"preview-web.htc.com":case"myhtcstore.vive.com":case"myhtcstore.htc.com":t="prod";break;default:t=!0===(e=!1,["demo-","stage-","dev-","dev2-","dev3-"].map((function(t){document.location.host.indexOf(t)>-1&&(e=!0)})),e)?"stag":"other"}return t},Ce=new Promise((function(e,t){if("other"!==Ae()){!function(){switch(Ae()){case"prod":window.HTCAccountHost="account.htcvive.com";break;default:window.HTCAccountHost="account-stage.htcvive.com"}}();var n=document.createElement("script");document.body.appendChild(n),n.onload=e,n.onerror=t,n.async=!0,n.src="https://".concat(window.HTCAccountHost,"/htcaccount.js")}else document.querySelector(".nav20-right-content .nav20-account-info").style.display="none",document.querySelector(".nav20-main-list-content .nav20-list--right").style.display="none"})),_e=function(){function e(t,n,r,o,i){var a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Ie(this,"myOrderLink",void 0),Ie(this,"myAccountLink",void 0),Ie(this,"myUserHtml",void 0),this.instance=t,this.mobileInstance=n,this.header=o,this.isInitial=!1,this.ecCartProviderApi=new oe,this.buildCartHtml=this.buildCartHtml.bind(this),this.t=i||C({}),this.userInfo={isFetching:!1,isLogin:!1,FirstName:"",LastName:""},this.toggleBtn=document.createElement("div"),this.loginHtml=document.createElement("div"),this.logoutHtml=document.createElement("div"),this.toggleBtn.classList.add("nav20-toggle-btn"),this.loginHtml.classList.add("nav20-account-content"),this.logoutHtml.classList.add("nav20-account-content"),this.loginHtml.innerHTML='\n      <div class="nav20-btn-content">\n        <button type="button" aria-label="Sign in" class="vive20-btn nav20-login-button">\n          '.concat(this.t("sign-in"),"\n        </button>\n      </div>  \n    "),this.logoutHtml.innerHTML='\n      <div class="nav20-account-list">\n        <div class="nav20-account-user">\n        </div>\n        '.concat("None"!==r.myAccountLink&&r.myAccountLink?'<a class="nav20-account-item" href="'.concat(r.myAccountLink,'">\n            ').concat(this.t("my-account"),"\n          </a>"):"","\n        ").concat("None"!==r.myOrderLink&&r.myOrderLink?'<a class="nav20-account-item nav20-account-checkout" href="'.concat(r.myOrderLink,'">\n            ').concat(this.t("my-order"),"\n          </a>"):"","\n        ").concat("None"!==r.myUserHtml&&r.myUserHtml?"".concat(r.myUserHtml):"",'\n      </div>\n      <div class="nav20-btn-content">\n        <button type="button" aria-label="Sign out" class="vive20-btn nav20-logout-button">\n          ').concat(this.t("sign-out"),"\n        </button>\n      </div>  \n    "),this.mAccountTitle=document.createElement("div"),this.mLoginHtml=document.createElement("div"),this.mLogoutHtml=document.createElement("div"),this.mAccountTitle.classList.add("nav-link","account-title"),this.mLoginHtml.classList.add("nav20-link-2-content"),this.mLogoutHtml.classList.add("nav20-link-2-content"),this.mAccountTitle.innerHTML='\n      <div class="avatar"></div>\n      <div class="account-name"></div>\n    ',this.mLoginHtml.innerHTML='\n      <div class="nav20-link-2-item">\n          <a class="nav20-link-2 nav20-txt-series nav20-m-login-button"\n              href="#"\n              target=\'_self\'\n          >\n              <span>'.concat(this.t("sign-in"),"</span>\n          </a>\n      </div>\n    "),this.mLogoutHtml.innerHTML="\n      ".concat("None"!==r.myAccountLink&&r.myAccountLink?'<div class="nav20-link-2-item">\n          <a class="nav20-link-2 nav20-txt-series" href="'.concat(r.myAccountLink,'">\n            <span>').concat(this.t("my-account"),"</span>\n          </a>\n        </div>"):"","\n      ").concat("None"!==r.myOrderLink&&r.myOrderLink?'<div class="nav20-link-2-item">\n          <a class="nav20-link-2 nav20-txt-series nav20-account-checkout" href="'.concat(r.myOrderLink,'">\n              <span>').concat(this.t("my-order"),"</span>\n          </a>\n        </div>"):"","\n      ").concat("None"!==r.myUserHtml&&r.myUserHtml?"".concat(r.myUserHtml):"",'\n      <div class="nav20-link-2-item">\n        <a class="nav20-link-2 nav20-txt-series nav20-m-logout-button" href="#">\n            <span>').concat(this.t("sign-out"),"</span>\n        </a>\n      </div>\n    "),this.userIcon=this.header.querySelector(".nav20-account-info"),this.loginBtn=this.loginHtml.querySelector(".nav20-login-button"),this.logoutBtn=this.logoutHtml.querySelector(".nav20-logout-button"),this.mLoginBtn=this.mLoginHtml.querySelector(".nav20-m-login-button"),this.mLogoutBtn=this.mLogoutHtml.querySelector(".nav20-m-logout-button"),this.mLAccountName=this.header.querySelector(".nav20-link-1-item--mobile .nav20-link-1 span"),this.toggleBtn.onclick=function(){ie("account")},this.login=this.login.bind(this),this.logout=this.logout.bind(this),Ce.then((function(){var e="377c3fd9-7159-4418-b82a-beafbefb5e37";document.location.host.indexOf(".vive.com")>0&&(e="4bc0c644-abf9-4f22-abe5-446f1e84ae34"),HTCAccount.init({appid:e,scope:"email"}),a.isInitial=!0,a.userInfo.isFetching=!0,a.update(),HTCAccount.getLoginStatus((function(e){if("connected"===e.status){HTCAccount.getProfileV4(["id","accountEmail","isVerified","firstName","lastName","sendEmailAboutViveProducts","languageCode","contactEmailAddress","profilePicture"],(function(e){Object.assign(a.userInfo,e,{isLogin:!0,isFetching:!1}),a.update()}),(function(){a.userInfo.isFetching=!1,a.update()}))}else a.userInfo.isFetching=!1,a.update()})),a.loginBtn.onclick=function(){a.login()},a.logoutBtn.onclick=function(){a.logout()},a.mLoginBtn.onclick=function(){a.login()},a.mLogoutBtn.onclick=function(){a.logout()}})).catch((function(e){})),this.update()}var t,n,r;return t=e,(n=[{key:"buildCartHtml",value:function(e){Se(this.header.querySelectorAll(".nav20-account-checkout")).map((function(t){t.classList.contains("linked")||(t.classList.add("linked"),t.addEventListener("click",(function(t){t.preventDefault(),window.location.href=e.checkoutURL})))}))}},{key:"login",value:function(){if(this.isInitial){var e={type:"redirect",next_url:document.location.pathname};HTCAccount.login((function(){}),e)}}},{key:"logout",value:function(){var e=this;return new Promise((function(t){var n=t.resolve;e.isInitial&&HTCAccount.logout((function(){e.userInfo.isLogin=!1,e.update(),n()}))}))}},{key:"update",value:function(){this.userInfo.isFetching?(this.instance.classList.add("is-fetching"),this.mobileInstance.classList.add("is-fetching")):(this.instance.classList.remove("is-fetching"),this.mobileInstance.classList.remove("is-fetching")),this.userInfo.isLogin?this.loginContent():this.logoutContent()}},{key:"loginContent",value:function(){var e=this.t("hi-user").replace("{firstName}",this.userInfo.firstName);this.mLAccountName.innerText=e,this.userIcon.classList.add("nav20-logged"),this.instance.contains(this.toggleBtn)||this.instance.append(this.toggleBtn),this.instance.contains(this.loginHtml)&&this.instance.removeChild(this.loginHtml),this.instance.append(this.logoutHtml),this.instance.querySelector(".nav20-account-list .nav20-account-user").innerText=e,this.mobileInstance.contains(this.mLoginHtml)&&this.mobileInstance.removeChild(this.mLoginHtml),this.mobileInstance.append(this.mLogoutHtml),this.ecCartProviderApi.getCart((function(e){}))}},{key:"logoutContent",value:function(){var e=this.t("my-account");this.mLAccountName.innerText=e,this.userIcon.classList.remove("nav20-logged"),this.instance.contains(this.toggleBtn)||this.instance.append(this.toggleBtn),this.instance.contains(this.logoutHtml)&&this.instance.removeChild(this.logoutHtml),this.instance.append(this.loginHtml),this.mobileInstance.contains(this.mLogoutHtml)&&this.mobileInstance.removeChild(this.mLogoutHtml),this.mobileInstance.append(this.mLoginHtml)}}])&&we(t.prototype,n),r&&we(t,r),e}();function Te(e){return function(e){if(Array.isArray(e))return Pe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Pe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pe(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Oe=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.menuClassPath=t,this.toggleCallBack=n,this.i18n=r,this.t=r?r.t.bind(r):null,this.initMobileMenu(),this.instance=document.getElementsByTagName("header")[0],this.accountInstance=this.instance.querySelector(".nav20-desktop-menu .nav20-right-item"),this.accountMobileInstance=this.instance.querySelector(".nav20-desktop-menu .nav20-link-1-item--mobile"),this.dataArrtibute=_(this.instance),this.accountInstance&&(this.ssoLogin=new _e(this.accountInstance,this.accountMobileInstance,this.dataArrtibute,this.instance,this.t))}var t,n,r;return t=e,(n=[{key:"initMobileMenu",value:function(){var e=function(){return window.innerWidth<992},t=document.querySelector(".js-nav20-menu-toggle-btn"),n=document.querySelector(this.menuClassPath),r=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(r,"px")),window.addEventListener("resize",(function(){var e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(e,"px"))})),3===window.location.pathname.split("/").length&&e()&&Te(n.querySelectorAll(".nav20-link-1-item")).map((function(e){"product"===e.querySelector(".nav20-link-1").pathname.split("/")[2]&&e.classList.add("selected")}));var o=function(t){if(e()){t.preventDefault();var n=t.currentTarget.parentNode.classList.contains("selected");Te(document.querySelectorAll(".nav20-link-1-item.selected")).map((function(e){e.classList.remove("selected")})),n||t.currentTarget.parentNode.classList.add("selected")}},i=document.querySelectorAll(".nav20-sub-link");i.length>0&&Te(i).map((function(e){e.addEventListener("click",o)}));var a=function(t){e()&&(t.preventDefault(),t.currentTarget.parentNode.querySelector(".nav20-link-3-content").classList.toggle("active"))},c=document.querySelectorAll(".nav20-sun-link");c.length>0&&Te(c).map((function(e){e.addEventListener("click",a)}));var s=function(e){var t=n.querySelector(".nav20-link-3-content.active");t&&t.classList.remove("active")},u=document.querySelectorAll(".nav20-sun-close");u.length>0&&Te(u).map((function(e){e.addEventListener("click",s)})),t&&(window.addEventListener("resize",(function(t){e()||n.querySelector(".nav20-center-content").classList.remove("mobile-ready")})),t.onclick=function(){n&&(ie("header-menu"),n.querySelector(".nav20-center-content").classList.add("mobile-ready"),s())}),window.addEventListener("click",(function(e){document.getElementsByTagName("header")[0].contains(e.target)&&!document.querySelector(".nav20-search-content").querySelector(".toggle-button").contains(e.target)||ie()}))}}])&&Ee(t.prototype,n),r&&Ee(t,r),e}();function Le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var je=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Le(this,"setupFooterCategoryClick",(function(){for(var e=document.querySelectorAll(".footer .nav20-footer-link-1-item"),t=function(t){var n=e[t];n.querySelector(".nav20-footer-link-1").onclick=function(e){window.innerWidth<992&&n.classList.toggle("selected")}},n=0;n<e.length;n+=1)t(n)})),Le(this,"setupRegionSwitchSelector",(function(){var e=document.getElementById("language");e&&(e.onchange=function(){window.location.href="/".concat(e.value,"/")})})),this.setupFooterCategoryClick(),this.setupRegionSwitchSelector()},xe=(n(579),n(84)),De=n.n(xe),Ne={apiKey:"6dfc6709a0cea8e628187b9d7991f32c",appId:"DAKWH4P7PR",hitsPerPage:10,hitsPerSummary:3,descTextLimit:180},Re={vive:{searchIndicesList:["product","vivePort","blog","support","arts"],searchIndices:{vivePort:{i18nKey:"section-vive-port",isSelected:!1,hits:0,src:"viveport",version:"v1"},product:{i18nKey:"section-product",isSelected:!1,hits:0,src:"viveproduct",version:"v2"},support:{i18nKey:"section-support",isSelected:!1,hits:0,src:"vivesupport",version:"v1"},blog:{i18nKey:"section-blog",isSelected:!1,hits:0,src:"viveblog",version:"v1"},arts:{i18nKey:"section-art",isSelected:!1,hits:0,src:"arts",version:"v1"}}},viveBlog:{searchIndicesList:["blog"],searchIndices:{blog:{i18nKey:"section-blog",isSelected:!1,hits:0,src:"viveblog",version:"v1"}}},htc:{searchIndicesList:["product","magento","support"],searchIndices:{product:{i18nKey:"section-product",isSelected:!1,hits:0,src:"htcproduct",version:"v1"},support:{i18nKey:"section-support",isSelected:!1,hits:0,src:"htcsupport",version:"v1"},blog:{i18nKey:"section-blog",isSelected:!1,hits:0,src:"htcblog",version:"v1"},magento:{i18nKey:"section-magento",isSelected:!1,hits:0,src:"magento2",version:"products"}}},exodus:{searchIndicesList:["support"],searchIndices:{support:{i18nKey:"section-support",isSelected:!1,hits:0,src:"exodussupport",version:"v1"}}}},qe={getUserLangLocale:{url:function(e){return"/rest/ecmapping/".concat(e["site-id"],"/locale/")},option:{method:"GET"}},searchWebContent:{url:function(e){return"https://".concat(Ne.appId,"-dsn.algolia.net/1/indexes/*/query")},option:{method:"POST",headers:{"x-algolia-api-key":Ne.apiKey,"x-algolia-application-id":Ne.appId}}},getSchedulerTypes:{url:function(e){return"".concat(document.location.origin,"/rest/scheduler-types/")},option:{method:"GET"}},querySchedulersList:{url:function(e){return"".concat(document.location.origin,"/rest/schedulers/")},option:{method:"GET"}},querySlugData:{url:function(e){return"".concat(document.location.origin,"/rest/product/")},option:{method:"GET"}},queryCampaignGroup:{url:function(e){return"".concat(document.location.origin,"/campaign/group/").concat(e.groupName,"/campaigns/")},option:{method:"GET"}},submitUserInfo:{url:function(e){return"https://customer-api.vive.com/infocollector/v1/collector"},option:{method:"POST",headers:{"x-api-key":"Wjcwo64WLc2AgJOdpAIBM1vH9GxQQdBR7c7jZBhH"}}},thumbup:{url:function(e){return"/rest/support/".concat(e.siteID,"/thumbup/")},option:{method:"POST",headers:{"Content-Type":"application/json"}}},comment:{url:function(e){return"https://obfs94zt33.execute-api.us-west-2.amazonaws.com/rest/support/".concat(e.siteID,"/comment/")},option:{method:"POST",headers:{"Content-Type":"application/json"}}},queryCart:{url:function(e){return"".concat(e.cart,"/api/minicart/")},option:{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}}},deleteCartItem:{url:function(e){return"".concat(e.cart,"/api/minicart/delete/product/").concat(e.pid)},option:{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}}},getProductList:{url:function(e){return"/rest/products/"}},getProductsInfo:{url:function(e){return"".concat(e.product,"/prodinfo")},option:{method:"POST",headers:{"Content-Type":"application/json","x-api-key":"H94oUT60oAaI9flkZeu156dDq5iNvpkt6Omljw3Q"}}},getDRProductsInfo:{url:function(e){return"".concat(e.product)},option:{method:"GET",headers:{"Content-Type":"application/json"}}},getStayUpdateCountries:{url:function(e){return"/rest/stayupdate/countries/?site=".concat(e["site-id"])},option:{method:"GET"}}};function Ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}window.Promise||(window.Promise=De.a);var He={method:"GET",headers:{},mode:"cors"},Me=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"sendRequest",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign({},He,qe[e].option),r=qe[e].url(t);switch("getProductsInfo"===e&&(n.headers["x-api-key"]=t.productKey),n.method){case"POST":t.data&&(n.body=JSON.stringify(t.data));break;case"GET":if(t.params){var o=t.params.map((function(e){return"".concat(e.key,"=").concat(encodeURIComponent(e.value))}));r="".concat(r,"?").concat(o.join("&"))}}return new De.a((function(e){fetch(r,n).then((function(t){t.ok&&t.json().then((function(t){e(t)})).catch((function(e){return console.error(e)}))})).catch((function(e){return console.error(e)}))}))}}])&&Ue(t.prototype,n),r&&Ue(t,r),e}());function Be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Fe=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.initStayUpdatedForm()}var t,n,r;return t=e,r=[{key:"submitUserInfo",value:function(e,t,n,r){var o={email:e,country:t,source:n,body:r};Me.sendRequest("submitUserInfo",{data:o}).then((function(e){var t=document.querySelector("#js-stay-uptodate .vive-form"),n=t.querySelector(".js-btn-submit");n.querySelector(".fa").classList.remove("fa-circle-o-notch","fa-spin"),200===e.statusCode&&(n.querySelector(".fa").classList.add("fa-check"),t.classList.add("is-subscribed"))}))}}],(n=[{key:"initStayUpdatedForm",value:function(){var t=document.getElementById("js-stay-uptodate");if(t){"true"!==t.querySelector(".container").getAttribute("keep-position")&&t.parentNode.appendChild(t);var n=t.querySelector(".form-select"),r=t.querySelector(".form-check input[type=checkbox][name=product_inform_checkbox]"),o=t.querySelector(".form-check input[type=checkbox][name=notify_me_checkbox]"),i=t.querySelector(".js-btn-submit"),a=t.querySelector("input[type=email]"),c=!!r&&"true"===r.getAttribute("initial-checked"),s=!!o&&"true"===o.getAttribute("initial-checked");r||(c=!!(r=t.querySelector(".form-check input[type=checkbox]"))&&"true"===r.getAttribute("initial-checked")),r.checked=c,o&&(o.checked=s),i.disabled=!(c||s),function(){var e=document.querySelector("#js-stay-uptodate .submit-popup-subscription-btn");e&&(e.classList.contains("modal-stay-update")&&(e.remove(),e=document.querySelector(".submit-modal-subscription-btn")),e&&e.addEventListener("click",(function(e){e.preventDefault(),document.querySelector("body").classList.add("show-popup-stay-uptodate")})));var t=document.querySelector("#js-stay-uptodate .close-popup-subscription-btn");null!==t&&t.addEventListener("click",(function(e){e.preventDefault(),document.querySelector("body").classList.remove("show-popup-stay-uptodate")}))}();var u=document.body.getAttribute("data-site")||document.documentElement.getAttribute("data-site");Me.sendRequest("getStayUpdateCountries",{"site-id":u}).then((function(e){for(var t in e.results){var r=e.results[t],o=document.createElement("option");o.setAttribute("value",r.language),o.innerText=r.display_label,n.querySelector("select").appendChild(o)}})),r&&(r.onclick=function(e){var n=t.querySelectorAll(".form-check input[type=checkbox]:checked");i.disabled=!(n.length>0)}),o&&(o.onclick=function(e){var n=t.querySelectorAll(".form-check input[type=checkbox]:checked");i.disabled=!(n.length>0)}),i.onclick=function(c){c.preventDefault();var s=a.value,u=n.querySelector("select").value,l=!1,d=!0,p="VIVE.com",f="VIVE",m="VIVE",h=t.querySelector(".scv_optin"),v=t.querySelector(".scv_purchased_products"),y=t.querySelector(".scv_newsletter"),g=document.body.getAttribute("data-site")||document.documentElement.getAttribute("data-site"),b=window.location.href,S=t.querySelector("input.scv_business_unit"),k=t.querySelector("input.scv_program");h&&r&&("VIVE"===h.value?(d=r.checked,l=!1,p="VIVE.com"):"HTC"===h.value?(l=r.checked,d=!1,p="HTC.com"):"BOTH"===h.value&&(l=r.checked,d=r.checked)),null!==v&&""!==v.value&&(m=v.value),null!==y&&(f=y.value);var w={opt_in_htc:r&&l?"TRUE":null,opt_in_vive:r&&d?"TRUE":null,opt_in_status:o&&o.checked?"TRUE":null,newsletter:f.toUpperCase(),purchased_products:m.toUpperCase(),business_unit:S?S.value.toUpperCase():null,program:k?k.value.toUpperCase():null,region:g.toUpperCase(),referral:b};T(s)?a.classList.remove("is-invalid"):a.classList.add("is-invalid"),u?n.classList.remove("is-invalid"):n.classList.add("is-invalid"),T(s)&&u&&(a.disabled=!0,n.querySelector("select").disabled=!0,i.disabled=!0,r&&(r.disabled=!0),o&&(o.disabled=!0),i.querySelector(".fa").classList.add("fa-circle-o-notch","fa-spin"),e.submitUserInfo(s,u,p,w))}}}}])&&Be(t.prototype,n),r&&Be(t,r),e}(),Qe=n(0),Ge=n.n(Qe);function Je(e){return(Je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ke(e,t){return!t||"object"!==Je(t)&&"function"!=typeof t?ze(e):t}function ze(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ve(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function We(e){return(We=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ye(e,t){return(Ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Xe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ye(e,t)}(c,e);var t,n,r,i,a=(t=c,function(){var e,n=We(t);if(Ve()){var r=We(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return Ke(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=a.call(this,e)).state={isDisabled:!1,isOpen:!1,selectedLabel:t.props.options[0]?t.props.options[0].label:""},t.mouseOnMenu=!1,t.menuToogle=t.menuToogle.bind(ze(t)),t.menuMouseOverToogle=t.menuMouseOverToogle.bind(ze(t)),t.clickTrigger=t.clickTrigger.bind(ze(t)),t.listItem=t.listItem.bind(ze(t)),t.setSelectedLabel=t.setSelectedLabel.bind(ze(t)),t.onChangeFn=t.onChangeFn.bind(ze(t)),t}return n=c,(r=[{key:"componentDidMount",value:function(){document.addEventListener("click",this.clickTrigger)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.clickTrigger)}},{key:"disable",value:function(){this.setState({isDisabled:!0})}},{key:"enable",value:function(){this.setState({isDisabled:!1})}},{key:"clickTrigger",value:function(){this.mouseOnMenu||this.menuToogle()}},{key:"menuToogle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.setState({isOpen:e})}},{key:"menuMouseOverToogle",value:function(e){this.mouseOnMenu=e}},{key:"setSelectedLabel",value:function(e){var t=this.props.options.filter((function(t){return t.value===e})),n=t.length>0?t[0].label:e;this.setState({selectedLabel:n})}},{key:"listItem",value:function(e){var t=this;return o.a.createElement("li",{key:e.value,className:"dropdown-item"},o.a.createElement("div",{onClick:function(n){n.preventDefault(),t.onChangeFn(e)}},e.label))}},{key:"onChangeFn",value:function(e){this.setSelectedLabel(e.label),this.props.onChangeFn(e.value),this.menuToogle()}},{key:"render",value:function(){var e=this,t=this.props,n=t.options,r=t.iconClass,i=t.menuRender,a=this.state,c=a.isOpen,s=a.isDisabled,u=this.props.selectedLabel||this.state.selectedLabel,l=i?i(this.props,this.onChangeFn):n.map((function(t){return e.listItem(t)})),d="dropdown ".concat(c?"show":""),p="dropdown-menu ".concat(c?"show":"");return o.a.createElement("div",{className:d,onMouseOver:function(t){e.menuMouseOverToogle(!0)},onMouseOut:function(t){e.menuMouseOverToogle(!1)}},o.a.createElement("button",{type:"button",className:"btn btn-dropdown dropdown-toggle",onClick:function(t){t.preventDefault(),e.menuToogle(!c)},disabled:s},r&&o.a.createElement("i",{className:r,"aria-hidden":"true"})," ".concat(u," ")),o.a.createElement("ul",{className:p},l))}}])&&$e(n.prototype,r),i&&$e(n,i),c}(o.a.PureComponent);Xe.defaultProps={},Xe.propTypes={};var Ze=Xe;var et={articleId:"",entryPath:""},tt=function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.instance=t,this.supportDetail=this.instance.querySelector(".support-detail"),this.commentPanel=this.instance.querySelector(".comment-panel"),this.supportMenu=this.instance.querySelector(".support-menu"),this.userGuideSelectBtn=this.instance.querySelector(".user-guide-select-btn");var r,i,c="undefined"!=typeof PAGEINFO?PAGEINFO:et,s=c.articleId,u=c.entryPath.split("/")[2],l=document.body.getAttribute("data-site")||document.documentElement.getAttribute("data-site");if(this.supportDetail){var d=this.supportDetail.querySelector(".support-menu-toogle-btn");if(document.body.classList.add("support-page"),d.onclick=function(){n.supportDetail.classList.toggle("menu-mode")},s){var p="/rest/support/".concat(l,"/view/").concat(u,"/").concat(s,"/");if(fetch(p),this.commentPanel){var f=this.commentPanel.querySelector(".btn-no"),m=this.commentPanel.querySelector(".btn-yes"),h=this.commentPanel.querySelector(".btn-submit"),v=this.commentPanel.querySelector(".comment-dialog"),y=this.commentPanel.querySelector(".comment-box"),g=this.commentPanel.querySelector(".comment-result"),b=this.commentPanel.querySelector(".comment-box textarea"),S=function(e){var t,n={method:"POST",headers:new Headers({"Content-Type":"application/json"})};switch(e){case"yes":t="/rest/support/".concat(l,"/thumbup/"),n.body=JSON.stringify({article_id:s,product:u});break;case"comment":t="https://obfs94zt33.execute-api.us-west-2.amazonaws.com/rest/support/".concat(l,"/comment/"),n.body=JSON.stringify({article_id:s,comment:b.value,product:u})}fetch(t,n)};f.onclick=function(){v.classList.remove("d-flex"),v.classList.add("d-none"),y.classList.remove("d-none")},m.onclick=function(){v.classList.remove("d-flex"),v.classList.add("d-none"),g.classList.remove("d-none"),S("yes")},h.onclick=function(){y.classList.add("d-none"),g.classList.remove("d-none"),S("comment")}}}}if(this.supportMenu)for(var k=this.supportMenu.querySelectorAll(".nav-link"),w=(this.supportMenu.querySelectorAll(".accordion"),function e(t){t.classList.contains("support-menu")||(t.classList.contains("accordion")&&t.classList.add("active"),e(t.parentNode))}),I=0;I<k.length;I+=1){var A=(r=k[I].href,i=void 0,{articleId:(i=r.replace(".html","").split("/"))[i.length-1],product:i[i.length-3]});if(A.product===u&&A.articleId===s){k[I].classList.add("active"),w(k[I].parentNode);break}}"undefined"!=typeof USERGUIDE&&this.userGuideSelectBtn&&USERGUIDE.options.length>0&&a.a.render(o.a.createElement(Ze,{selectedLabel:USERGUIDE.name,options:USERGUIDE.options,onChangeFn:function(e){console.log(e),window.open("".concat(e))}}),this.userGuideSelectBtn)},nt=n(183),rt=function(e){var t={};if(e)for(var n=e.attributes,r=0;r<n.length;r+=1){var o=n[r],i=o.nodeName,a=o.nodeValue;i&&i.indexOf("lng-")>-1&&(t[i.replace("lng-","")]=a)}var c={en:{translation:t}};return nt.a.use(s.b).init({lng:"en",fallbackLng:"en",resources:c,interpolation:{escapeValue:!1}}),nt.a},ot=n(294),it=n(16),at=n.n(it),ct=n(97),st=(n(586),n(295)),ut=n(645),lt=at.a.fromJS({isFetching:!1,list:[],groupName:""}),dt=Object(ut.a)({UPDATE_CAMPAIGNS_LIST:function(e,t){var n=t.payload;return e.set("list",at.a.fromJS(n))},UPDATE_CAMPAIGNS_GROUP_NAME:function(e,t){var n=t.payload;return e.set("groupName",at.a.fromJS(n))},START_FETCH_CAMPAIGN_DATA:function(e){return e.set("isFetching",!0)},STOP_FETCH_CAMPAIGN_DATA:function(e){return e.set("isFetching",!1)}},lt),pt=at.a.fromJS({siteGTM:"",siteID:"",siteInfo:{siteId:"",locale:"",fiterCountry:"",countryName:"",currency:"",themeId:0,cartProviderType:"",storeLocale:"",ecLocale:"",miniCartApiLink:""},userLangLocale:""}),ft=Object(ut.a)({UPDATE_SITE_GTM:function(e,t){var n=t.payload;return e.set("siteGTM",n)},UPDATE_SITE_ID:function(e,t){var n=t.payload;return e.set("siteID",n)},UPDATE_SITE_INFO:function(e,t){var n=t.payload;return e.set("siteInfo",at.a.fromJS(n))},UPDATE_USER_LANG_LOCALE:function(e,t){var n=t.payload;return e.set("userLangLocale",n)}},pt);function mt(e){return(mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ht(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vt(e,t){return!t||"object"!==mt(t)&&"function"!=typeof t?yt(e):t}function yt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function bt(e){return(bt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function St(e,t){return(St=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var kt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&St(e,t)}(c,e);var t,n,r,i,a=(t=c,function(){var e,n=bt(t);if(gt()){var r=bt(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return vt(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=a.call(this,e)).title="選擇您的地區",t.setCountryData=t.setCountryData.bind(yt(t)),t}return n=c,(r=[{key:"setCountryData",value:function(e){if(this.props.modalClose(),e["fiter-country"]!==this.props.siteInfo.fiterCountry){var t={siteId:e["site-id"],locale:e.locale,fiterCountry:e["fiter-country"],countryName:e.countryName,currency:e.currency,themeId:e["theme-id"],cartProviderType:e["cart-provider-type"],storeLocale:e["store-locale"],ecLocale:e["ec-locale"]};this.props.setCountryData({siteInfo:t,isSelectorClick:!0})}}},{key:"render",value:function(){var e=this,t=this.props.countrySelectorData;return o.a.createElement("div",{className:"ec-select-country"},o.a.createElement("div",{className:"content-block"},o.a.createElement("div",{className:"contry-list-block"},o.a.createElement("div",{className:"select-your-country"},o.a.createElement("h2",null,this.title)),o.a.createElement("div",{className:"country-list"},Object.keys(t).map((function(n){return o.a.createElement("div",{key:t[n]["fiter-country"],role:"presentation",className:"flex-item",onClick:function(){e.setCountryData(t[n])}},o.a.createElement("span",null,t[n].countryName))}))))))}}])&&ht(n.prototype,r),i&&ht(n,i),c}(o.a.Component);kt.propTypes={countrySelectorData:Ge.a.shape(Ge.a.shape({accessory:Ge.a.string.isRequired,countryName:Ge.a.string.isRequired,currency:Ge.a.string.isRequired,"fiter-country":Ge.a.string.isRequired,locale:Ge.a.string.isRequired,"outer-link":Ge.a.string.isRequired,"site-id":Ge.a.string.isRequired,"theme-id":Ge.a.string.isRequired}).isRequired).isRequired,modalClose:Ge.a.func.isRequired,setCountryData:Ge.a.func.isRequired,siteInfo:Ge.a.shape().isRequired};var wt=kt,It=n(646),At=Object(It.a)("UPDATE_SITE_GTM"),Ct=Object(It.a)("UPDATE_SITE_ID"),_t=Object(It.a)("UPDATE_SITE_INFO"),Tt=Object(It.a)("UPDATE_USER_LANG_LOCALE"),Pt=(Object(It.a)("MODAL_OPEN"),Object(It.a)("MODAL_CLOSE")),Et=Object(It.a)("SET_SELECTED_INDICES"),Ot=Object(It.a)("UPDATE_QUERY_STRING"),Lt=Object(It.a)("UPDATE_CURRENT_QUERY_STRING"),jt=Object(It.a)("UPDATE_SEARCH_STATISTICS"),xt=Object(It.a)("SHOW_SEARCH_INPUT"),Dt=Object(It.a)("HIDE_SEARCH_INPUT"),Nt=Object(It.a)("OPEN_DROPDOWN_MENU"),Rt=Object(It.a)("CLOSE_DROPDOWN_MENU"),qt=Object(It.a)("UPDATE_SEARCH_INDEXES"),Ut=Object(It.a)("CART_START_FETCHING"),Ht=(Object(It.a)("CART_STOP_FETCHING"),Object(It.a)("HIDE_CART_LIST"),Object(It.a)("SHOW_CART_LIST"),Object(It.a)("UPDATE_CART_LIST"),Object(It.a)("START_UPDATE_STATUS")),Mt=(Object(It.a)("STOP_UPDATE_STATUS"),Object(It.a)("ADD_PRODUCT_COUNT"),Object(It.a)("UPDATE_PRODUCT_DONE"),Object(It.a)("UPDATE_COUNTRY_SELECTOR_DATA")),Bt=function(e){return function(t,n){var r=n().getIn(["cmsCookie","siteID"]),o=e.siteInfo.siteId;t(_t(e.siteInfo)),t(r!==o?function(e,t){var n=t().getIn(["shoppingCart","miniCartData"]).toJS().items,r=n.length;r>0?(e(Ut()),n.map((function(t){return Me.sendRequest("removeItemFromCart",{pID:t.id}).then((function(){0==(r-=1)&&e(Ht())})),!0}))):e(Ht())}:Ht()),e.isSelectorClick&&(window.location.href=window.location.href.replace("/".concat(r,"/"),"/".concat(o,"/")))}};function Ft(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function Qt(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ft(i,r,o,a,c,"next",e)}function c(e){Ft(i,r,o,a,c,"throw",e)}a(void 0)}))}}var Gt,Jt={getProductInfo:(Gt=Qt(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Me.sendRequest("getProductsInfo",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(e){return Gt.apply(this,arguments)})},$t=function(e){return new De.a(function(){var t=Qt(regeneratorRuntime.mark((function t(n){var r,o,i,a,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=P()[0]||{},o=[{key:"productId",value:e.data.pids.join(",")},{key:"apiKey",value:e.productKey},{key:"format",value:"json"},{key:"expand",value:"All"}],r.ec_locale&&o.push({key:"locale",value:r.ec_locale}),r.currency&&o.push({key:"currency",value:r.currency}),i=e.product,t.next=7,Me.sendRequest("getDRProductsInfo",{params:o,product:i});case 7:a=t.sent,c=[],a.products.product.forEach((function(e,t){var n=0,r="",o="$ 0";e.pricing&&(e.pricing.formattedListPrice.includes("€")?(n=e.pricing.listPrice.value,r="€"):e.pricing.formattedListPrice.includes("Kr")?(n=e.pricing.listPrice.value,r="Kr"):(n=e.pricing.listPrice.value,r=e.pricing.formattedListPrice[0]),o=e.pricing.formattedListPrice),c.push({pid:e.id,price:n,currency:r,formattedListPrice:o})})),n(c);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())};new function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.store=P()[0]||{},this.ecLocal=this.store.ec_locale||"",this.cartProviderType=this.store.cart_provider_type||"",this.cartProviderType.includes("DIGITAL_RIVER")?this.getProductInfo=$t:this.getProductInfo=Jt.getProductInfo};function Kt(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"==typeof e)return zt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zt(e,t)}(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o,i=!0,a=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}function zt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Vt(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function Wt(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Vt(i,r,o,a,c,"next",e)}function c(e){Vt(i,r,o,a,c,"throw",e)}a(void 0)}))}}Object(It.a)("START_TO_UPDATE"),Object(It.a)("END_TO_UPDATE");var Yt=Object(It.a)("ADD_SLUG_DATA"),Xt=Object(It.a)("UPDATE_SLUG_DATA"),Zt=Object(It.a)("ADD_EC_PID_LIST"),en=Object(It.a)("ADD_EC_PRODUCT_INFO_LIST"),tn=function(){var e=Wt(regeneratorRuntime.mark((function e(){var t,n,r,o,i,a,c=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c.length>0&&void 0!==c[0]?c[0]:[],n=c.length>1?c[1]:void 0,r=E()||{},o=r.miniCartApiLink.getProduct||"",i=r.miniCartApiLink.key||"",a=[],!(r&&o&&i)){e.next=10;break}return e.next=9,fetch(o,{headers:{"x-api-key":i,"Content-Type":"application/json"},method:"POST",body:JSON.stringify({storecode:r.ecLocale,pids:t})}).then((function(e){return e.json()})).catch((function(e){return console.error("Error:",e)})).then((function(e){e.forEach((function(e){return a.push(e)})),n(a)}));case 9:e.sent;case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),nn=function(){return function(e,t){for(var n=document.querySelectorAll("*[data-slug]"),r=[],o=0;o<n.length;o+=1){var i=n[o];i.getAttribute("data-slug")&&r.push(i.getAttribute("data-slug"))}e(Yt(r)),e((function(e,t){var n=t().getIn(["cmsCookie","userLangLocale"]),r=[{key:"store_locale",value:n}];n&&Me.sendRequest("querySlugData",{params:r}).then((function(t){if(t.results.length>0){e(Xt(t.results));var n,r=[],o=Kt(t.results);try{for(o.s();!(n=o.n()).done;){var i,a=Kt(n.value.sku);try{for(a.s();!(i=a.n()).done;){var c=i.value;r.push(c)}}catch(e){a.e(e)}finally{a.f()}}}catch(e){o.e(e)}finally{o.f()}e(Zt(r)),tn(r,(function(t){e(en(t))})),"undefined"!=typeof accessory&&accessory.init()}}))}))}},rn=function(){return function(e,t){var n=t().getIn(["scheduler","isFetching"]),r=t().getIn(["scheduler","queryCondition"]).toJS();n||e(cn());var o=new Date,i=[{key:"sort",value:"-release_date,id"},{key:"start_release_date",value:new Date(o.getFullYear(),o.getMonth()-3).getTime()},{key:"end_release_date",value:new Date(o.getFullYear(),o.getMonth()+4).getTime()}];v()(r,(function(e,t){e&&i.push({key:t,value:e})})),Me.sendRequest("querySchedulersList",{params:i.length>0?i:null}).then((function(t){e(an(t.results)),e(sn())}))}},on=Object(It.a)("UPDATE_SCHEDULER_TYPES"),an=Object(It.a)("UPDATE_SCHEDULERS_LIST"),cn=Object(It.a)("START_FETCH_DATA"),sn=Object(It.a)("STOP_FETCH_DATA"),un=Object(It.a)("UPDATE_QUERY_CONDITION"),ln=Object(c.b)((function(e){return{countrySelectorData:e.getIn(["countrySelector","countrySelectorData"]),siteInfo:e.getIn(["cmsCookie","siteInfo"])}}),(function(e){return{modalClose:function(){return e(Pt())},setCountryData:function(t){return e(Bt(t))}}}))(wt),dn=at.a.fromJS({modalIsOpen:!1,childComponent:o.a.createElement(ln,null)}),pn=Object(ut.a)({MODAL_OPEN:function(e,t){var n=t.payload,r=e.get("childComponent").merge(n);return e.set("modalIsOpen",!0).set("childComponent",r)},MODAL_CLOSE:function(e){return e.set("modalIsOpen",!1)}},dn),fn=at.a.fromJS({isSearchInputShow:!1,isDropdownMenuOpen:!1,queryString:"",currentQueryString:"",selectedIndex:"All",totalHits:0,searchIndices:{},searchIndicesList:[],searchParameters:Ne}),mn=Object(ut.a)({SET_SELECTED_INDICES:function(e,t){var n=t.payload,r=e.get("searchIndices").toJS(),o=e.get("searchIndicesList").toJS(),i=o[0];return o.length>1&&(i=r[n]?n:"All"),Object.keys(r).map((function(e){return r[e].isSelected=e===i,!0})),e.set("searchIndices",at.a.fromJS(r)).set("selectedIndex",i)},SHOW_SEARCH_INPUT:function(e){return e.set("isSearchInputShow",!0)},HIDE_SEARCH_INPUT:function(e){return e.set("isSearchInputShow",!1).set("isDropdownMenuOpen",!1)},OPEN_DROPDOWN_MENU:function(e){return e.set("isDropdownMenuOpen",!0)},CLOSE_DROPDOWN_MENU:function(e){return e.set("isDropdownMenuOpen",!1)},UPDATE_QUERY_STRING:function(e,t){var n=t.payload;return e.set("queryString",n)},UPDATE_CURRENT_QUERY_STRING:function(e,t){var n=t.payload,r=e.get("queryString"),o=e.get("searchIndices").toJS(),i=e.get("searchIndicesList").toJS(),a=i[0];return i.length>1&&(a=o[n]?n:"All"),Object.keys(o).map((function(e){return o[e].isSelected=e===a,!0})),e.set("currentQueryString",r).set("searchIndices",at.a.fromJS(o)).set("selectedIndex",a)},UPDATE_SEARCH_STATISTICS:function(e,t){var n=t.payload,r=e.get("searchIndices").toJS(),o=0;return Object.keys(r).map((function(e){return n.indexName===e&&(r[e].hits=n.hits),o+=r[e].hits,!0})),e.set("searchIndices",at.a.fromJS(r)).set("totalHits",o)},UPDATE_SEARCH_INDEXES:function(e,t){var n=t.payload,r=at.a.fromJS(n.searchIndices),o=at.a.fromJS(n.searchIndicesList);return e.set("searchIndices",r).set("searchIndicesList",o)}},fn),hn=at.a.fromJS({countrySelectorData:{}}),vn=Object(ut.a)({UPDATE_COUNTRY_SELECTOR_DATA:function(e,t){var n=t.payload;return e.set("countrySelectorData",n)}},hn),yn=at.a.fromJS({slugList:[],slugData:{},ecPidList:[],ecProductInfoList:[]}),gn=Object(ut.a)({ADD_SLUG_DATA:function(e,t){var n=t.payload,r=p()(e.get("slugList"),n);return e.set("slugList",r)},UPDATE_SLUG_DATA:function(e,t){var n=t.payload,r=e.get("slugData").toJS();return n.map((function(e){r[e.slug]=e})),e.set("slugData",at.a.fromJS(r))},ADD_EC_PID_LIST:function(e,t){var n=t.payload,r=p()(e.get("ecPidList"),n);return e.set("ecPidList",r)},ADD_EC_PRODUCT_INFO_LIST:function(e,t){var n=t.payload,r=p()(e.get("ecProductInfoList"),n);return e.set("ecProductInfoList",r)}},yn),bn=at.a.fromJS({list:[],types:[],queryCondition:{sites:"",title:"",type:"",limit:"10",offset:"0"}}),Sn=Object(ut.a)({UPDATE_SCHEDULERS_LIST:function(e,t){var n=t.payload;return e.set("list",at.a.fromJS(n))},UPDATE_SCHEDULER_TYPES:function(e,t){var n=t.payload;return e.set("types",at.a.fromJS(n))},START_FETCH_DATA:function(e){return e.set("isFetching",!0)},STOP_FETCH_DATA:function(e){return e.set("isFetching",!1)},UPDATE_QUERY_CONDITION:function(e,t){var n=t.payload,r=Object.assign({},e.get("queryCondition").toJS(),n);return e.set("queryCondition",at.a.fromJS(r))}},bn),kn=Object(st.combineReducers)({campaignGroup:dt,cmsCookie:ft,cmsModal:pn,cmsSearch:mn,countrySelector:vn,product:gn,scheduler:Sn});function wn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var In=at.a.Map(),An=ct.c,Cn=[ot.a];var _n,Tn=Object(ct.d)(kn,In,An(ct.a.apply(void 0,function(e){if(Array.isArray(e))return wn(e)}(_n=Cn)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(_n)||function(e,t){if(e){if("string"==typeof e)return wn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wn(e,t):void 0}}(_n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))),Pn=n(296),En=n.n(Pn);function On(e){return(On="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ln(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jn(e,t){return!t||"object"!==On(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function xn(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Dn(e){return(Dn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Nn(e,t){return(Nn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Rn=o.a.Fragment,qn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nn(e,t)}(c,e);var t,n,r,i,a=(t=c,function(){var e,n=Dn(t);if(xn()){var r=Dn(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return jn(this,e)});function c(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),a.call(this,e)}return n=c,(r=[{key:"componentDidMount",value:function(){this.props.getSchedulerTypes()}},{key:"render",value:function(){var e=this.props,t=e.types,n=e.list,r=(e.isFetching,e.userLangLocale),i=e.t,a={rtl:"rtl"===document.dir,dots:!0,infinite:!1,speed:500,slidesToShow:4,slidesToScroll:4,responsive:[{breakpoint:1024,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:768,settings:{slidesToShow:1,slidesToScroll:1}}]};return r&&(r.indexOf("zh")>-1?r.replace("_","-"):r.split("_")[0]),o.a.createElement("div",{className:"container container--center"},n.length>0&&o.a.createElement(Rn,null,o.a.createElement("h3",{className:"heading h-text-align--center"},i("new-releases")),o.a.createElement(En.a,a,n.map((function(e){var n={};t.map((function(t){t.id!==e.type&&0!==t.id||(n=t)}));var r="app-type ".concat(n.name),a=new Date(parseInt(e.release_date)).toString().split(" ");return o.a.createElement("div",{className:"single-scheduler",key:e.id},o.a.createElement("label",{className:"app-date"},"".concat(a[1]," ").concat(parseInt(a[2]))),o.a.createElement("a",{href:e.link},o.a.createElement("figure",null,o.a.createElement("img",{className:"app-cover-img",src:e.cover_img_url}),parseInt(n.id)>0&&o.a.createElement("figcaption",{className:r},i(n.name)))),o.a.createElement("label",{className:"app-title"},e.title))})))))}}])&&Ln(n.prototype,r),i&&Ln(n,i),c}(o.a.Component);qn.defaultProps={t:C({"view-more":"View more"})},qn.propTypes={t:Ge.a.func};var Un=qn,Hn=Object(c.b)((function(e){return{types:e.getIn(["scheduler","types"]).toJS(),list:e.getIn(["scheduler","list"]).toJS(),isFetching:e.getIn(["scheduler","isFetching"]),userLangLocale:e.getIn(["cmsCookie","userLangLocale"])}}),(function(e){return{getSchedulerTypes:function(){return e((function(e,t){t().getIn(["scheduler","isFetching"])||e(cn()),Me.sendRequest("getSchedulerTypes",{}).then((function(t){e(on(t.results)),e(rn())}))}))},querySchedulersList:function(){return e(rn())}}}))(Object(s.c)()(Un)),Mn=n(297),Bn=n.n(Mn),Fn=n(54),Qn=n(133);"undefined"==typeof dataLayer&&(window.dataLayer=[]);var Gn=function(e,t,n,r){dataLayer.push({event:e,eventCategory:t,eventAction:n,eventLabel:r})};function Jn(e){return(Jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zn(e,t){return!t||"object"!==Jn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Vn(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Wn(e){return(Wn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Yn(e,t){return(Yn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Xn=o.a.Fragment,Zn=Object(Qn.connectHighlight)((function(e){for(var t=(0,e.highlight)({attribute:e.attribute,hit:e.hit,highlightProperty:"_highlightResult"}),n=t.length>1,r=[],i=[],a=0,c=!1,s=0;s<t.length;s+=1){var u=t[s].value||"";u=u.replace(/(\r\n|\n|\r)/gm,"").replace(/(\s{2,})/gm," ").replace(/<(?:.|\n)*?>/gm,"").trim(),c=c||t[s].isHighlighted||!n;var l=Ne.descTextLimit-a>3?Ne.descTextLimit-a:3,d=!t[s].isHighlighted&&u.length>=l&&c?"".concat(u.slice(0,l-3),"..."):u;if(a+=d.length,r.push(t[s]),i.push(t[s].isHighlighted?o.a.createElement("mark",null,d):d),a>=Ne.descTextLimit&&c&&!t[s].isHighlighted)break}if(a>Ne.descTextLimit&&"string"==typeof i[0]){var p=Ne.descTextLimit-(a-i[0].length),f=i[0].length;i[0]=i[0].slice(f-p,f)}return o.a.createElement("p",null,i.map((function(e,t){return o.a.createElement(Xn,{key:t},e)})))})),er=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yn(e,t)}(c,e);var t,n,r,i,a=(t=c,function(){var e,n=Wn(t);if(Vn()){var r=Wn(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return zn(this,e)});function c(){return $n(this,c),a.apply(this,arguments)}return n=c,(r=[{key:"render",value:function(){var e=this.props.hit,t=e.img||e.image||e.og_image||e.image_url||"",n=e.url,r=e.desc||e.description,i=e.description?"description":"desc";n.includes("//origin-www.")&&(n=n.replace("//origin-www.","//www.")),n.includes("//origin-web.")&&(n=n.replace("//origin-web.","//www.")),n.includes("//awsorigin.")&&(n=n.replace("//awsorigin.","//www.")),"business.vive.com"===location.hostname&&n.includes("//enterprise.")&&(n=n.replace("//enterprise.","//business.")),t.length>0&&!/\.(gif|jpg|jpeg|tiff|png)$/i.test(t)&&!t.includes("/sharing/")&&(t="/static/images/no-image.png");var a=ye(n),c=ge(a.hostname,location.hostname)?"_self":"_blank",s="";return e.price&&Object.keys(e.price).forEach((function(t){var n=e.price[t].default_formated,r=e.price[t].default;void 0!==n&&void 0!==r&&r>0&&(s=n)})),o.a.createElement("div",{className:"single-result"},t&&o.a.createElement("a",{href:n,target:c,onClick:function(){Gn("click-event","vive-search","view-single-result-link","".concat(n))},className:"img-link"},o.a.createElement("div",{className:"img",style:{backgroundImage:"url(".concat(t,")")}})),o.a.createElement("div",{className:"description"},o.a.createElement("a",{href:n,target:c,onClick:function(){Gn("click-event","vive-search","view-single-result-link","".concat(n))}},o.a.createElement("h4",null,e.title&&o.a.createElement(Fn.Highlight,{attribute:"title",hit:e}),e.name&&o.a.createElement(Fn.Highlight,{attribute:"name",hit:e})),""!==s&&o.a.createElement("div",{className:"txt-disclaimer"},s),r&&o.a.createElement(Zn,{attribute:i,hit:e,key:(new Date).getTime()}),!r&&e.short_description&&o.a.createElement(Zn,{attribute:"short_description",hit:e,key:(new Date).getTime()}))))}}])&&Kn(n.prototype,r),i&&Kn(n,i),c}(o.a.PureComponent);er.propTypes={};var tr=er,nr=function(e){var t=e.buttonClassName,n=e.buttonLink,r=e.buttonType,i=e.buttonName,a=e.clickFun,c=e.isDisabled;switch(r){case"link":return o.a.createElement("a",{className:t,href:n},i);default:return o.a.createElement("button",{className:t,disabled:c,onClick:function(){"button"===r?a():location.assign(n)},tabIndex:"0"},i)}};nr.defaultProps={buttonClassName:"btn btn-vive",buttonLink:"#",buttonName:"Button",buttonType:"button",isDisabled:!1,clickFun:null},nr.propTypes={buttonClassName:Ge.a.string,buttonLink:Ge.a.string,buttonType:Ge.a.string,buttonName:Ge.a.string,isDisabled:Ge.a.bool,clickFun:Ge.a.func};var rr=nr;function or(e){return(or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ir(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ar(e,t){return!t||"object"!==or(t)&&"function"!=typeof t?cr(e):t}function cr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sr(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function ur(e){return(ur=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function lr(e,t){return(lr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var dr=o.a.Fragment,pr={refine:"Refine","section-all":"All"},fr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lr(e,t)}(c,e);var t,n,r,i,a=(t=c,function(){var e,n=ur(t);if(sr()){var r=ur(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return ar(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=a.call(this,e)).clickToSetIndcies=t.clickToSetIndcies.bind(cr(t)),t.setMenuToogle=t.setMenuToogle.bind(cr(t)),t.state={menuToogle:!1,results:{}},t}return n=c,(r=[{key:"setMenuToogle",value:function(){this.setState({menuToogle:!this.state.menuToogle})}},{key:"clickToSetIndcies",value:function(e){this.setState({menuToogle:!1}),e!==this.props.selectedIndex&&(Gn("click-event","vive-search","switch-to-specified-category","".concat(e,"-").concat(this.props.currentQueryString)),this.props.setSelectedIndices(e))}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.currentQueryString,i=n.searchIndices,a=n.searchIndicesList,c=n.selectedIndex,s=n.showSearchInput,u=n.totalHits,l=n.i18n,d=l?l.t.bind(l):this.props.t,p="All"!==c&&i[c]?i[c].hits:u;e="All"!==c&&i[c]?i[c].displayName?d(i[c].displayName):d(i[c].i18nKey):d("section-all");var f="search-indcies ".concat(this.state.menuToogle?"menu-is-open":"menu-is-close"),m="selected-section-index fa ".concat(this.state.menuToogle?"fa-angle-up":"fa-angle-down");return o.a.createElement("div",{className:f},o.a.createElement("div",{className:"search-stats"},d("result-for",{count:p,cat:d(e)})," ",o.a.createElement("span",{className:"search-sction"},'"'.concat(r,'"')),a.length>1&&o.a.createElement(rr,{buttonName:d("refine"),clickFun:function(){s()},buttonClassName:"refine-search-button"})),a.length>1&&o.a.createElement(dr,null,o.a.createElement("div",{className:m,onClick:this.setMenuToogle,role:"presentation"},o.a.createElement("span",{className:"index-name"},e),o.a.createElement("span",{className:"index-hits"},"(",p,")")),o.a.createElement("ul",null,o.a.createElement("li",{className:"All"===c?"search-index selected-index":"search-index"},o.a.createElement("div",{onClick:function(){t.clickToSetIndcies("All")},role:"presentation"},d("section-all")," (",u,")")),a.map((function(e){console.log("sIndex=",e);var n=i[e].isSelected?"search-index selected-index":"search-index";return o.a.createElement("li",{key:e,className:n},o.a.createElement("div",{onClick:function(){t.clickToSetIndcies(e)},role:"presentation"},i[e].displayName||d(i[e].i18nKey)," (",i[e].hits,")"))})))))}}])&&ir(n.prototype,r),i&&ir(n,i),c}(o.a.Component);fr.defaultProps={totalHits:0,t:function(e){return pr[e]?pr[e]:e}},fr.propTypes={currentQueryString:Ge.a.string.isRequired,searchIndices:Ge.a.objectOf(Ge.a.object).isRequired,searchIndicesList:Ge.a.arrayOf(Ge.a.string).isRequired,selectedIndex:Ge.a.string.isRequired,setSelectedIndices:Ge.a.func.isRequired,showSearchInput:Ge.a.func.isRequired,totalHits:Ge.a.number,t:Ge.a.func};var mr=fr;function hr(e){return(hr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yr(e,t){return!t||"object"!==hr(t)&&"function"!=typeof t?gr(e):t}function gr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function br(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Sr(e){return(Sr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kr(e,t){return(kr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var wr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kr(e,t)}(a,e);var t,n,r,o,i=(t=a,function(){var e,n=Sr(t);if(br()){var r=Sr(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return yr(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).updateStatistics=t.updateStatistics.bind(gr(t)),t}return n=a,(r=[{key:"componentDidMount",value:function(){this.updateStatistics(this.props.nbHits)}},{key:"componentWillReceiveProps",value:function(e){this.props.nbHits!==e.nbHits&&this.updateStatistics(e.nbHits)}},{key:"updateStatistics",value:function(e){var t={indexName:this.props.indexName,hits:e};this.props.updateSearchStatistics(t)}},{key:"render",value:function(){return null}}])&&vr(n.prototype,r),o&&vr(n,o),a}(o.a.Component);wr.propTypes={nbHits:Ge.a.number.isRequired,indexName:Ge.a.string.isRequired,updateSearchStatistics:Ge.a.func.isRequired};var Ir=wr;function Ar(e){return(Ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cr(){return(Cr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pr(e,t,n){return t&&Tr(e.prototype,t),n&&Tr(e,n),e}function Er(e){return function(){var t,n=xr(e);if(jr()){var r=xr(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return Or(this,t)}}function Or(e,t){return!t||"object"!==Ar(t)&&"function"!=typeof t?Lr(e):t}function Lr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jr(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function xr(e){return(xr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Dr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nr(e,t)}function Nr(e,t){return(Nr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Rr=function(e){Dr(n,e);var t=Er(n);function n(e){var r,i;return _r(this,n),(r=t.call(this,e)).siteArray=["us","cn","tw"],r.setInitialQueryString=r.setInitialQueryString.bind(Lr(r)),r.updateStatistics=r.updateStatistics.bind(Lr(r)),r.searchStatsCompoment=Object(Qn.connectStats)((i=r.updateStatistics,function(e){Dr(n,e);var t=Er(n);function n(e){return _r(this,n),t.call(this,e)}return Pr(n,[{key:"render",value:function(){return o.a.createElement(Ir,Cr({updateSearchStatistics:i},this.props))}}]),n}(o.a.Component))),r}return Pr(n,[{key:"componentDidMount",value:function(){this.setInitialQueryString()}},{key:"updateStatistics",value:function(e){this.props.updateSearchStatistics(e)}},{key:"setInitialQueryString",value:function(){var e=this.props,t=e.updateQueryString,n=e.updateCurrentQueryString,r=me(document.location.search),o="";r.map((function(e){if("q"===e.key){var n=decodeURIComponent(e.val);t(n)}return"section"===e.key&&(o=decodeURIComponent(e.val)),!0})),n(o)}},{key:"composeSearchIndexName",value:function(e,t,n){var r=t;return("viveblog"===e&&this.siteArray.indexOf(t)<0||"htcblog"===e)&&(r="us"),"htcsupport"===e&&"my-en"===t&&(r="sea"),"htcsupport"===e&&"sa"===t&&(r="mea-sa"),e.startsWith("cms.")||"0"==n?"".concat(e):"".concat(e,"_").concat(r,"_").concat(n)}},{key:"searchSectionContent",value:function(e){var t,n=this.props,r=n.currentQueryString,i=n.searchIndices,a=n.searchParameters,c=n.selectedIndex,s=n.setSelectedIndices,u=n.siteID,l=n.i18n,d=(n.updateSearchStatistics,l?l.t.bind(l):this.props.t),p=i[e],f=p.src,m=p.version,h=p.tags,v=this.composeSearchIndexName(f,u,m),y=this.searchStatsCompoment,g=0;if("All"===c){if(g=3,i[e].hits>0){t=o.a.createElement("section",null,o.a.createElement("h3",null,i[e].displayName||d(i[e].i18nKey)),o.a.createElement(Fn.Hits,{hitComponent:tr}),i[e].hits>3&&o.a.createElement(rr,{buttonName:d("view-more",{count:i[e].hits-3}),clickFun:function(){Gn("click-event","vive-search","view-more-results","".concat(e,"-").concat(r.toLowerCase())),s(e),window.scrollTo(0,0)},buttonClassName:"btn btn-primary view-more-button"}))}}else i[e].isSelected&&(g=a.hitsPerPage,t=o.a.createElement("section",null,o.a.createElement(Fn.Hits,{hitComponent:tr}),i[e].hits>g&&o.a.createElement("div",{className:"text-center"},o.a.createElement(Fn.Pagination,null))));var b="";return h&&"0"!==h&&(b=h),o.a.createElement(Fn.Index,{key:e,indexId:e,indexName:v},o.a.createElement(Fn.Configure,{filters:b,hitsPerPage:g,query:r}),o.a.createElement(y,{indexName:e}),t)}},{key:"render",value:function(){var e=this,t=this.props,n=t.isSearchInputShow,r=t.searchIndices,i=t.searchIndicesList,a=t.searchParameters,c=t.selectedIndex,s=t.siteID,u=t.totalHits,l=t.currentQueryString,d=t.setSelectedIndices,p=t.showSearchInput,f=t.updateQueryString,m=t.i18n,h="";if(i.length>0){var v=r[c]||r[i[0]],y=v.src,g=v.version;h=this.composeSearchIndexName(y,s,g)}var b="search-results ".concat(n?"is-search-input-show":""),S=Bn()(a.appId,a.apiKey);return o.a.createElement(Fn.InstantSearch,{searchClient:S,indexName:h},o.a.createElement(mr,{currentQueryString:l,searchIndices:r,searchIndicesList:i,searchParameters:a,selectedIndex:c,totalHits:u,setSelectedIndices:d,showSearchInput:p,updateQueryString:f,i18n:m}),o.a.createElement("div",{className:b},i.map((function(t){return e.searchSectionContent(t)}))))}}]),n}(o.a.Component);Rr.defaultProps={t:C({"view-more":"View more"}),updateQueryString:null,updateCurrentQueryString:null},Rr.propTypes={currentQueryString:Ge.a.string.isRequired,isSearchInputShow:Ge.a.bool.isRequired,searchIndices:Ge.a.objectOf(Ge.a.object).isRequired,searchIndicesList:Ge.a.arrayOf(Ge.a.string).isRequired,searchParameters:Ge.a.shape({apiKey:Ge.a.string,appId:Ge.a.string,hitsPerPage:Ge.a.number,hitsPerSummary:Ge.a.number,descTextLimit:Ge.a.number}).isRequired,selectedIndex:Ge.a.string.isRequired,setSelectedIndices:Ge.a.func.isRequired,siteID:Ge.a.string.isRequired,t:Ge.a.func,updateQueryString:Ge.a.func,updateCurrentQueryString:Ge.a.func};var qr=Rr,Ur=Object(c.b)((function(e){return{currentQueryString:e.getIn(["cmsSearch","currentQueryString"]),isSearchInputShow:e.getIn(["cmsSearch","isSearchInputShow"]),searchIndices:e.getIn(["cmsSearch","searchIndices"]).toJS(),searchIndicesList:e.getIn(["cmsSearch","searchIndicesList"]).toJS(),searchParameters:e.getIn(["cmsSearch","searchParameters"]).toJS(),selectedIndex:e.getIn(["cmsSearch","selectedIndex"]),siteID:e.getIn(["cmsCookie","siteID"]),totalHits:e.getIn(["cmsSearch","totalHits"])}}),(function(e){return{setSelectedIndices:function(t){return e(Et(t))},updateQueryString:function(t){return e(Ot(t))},updateCurrentQueryString:function(t){return e(Lt(t))},updateSearchStatistics:function(t){return e(jt(t))},showSearchInput:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return e(showSearchInput())}))}}))(Object(s.c)()(qr));function Hr(e){return(Hr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Br(e,t){return!t||"object"!==Hr(t)&&"function"!=typeof t?Fr(e):t}function Fr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qr(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Gr(e){return(Gr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Jr(e,t){return(Jr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var $r=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jr(e,t)}(c,e);var t,n,r,i,a=(t=c,function(){var e,n=Gr(t);if(Qr()){var r=Gr(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return Br(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=a.call(this,e)).clickFun=t.clickFun.bind(Fr(t)),t}return n=c,(r=[{key:"clickFun",value:function(){"button"===this.props.buttonType?this.props.clickFun():location.assign(this.props.buttonLink)}},{key:"render",value:function(){var e=this.props,t=e.buttonAriaLabel,n=e.buttonClassName,r=e.buttonLink,i=e.buttonType,a=e.buttonName,c=e.isDisabled;switch(i){case"link":return o.a.createElement("a",{className:n,href:r},a);default:return o.a.createElement("button",{"aria-label":t,className:n,disabled:c,onClick:this.clickFun,tabIndex:"0"},a)}}}])&&Mr(n.prototype,r),i&&Mr(n,i),c}(o.a.PureComponent);$r.defaultProps={buttonAriaLabel:"",buttonClassName:"vive-button",buttonLink:"#",buttonName:"Button",buttonType:"button",isDisabled:!1,clickFun:null},$r.propTypes={buttonAriaLabel:Ge.a.string,buttonClassName:Ge.a.string,buttonLink:Ge.a.string,buttonType:Ge.a.string,buttonName:Ge.a.string,isDisabled:Ge.a.bool,clickFun:Ge.a.func};var Kr=$r;function zr(e){return(zr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wr(e,t){return!t||"object"!==zr(t)&&"function"!=typeof t?Yr(e):t}function Yr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xr(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Zr(e){return(Zr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eo(e,t){return(eo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var to=o.a.Fragment,no=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&eo(e,t)}(c,e);var t,n,r,i,a=(t=c,function(){var e,n=Zr(t);if(Xr()){var r=Zr(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return Wr(this,e)});function c(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=a.call(this,e)).clickToSearch=t.clickToSearch.bind(Yr(t)),t.toggleSearchInput=t.toggleSearchInput.bind(Yr(t)),t.handleSubmit=t.handleSubmit.bind(Yr(t)),t.setDropdownMenu=t.setDropdownMenu.bind(Yr(t)),t.setSelectedIndex=t.setSelectedIndex.bind(Yr(t)),t.state={isSearchInputShow:!1,isDropdownMenuOpen:!1,selectedIndex:"All"},t.hamburgerButtonEventHandle=t.hamburgerButtonEventHandle.bind(Yr(t));var n=document.querySelector(".hamburger-icon");return n&&(n.onclick=t.hamburgerButtonEventHandle),t}return n=c,(r=[{key:"componentDidMount",value:function(){var e=this,t=function(){for(var e=[{host:"vive",class:"www"},{host:"eshop",class:"e-shop"},{host:"htc",class:"htc-www"},{host:"exodus",class:"exodus"},{host:"developer",class:"developer"},{host:"vivex",class:"vivex"},{host:"enterprise",class:"enterprise"},{host:"arts",class:"arts"},{host:"viveBlog",class:"vive-blog"}],t=0;t<e.length;t+=1)if(document.documentElement.classList.contains(e[t].class))return e[t].host;return e[0]}();this.props.getSearchIndexes(t,this.props.siteID),"search"===this.props.siteGTM&&this.toggleSearchInput(),document.body.addEventListener("click",(function(t){var n=t.target.className;-1===n.indexOf("search-index-dropdown-item")&&-1===n.indexOf("dropdown-menu-button")&&e.props.isDropdownMenuOpen&&e.setDropdownMenu(!1),document.getElementsByTagName("header")[0].contains(t.target)&&!t.target.classList.contains("nav20-toggle-btn")||e.props.hideSearchInput()}))}},{key:"componentWillReceiveProps",value:function(e){e.selectedIndex!==this.props.selectedIndex&&this.setSelectedIndex(e.selectedIndex)}},{key:"componentDidUpdate",value:function(e){}},{key:"hamburgerButtonEventHandle",value:function(){this.props.isSearchInputShow&&this.props.hideSearchInput()}},{key:"setDropdownMenu",value:function(e){e?this.props.openDropdownMenu():this.props.closeDropdownMenu()}},{key:"setSelectedIndex",value:function(e){this.setState({selectedIndex:e}),this.setDropdownMenu(!1)}},{key:"toggleSearchInput",value:function(){this.props.isSearchInputShow?(Gn("click-event","vive-search","toggle-search-input","close"),this.props.hideSearchInput()):(Gn("click-event","vive-search","toggle-search-input","open"),this.props.showSearchInput())}},{key:"clickToSearch",value:function(){var e=this.props,t=e.siteID,n=e.siteGTM,r=e.queryString,o=e.updateCurrentQueryString,i=this.state.selectedIndex;if(r.trim().length>0)if("search"===n)Gn("click-event","vive-search","click-to-search","".concat(i,"-").concat(r.toLowerCase())),o(i);else{var a="developer.viveport.com"===document.location.host?"www.vive.com":document.location.host,c="".concat(a,"/").concat(t,"/search"),s="?q=".concat(encodeURIComponent(r),"&section=").concat(encodeURIComponent(i));Gn("click-event","vive-search","redirect-to-search","".concat(i,"-").concat(r.toLowerCase())),window.location.href="https://".concat(c).concat(s)}}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.clickToSearch()}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.isSearchInputShow,i=n.isDropdownMenuOpen,a=n.queryString,c=n.searchIndices,s=n.searchIndicesList,u=n.t,l=n.updateQueryString,d=this.state.selectedIndex,p="dropdown ".concat(i?"is-open":""),f="fa ".concat(i?"fa-sort-asc":"fa-sort-desc"," dropdown-menu-button"),m=("search-box ".concat(r?"show-input":""),"fa ".concat(r?"fa-times":"fa-search"," search-button toggle-button"));return e="All"!==d&&c[d]?c[d].displayName?u(c[d].displayName):u(c[d].i18nKey):u("section-all"),r?(w(document.getElementsByTagName("body")[0],["search-box-show"]),w(document.getElementsByTagName("header")[0],["search-mode"])):(I(document.getElementsByTagName("body")[0],["search-box-show"]),I(document.getElementsByTagName("header")[0],["search-mode"])),o.a.createElement(to,null,o.a.createElement("div",{className:p},o.a.createElement(Kr,{buttonName:e,buttonClassName:f,clickFun:function(){t.setDropdownMenu(!i)}}),o.a.createElement("ul",{className:"dropdown-menu"},o.a.createElement("li",{className:"search-index ".concat("All"===d&&"selected-index")},o.a.createElement("div",{onClick:function(){t.setSelectedIndex("All")},role:"presentation"},u("section-all"))),s.map((function(e){var n="search-index-dropdown-item ".concat(e===d&&"selected-index");return o.a.createElement("li",{key:e,className:n},o.a.createElement("div",{onClick:function(){t.setSelectedIndex(e)},role:"presentation"},c[e].displayName||u(c[e].i18nKey)))})))),o.a.createElement("form",{onSubmit:function(e){t.handleSubmit(e)},name:"searchForm"},o.a.createElement("input",{className:"search-input",name:"searchInput",onChange:function(e){l(e.target.value)},placeholder:u("search"),type:"text",value:a,"aria-label":u("search")})),o.a.createElement(Kr,{buttonAriaLabel:u("search"),buttonName:"",clickFun:this.clickToSearch,isDisabled:0===a.length,buttonClassName:"fa fa-search search-button click-search-button"}),o.a.createElement(Kr,{buttonAriaLabel:u("close"),buttonName:"",clickFun:this.toggleSearchInput,buttonClassName:m}))}}])&&Vr(n.prototype,r),i&&Vr(n,i),c}(o.a.Component);no.defaultProps={hideSearchInput:null,showSearchInput:null,isDropdownMenuOpen:!1,isSearchInputShow:!1,queryString:"",openDropdownMenu:null,closeDropdownMenu:null,searchIndices:{},searchIndicesList:[],selectedIndex:"",siteGTM:"",siteID:"",t:C({search:"Search","section-all":"All"}),updateQueryString:null,updateCurrentQueryString:null},no.propTypes={hideSearchInput:Ge.a.func,showSearchInput:Ge.a.func,isDropdownMenuOpen:Ge.a.bool,isSearchInputShow:Ge.a.bool,queryString:Ge.a.string,openDropdownMenu:Ge.a.func,closeDropdownMenu:Ge.a.func,searchIndices:Ge.a.objectOf(Ge.a.object),searchIndicesList:Ge.a.arrayOf(Ge.a.string),selectedIndex:Ge.a.string,siteGTM:Ge.a.string,siteID:Ge.a.string,t:Ge.a.func,updateQueryString:Ge.a.func,updateCurrentQueryString:Ge.a.func};var ro=no,oo=Object(c.b)((function(e){return{isSearchInputShow:e.getIn(["cmsSearch","isSearchInputShow"]),isDropdownMenuOpen:e.getIn(["cmsSearch","isDropdownMenuOpen"]),queryString:e.getIn(["cmsSearch","queryString"]),searchIndices:e.getIn(["cmsSearch","searchIndices"]).toJS(),searchIndicesList:e.getIn(["cmsSearch","searchIndicesList"]).toJS(),selectedIndex:e.getIn(["cmsSearch","selectedIndex"]),siteGTM:e.getIn(["cmsCookie","siteGTM"]),siteID:e.getIn(["cmsCookie","siteID"])}}),(function(e){return{showSearchInput:function(){return e(xt())},hideSearchInput:function(){return e(Dt())},openDropdownMenu:function(){return e(Nt())},closeDropdownMenu:function(){return e(Rt())},updateQueryString:function(t){return e(Ot(t))},updateCurrentQueryString:function(t){return e(Lt(t))},getSearchIndexes:function(t,n){return e(function(e,t){return function(n,r){var o=document.getElementsByTagName("header")[0].getAttribute("data-search-index")||"[]",i=JSON.parse(o),a={};if(i.length>0){var c=[],s={};i.forEach((function(e){s[e.display_name]={hits:0,i18nKey:"section-".concat(e.index),isSelected:!1,src:e.index,version:e.version,displayName:e.display_name,tags:e.tags},c.push(e.display_name)})),a={searchIndicesList:c,searchIndices:s}}else{a=Re[e]||Re.vive,"htc"===e&&["us","www","uk","ie","hk-en","au","nz","mea-en","ca","sea","in"].indexOf(t)<0&&(a.searchIndicesList=a.searchIndicesList.filter((function(e){return"blog"!==e}))),"arts"===e&&(a.searchIndicesList=a.searchIndicesList.filter((function(e){return"blog"!==e})).filter((function(e){return"vivePort"!==e})).filter((function(e){return"support"!==e})))}n(qt(a))}}(t,n))}}}))(Object(s.c)()(ro));function io(e){return(io="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ao(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function co(e,t){return!t||"object"!==io(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function so(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function uo(e){return(uo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function lo(e,t){return(lo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var po=o.a.Fragment,fo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lo(e,t)}(c,e);var t,n,r,i,a=(t=c,function(){var e,n=uo(t);if(so()){var r=uo(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return co(this,e)});function c(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),a.call(this,e)}return n=c,(r=[{key:"componentDidMount",value:function(){this.props.isStickyBtn&&w(document.body,["contain-sitcky-button"])}},{key:"render",value:function(){var e=this.props,t=e.isStickyBtn,n=e.slugData,r=e.slug,i=e.t,a=e.gtm,c=e.eventAction,s=e.eventCategory,u=e.eventLabel,l=(e.linkTarget,o.a.createElement("div",null));if(n[r]&&n[r].buy_link){var d=this.props.buttonName.trim()||n[r].buy_button_custom_wording.trim()||i("sticky-btn",{productName:n[r].list_name}),p=ye(n[r].buy_link),f=ge(p.hostname,document.location.hostname)?"_self":"_blank";l=t?o.a.createElement("div",{className:"sticky-btn-bar"},o.a.createElement("a",{className:"src-slug-btn btn vive-btn",href:n[r].buy_link,target:f,"data-gtm":a,"data-event-action":c,"data-event-category":s,"data-event-label":u},d)):o.a.createElement("a",{className:"src-slug-btn btn vive-btn",href:n[r].buy_link,target:f,"data-gtm":a,"data-event-action":c,"data-event-category":s,"data-event-label":u},d)}return o.a.createElement(po,null," ",l)}}])&&ao(n.prototype,r),i&&ao(n,i),c}(o.a.PureComponent);fo.defaultProps={buttonName:"",isStickyBtn:"",t:C({"sticky-btn":"Buy {{productName}}"}),gtm:"",eventAction:"",eventCategory:"",eventLabel:"",linkTarget:"_blank"},fo.propTypes={buttonName:Ge.a.string,isStickyBtn:Ge.a.string,slug:Ge.a.string.isRequired,slugData:Ge.a.object.isRequired,t:Ge.a.func,eventAction:Ge.a.string,gtm:Ge.a.string,eventCategory:Ge.a.string,eventLabel:Ge.a.string,linkTarget:Ge.a.string};var mo=n(298),ho=n.n(mo);function vo(e){return(vo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yo(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"==typeof e)return go(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return go(e,t)}(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o,i=!0,a=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}function go(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bo(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function So(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){bo(i,r,o,a,c,"next",e)}function c(e){bo(i,r,o,a,c,"throw",e)}a(void 0)}))}}function ko(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Io(e,t,n){return t&&wo(e.prototype,t),n&&wo(e,n),e}function Ao(e){return function(){var t,n=Po(e);if(To()){var r=Po(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return Co(this,t)}}function Co(e,t){return!t||"object"!==vo(t)&&"function"!=typeof t?_o(e):t}function _o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function To(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Po(e){return(Po=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Eo(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Oo(e,t)}function Oo(e,t){return(Oo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Lo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var jo=o.a.Fragment,xo=function(e){Eo(n,e);var t=Ao(n);function n(e){var r;return ko(this,n),Lo(_o(r=t.call(this,e)),"componentDidMount",So(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("MAGENTO"===r.props.siteInfo.cartProviderType){e.next=7;break}return e.next=3,r.getProduct(r.props.defaultPid);case 3:t=e.sent,r.updatePrice(t.salePrice,t.basePrice,t.salePriceNumber,t.basePriceNumber),r.updateButton(t.inventory,t.isBackOrder),r.updateProductModelAvailable(r.props.productList);case 7:case"end":return e.stop()}}),e)})))),Lo(_o(r),"getProductFromProps",(function(e,t){var n,r=yo(t);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o.pid.toString()===e.toString())return{basePriceNumber:o.base_price,basePrice:o.formatted_base_price,salePriceNumber:o.price,salePrice:o.formatted_price,overrideOutOfStock:!1,availableStock:"",inventory:parseInt(o.inventory,10),isAvailable:"available"===o.status,isBackOrder:!1,isPreOrder:!1}}}catch(e){r.e(e)}finally{r.f()}})),Lo(_o(r),"getProduct",function(){var e=So(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new De.a((function(e){r.ecCartProviderApi.returnProductInfo(t,(function(t){e(t)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Lo(_o(r),"updateProductModelAvailable",function(){var e=So(regeneratorRuntime.mark((function e(t){var n,o,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.length>1)){e.next=21;break}n=yo(t),e.prev=2,n.s();case 4:if((o=n.n()).done){e.next=13;break}return i=o.value,a=document.querySelector('option[value="'.concat(i.sku,'"]')),e.next=9,r.getProduct(i.sku);case 9:e.sent.inventory<1&&a.setAttribute("disabled","disabled");case 11:e.next=4;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),n.e(e.t0);case 18:return e.prev=18,n.f(),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[2,15,18,21]])})));return function(t){return e.apply(this,arguments)}}()),Lo(_o(r),"updateProductModelFromProps",(function(e,t){if(e.length>1){var n,o=yo(e);try{for(o.s();!(n=o.n()).done;){var i=n.value,a=document.querySelector('option[value="'.concat(i.sku,'"]')),c=r.getProductFromProps(i.sku,t);c&&c.inventory<1&&a.setAttribute("disabled","disabled")}}catch(e){o.e(e)}finally{o.f()}}})),Lo(_o(r),"updatePrice",(function(e,t,n,o){r.props.priceHandler(e,t,n,o),r.setState({salePrice:e,basePrice:t,salePriceNumber:n,basePriceNumber:o})})),Lo(_o(r),"updateButton",(function(e,t){r.props.inventoryBackOrderHandler(e,t),r.setState({inventory:e,isBackOrder:t}),e>0?r.setState({showAddToCart:""}):r.setState({showOutOfStock:""})})),Lo(_o(r),"modelChangeHandler",(function(e){""===e.target.value?(e.target.parentNode.classList.add("error"),e.target.closest(".box-select ").classList.add("error")):(e.target.parentNode.classList.remove("error"),e.target.closest(".box-select ").classList.remove("error"))})),Lo(_o(r),"addToCartClickHandler",(function(e){var t=e.target.closest(".box-select"),n=e.currentTarget;if(!t.matches(".error")){n.classList.add("adding-product");var o=t.querySelector(".quantity-selector"),i=o.options[o.selectedIndex].value,a=t.querySelector(".model-block"),c=t.querySelector(".model-selector"),s=c.options[c.options.length-1].value;a.matches(".d-none")||(s=c.options[c.selectedIndex].value),r.ecCartProviderApi.addToCart(s,i,(function(e){null==e&&(r.miniCartVive.checkShoppingCart(),setTimeout((function(){ie("cart",!0)}),1e3)),n.classList.remove("adding-product")}))}})),r.selectorDeafultClass="selector-outline btn vive-select-btn-outline",r.selectorClassSet={dark:"",light:"vive-select-btn-outline--light"},r.state={salePrice:"",basePrice:"",salePriceNumber:0,basePriceNumber:0,inventory:1,isBackOrder:!1,showAddToCart:"d-none",showOutOfStock:"d-none"},r.getProduct=r.getProduct.bind(_o(r)),r.getProductFromProps=r.getProductFromProps.bind(_o(r)),r.updatePrice=r.updatePrice.bind(_o(r)),r.updateButton=r.updateButton.bind(_o(r)),r.ecCartProviderApi=new oe,r.miniCartVive=new ce,r}return Io(n,[{key:"componentDidUpdate",value:function(e){if(this.props.ecProductInfoList!==e.ecProductInfoList&&"MAGENTO"===this.props.siteInfo.cartProviderType){var t=this.getProductFromProps(this.props.defaultPid,this.props.ecProductInfoList),n="",r="",o=0,i=0,a=0,c=!1;t&&(o=t.salePriceNumber,n=t.salePrice,i=t.basePriceNumber,r=t.basePrice,a=t.inventory,c=t.isBackOrder),this.updatePrice(n,r,o,i),this.updateButton(a,c),this.updateProductModelFromProps(this.props.productList,this.props.ecProductInfoList)}}},{key:"priceBlock",value:function(){return"false"===this.props.showPrice?o.a.createElement("div",{className:"h6 price-label price-label__empty"}," "):this.state.basePriceNumber>this.state.salePriceNumber?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"h6 price-label"},o.a.createElement("span",{className:"base-price-block"},this.state.basePrice),this.state.salePrice)):o.a.createElement("div",{className:"h6 price-label"},this.state.salePrice)}},{key:"productSelectAndAddCartBlock",value:function(){var e,t=this.props,n=t.defaultPid,r=t.productList,i=t.boxClass,a=t.siteInfo,c=t.sizeTxt,s=t.selectStyle,u=t.t,l=t.btnClass,d=t.btnLabel,p="".concat(this.selectorDeafultClass," ").concat(this.selectorClassSet[s]),f=l||"vive-btn";e=""!==d?d:u("add-to-cart");var m=5;"tw"===a.siteId?m=3:"cn"===a.siteId&&(m=2);var h="d-none";return r.length>=2&&(h="d-inline-block"),o.a.createElement("div",{className:i},o.a.createElement("div",null,o.a.createElement("div",{className:"quantity-block pickup-block ".concat(p)},o.a.createElement("select",{className:"quantity-selector","data-gtm":"quantity-selector"},ho()(1,m+1).map((function(e){return o.a.createElement("option",{key:e,value:e},e)})))),o.a.createElement("div",{className:"model-block pickup-block ".concat(p," ").concat(h)},o.a.createElement("select",{className:"model-selector accessory-pickup","data-gtm":"accessory-pickup-selector",defaultValue:n,onChange:this.modelChangeHandler},o.a.createElement("option",{value:""},c||u("size")),r.map((function(e){return o.a.createElement("option",{key:e.sku,"data-sku-id":e.sku,value:e.sku},e.model)}))))),o.a.createElement("button",{className:"btn ".concat(f," add-to-cart-button ").concat(this.state.showAddToCart),"data-gtm":"add-to-cart-button",type:"button",onClick:this.addToCartClickHandler},o.a.createElement("span",{className:"text-block"},e),o.a.createElement("span",{className:"spinner-block spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),o.a.createElement("span",{className:"spinner-block sr-only"},"Loading...")),o.a.createElement("a",{className:"src-slug-product btn-buy-directly btn vive-btn disabled ".concat(this.state.showOutOfStock),href:"#"},u("out-of-stock")))}},{key:"render",value:function(){return o.a.createElement(jo,null,this.priceBlock(),this.productSelectAndAddCartBlock())}}]),n}(o.a.Component);xo.propTypes={defaultPid:Ge.a.string.isRequired,productList:Ge.a.array.isRequired,siteInfo:Ge.a.shape({siteId:Ge.a.string.isRequired}).isRequired,showPrice:Ge.a.string,boxClass:Ge.a.string.isRequired,sizeTxt:Ge.a.string.isRequired,selectStyle:Ge.a.string.isRequired,btnClass:Ge.a.string.isRequired,t:Ge.a.func.isRequired};var Do=function(e){Eo(n,e);var t=Ao(n);function n(e){var r;return ko(this,n),(r=t.call(this,e)).state={inventory:1,isBackOrder:!1},r.genButtonCompoment=r.genButtonCompoment.bind(_o(r)),r.linkButton=r.linkButton.bind(_o(r)),r.updatePriceBlockHandler=r.updatePriceBlockHandler.bind(_o(r)),r.updateProductInventoryAndBackOrder=r.updateProductInventoryAndBackOrder.bind(_o(r)),r}return Io(n,[{key:"updatePriceBlockHandler",value:function(e,t,n,r){var o=a.a.findDOMNode(this);if(o instanceof HTMLElement){var i=o.parentElement.parentElement.querySelector(".price-block");i&&(r>n?i.innerHTML='<span class="base-price-block">'.concat(t,"</span>").concat(e):i.innerText=e)}}},{key:"updateProductInventoryAndBackOrder",value:function(e,t){this.setState({inventory:e,isBackOrder:t})}},{key:"linkButton",value:function(e,t){var n=this.props,r=n.slug,i=n.slugData,a=n.btnLabel,c=n.t,s=n.gtm,u=n.eventAction,l=n.eventCategory,d=n.eventLabel,p=(n.category,this.state.inventory),f=this.state.isBackOrder,m=e.length>0?a||i[r].buy_button_custom_wording||c("buy-now"):"",h=e.length>0?a||i[r].buy_button_custom_wording||c("sticky-btn",{productName:e[0].name}):"";if(e.length>1){var v=e.map((function(e){return{value:e.link,label:e.name}}));return o.a.createElement(Ze,{selectedLabel:h,options:v,onChangeFn:function(e){ve(e,document.location.host,!0,c("external-url-notice-message"));var t=ye(e),n=ge(t.hostname,window.location.hostname)?"_self":"_blank";Gn(s,l,u,d),window.open("".concat(e),n)}})}if(e.length>0){var y=ye(e[0].link),g=ge(y.hostname,window.location.hostname)?"_self":"_blank";return"ACCESSORY"===(this.props.category||"")?o.a.createElement(jo,null,o.a.createElement("div",{className:"box-select"},o.a.createElement("div",{className:"quantity-block pickup-block selector-outline btn vive-select-btn-outline "},o.a.createElement("select",{className:"quantity-selector","data-gtm":"quantity-selector"},o.a.createElement("option",{value:"1"},"1")))),o.a.createElement("a",{className:"src-slug-product btn-buy-directly btn vive-btn",href:e[0].link,target:g,"data-gtm":s,"data-event-action":u,"data-event-category":l,"data-event-label":d},m)):f&&p<1?o.a.createElement("a",{className:"src-slug-product btn-buy-directly btn-back-order btn vive-btn",href:e[0].link,target:g,"data-gtm":s,"data-event-action":u,"data-event-category":l,"data-event-label":d},c("back-order")):o.a.createElement("a",{className:"src-slug-product btn-buy-directly btn vive-btn ".concat(p<1?"disabled":""),href:e[0].link,target:g,"data-gtm":s,"data-event-action":u,"data-event-category":l,"data-event-label":d},p>0?m:c("out-of-stock"))}return""}},{key:"genButtonCompoment",value:function(e,t,n){var r=this.props,i=r.t,a=r.siteInfo,c=r.showPrice,s=r.sizeTxt,u=r.selectStyle,l=r.ecPidList,d=r.ecProductInfoList,p=r.btnLabel;if(e){var f="false";void 0!==c&&(f="true");var m=this.props.btnClass||"vive-btn",h="box-select ".concat(t.length>0?"d-none":"");return o.a.createElement(jo,null,o.a.createElement(xo,{priceHandler:this.updatePriceBlockHandler,inventoryBackOrderHandler:this.updateProductInventoryAndBackOrder,defaultPid:e,productList:n,siteInfo:a,showPrice:f,btnLabel:p,boxClass:h,btnClass:m,t:i,sizeTxt:s,selectStyle:u,ecPidList:l,ecProductInfoList:d}),this.linkButton(t,m))}return this.linkButton(t)}},{key:"render",value:function(){var e=this.props,t=e.slugData,n=e.slug,r=(e.ecPidList,function(e){var t,n=[],r=[];if(e&&e.list_name){r=e.productmodel_set||[];for(var o=0;o<r.length;o+=1)if(r[o].default&&(t=r[o].sku),r[o].buy_link){var i="default"===r[o].model?e.list_name:r[o].model;n.push({name:i,link:r[o].buy_link})}0===n.length&&e.buy_link&&n.push({name:e.list_name,link:e.buy_link})}return{defaultPid:t,directLinkList:n,productList:r}}(t[n])),i=r.defaultPid,a=r.directLinkList,c=r.productList;return i&&function(e,t){for(var n=document.querySelectorAll(".js-slug-".concat(e)),r=0;r<n.length;r+=1){var o=n[r];o.setAttribute("data-product-id",t),o.setAttribute("data-default-sku-id",t)}}(n,i),o.a.createElement(jo,null,this.genButtonCompoment(i,a,c))}}]),n}(o.a.PureComponent);Do.defaultProps={btnLabel:"",btnClass:"",sizeTxt:"Size",gtm:"",eventAction:"",eventCategory:"",eventLabel:"",selectStyle:"dark",t:C({"sticky-btn":"Buy {{productName}}"})},Do.propTypes={gtm:Ge.a.string,eventAction:Ge.a.string,eventCategory:Ge.a.string,eventLabel:Ge.a.string,btnLabel:Ge.a.string,btnClass:Ge.a.string,selectStyle:Ge.a.string,sizeTxt:Ge.a.string,slug:Ge.a.string.isRequired,slugData:Ge.a.objectOf(Ge.a.shape({buy_button_custom_inline_style:Ge.a.string,buy_button_custom_wording:Ge.a.string,buy_link:Ge.a.string,list_name:Ge.a.string,productmodel_set:Ge.a.arrayOf(Ge.a.object),slug:Ge.a.string})).isRequired,siteInfo:Ge.a.shape({siteId:Ge.a.string.isRequired}).isRequired,showPrice:Ge.a.string,t:Ge.a.func,category:Ge.a.string};var No=Do,Ro=Object(c.b)((function(e){return{slugData:e.getIn(["product","slugData"]).toJS(),siteInfo:e.getIn(["cmsCookie","siteInfo"]).toJS(),ecPidList:e.getIn(["product","ecPidList"]),ecProductInfoList:e.getIn(["product","ecProductInfoList"])}}),(function(e){return{}}))(Object(s.c)()(No)),qo=Object(c.b)((function(e){return{slugData:e.getIn(["product","slugData"]).toJS(),siteInfo:e.getIn(["cmsCookie","siteInfo"]).toJS(),ecPidList:e.getIn(["product","ecPidList"]),ecProductInfoList:e.getIn(["product","ecProductInfoList"])}}),(function(e){return{}}))(Object(s.c)()(No));function Uo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ho=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.i18n=rt(document.querySelector(".js-i18n-data")),this.mountAllSlugButton=this.mountAllSlugButton.bind(this),this.mountAllSlugProduct=this.mountAllSlugProduct.bind(this)}var t,n,r;return t=e,(n=[{key:"init",value:function(){var e=this,t=document.location.pathname.split("/")[2]||"index",n=document.body.getAttribute("data-site")||document.documentElement.getAttribute("data-site"),r=document.querySelector(".main.support");this.i18n=rt(document.querySelector(".js-i18n-data")),document.body.onclick=function(t){return be(t,!0,e.i18n.t("external-url-notice-message"))},document.body.oncontextmenu=function(t){return be(t,!1,e.i18n.t("external-url-notice-message"))},Tn.dispatch((function(e,t){var n=document.body.getAttribute("data-site")||document.documentElement.getAttribute("data-site"),r={"site-id":n};e(Ct(n)),Me.sendRequest("getUserLangLocale",r).then((function(r){var o=b.a.get("dr-htc-locale-info")?JSON.parse(b.a.get("dr-htc-locale-info")):y,i=n===o.siteId?o.fiterCountry:r.siteDefaultECMappingCountryLocale,a=n===o.siteId?o:t().getIn(["countrySelector","countrySelectorData"])[i]||y,c={siteId:a.siteId,locale:a.locale,fiterCountry:a.fiterCountry,countryName:a.countryName,currency:a.currency,themeId:a.themeId,cartProviderType:a.cartProviderType,storeLocale:a.storeLocale,ecLocale:a.ecLocale,miniCartApiLink:a.miniCartApiLink};e(Bt({siteInfo:c,isSelectorClick:!1})),e(Tt(i)),e(nn())}))})),Tn.dispatch(At(t)),Tn.dispatch(un({sites:n})),this.initCountriesData(),this.header=new Oe(".nav20-desktop-menu",(function(){Tn.dispatch(Dt())}),this.i18n),this.footer=new je,this.miniCartVive=new ce,this.miniCartVive.init(),this.stayUpdate=new Fe,this.initAccordion(),this.initAccessoryList(),r&&(this.support=new tt(r)),this.mountCompoment(document.getElementById("search-box"),oo),this.mountCompoment(document.getElementById("search-page"),Ur),this.mountCompoment(document.getElementById("section-scheduler"),Hn),this.mountAllSlugButton(),this.mountAllSlugProduct()}},{key:"initCountriesData",value:function(){for(var e=document.querySelectorAll(".ec-select-country .flex-item span"),t={},n=0;n<e.length;n+=1){for(var r=e[n].attributes,o={name:e[n].innerText},i=0;i<r.length;i+=1){var a=r[i],c=a.nodeName,s=a.nodeValue;o[c.replace("data-","")]=s}t[o["fiter-country"]]=o}Tn.dispatch(Mt(t))}},{key:"initAccordion",value:function(){for(var e=document.querySelectorAll(".js-accordion"),t=function(t){var n=e[t],r=n.querySelector(".js-accordion-toggle");r&&(r.onclick=function(){n.classList.toggle("active")})},n=0;n<e.length;n+=1)t(n)}},{key:"initAccessoryList",value:function(){var e=this,t=document.querySelectorAll(".js-product-tag-index .label-checkbox");t.length>1?function(){for(var n={},r=document.querySelector(".main"),o=document.querySelector(".js-product-list"),i=o.querySelectorAll("li"),a=document.createElement("li"),c=[],s=[],u=function(){var e=0;c.forEach((function(t){if(n[t].isChecked){var r=document.querySelector(".accessory-list-".concat(t));e%2?w(r,["bg-light"]):I(r,["bg-light"]),e+=1}}))},d=0;d<t.length;d+=1){var f=t[d],m=f.getAttribute("data-tag")||0,h=f.querySelector(".check-mark");c.push(m),n[m]={isChecked:!0,checkElement:f,tagName:h.innerText||h.textContent,tagProductList:[],tagID:m}}for(var y=function(e){var t=i[e];(t.querySelector(".product-list-card").getAttribute("data-tags")||c[0].toString()).split(",").forEach((function(e){n[e]&&n[e].tagProductList.push(t.cloneNode(!0))}))},g=0;g<i.length;g+=1)y(g);Object.keys(n).forEach((function(e){var t=n[e];t.tagProductList.length>0?t.checkElement.onclick=function(e){e.preventDefault();var n=t.isChecked,r=document.querySelector(".accessory-list-".concat(t.tagID)),o=a.querySelector("input");n?s.length>1&&(s=l()(s,t.tagID),w(r,["d-none"]),t.isChecked=!1,t.checkElement.querySelector("input").checked=!1):(s=p()(s,[t.tagID]),I(r,["d-none"]),t.isChecked=!0,t.checkElement.querySelector("input").checked=!0),o.checked=s.length===c.length,u()}:(c=l()(c,t.tagID),A(t.checkElement.parentNode),delete n[e])})),c.length>1?(a.innerHTML='\n          <label class="label-checkbox" data-tag="0">\n            <input type="checkbox" checked>\n            <span class="label-text check-mark">'.concat(e.i18n.t("all-accessories"),"</span>\n          </label>"),a.setAttribute("class","col-12 col-md-6 col-lg-3 py-3"),a.onclick=function(e){e.preventDefault();var t=a.querySelector("input");t.checked||(s=c,t.checked=!0,v()(n,(function(e,t){var r=document.querySelector(".accessory-list-".concat(e.tagID)),o=e.checkElement.querySelector("input");I(r,["d-none"]),o.checked=!0,n[t].isChecked=!0})),u())},s=c,document.querySelector(".js-product-tag-index").prepend(a),c.forEach((function(e){var t=n[e],i=document.createElement("section"),a=document.createElement("div"),c=document.createElement("h3"),s=document.createElement("ul");i.setAttribute("class","accessory-list py-3 accessory-list-".concat(e)),a.setAttribute("class","container"),c.setAttribute("class","text-center py-5"),c.innerText=t.tagName,s.setAttribute("class",o.getAttribute("class"));for(var u=0;u<t.tagProductList.length;u+=1)s.appendChild(t.tagProductList[u]);a.appendChild(c),a.appendChild(s),i.appendChild(a),r.appendChild(i)})),I(document.querySelector(".js-product-tag-index"),["d-none"]),A(o),u()):A(document.querySelector(".js-product-tag-index"))}():A(document.querySelector(".js-product-tag-index"))}},{key:"mountAllSlugButton",value:function(){for(var e=document.querySelectorAll(".js-slug-btn[data-slug]"),t=0;t<e.length;t+=1){var n=e[t],r=n.getAttribute("data-slug"),o=n.getAttribute("target")||"_blank",i=n.innerText||n.textContent,a=document.createElement("span"),c=m()(_(n),{buttonName:i,linkTarget:o}),s=document.querySelector(".header .nav20-link-2-content"),u=document.querySelector(".footer .mobile-footer-fixed-section .container");if(a.setAttribute("data-slug",r),c.isStickyBtn&&s&&u){var l=a.cloneNode(!0);n.parentNode.removeChild(n),s.append(a),u.append(l),this.mountCompoment(l,Ro,c)}else n.parentNode.replaceChild(a,n);this.mountCompoment(a,Ro,c)}}},{key:"mountAllSlugProduct",value:function(){for(var e=document.querySelectorAll(".js-slug-product[data-slug]"),t=0;t<e.length;t+=1){var n=e[t],r=n.getAttribute("data-slug"),o=n.querySelector(".js-slug-box"),i=_(n);w(n,["js-slug-".concat(r)]),this.mountCompoment(o,qo,i)}}},{key:"mountCompoment",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e&&a.a.render(o.a.createElement(c.a,{store:Tn},o.a.createElement(s.a,{i18n:this.i18n},o.a.createElement(t,m()(_(e),n)))),e)}}])&&Uo(t.prototype,n),r&&Uo(t,r),e}());window.miniCartViveApp=new ce,Ho.init()},668:function(e,t){},682:function(e,t){}});