"use strict";var _turnOnIndicators=!1,viewZoomPinAnimationScrollMagicScene,viewZoomClassAnimationScrollMagicScene,controller=new ScrollMagic.Controller({loglevel:0,addIndicators:_turnOnIndicators}),enterController=new ScrollMagic.Controller({addIndicators:_turnOnIndicators,globalSceneOptions:{triggerHook:"onEnter"}}),leaveController=new ScrollMagic.Controller({addIndicators:_turnOnIndicators,globalSceneOptions:{triggerHook:"onLeave"}}),centerController=new ScrollMagic.Controller({addIndicators:_turnOnIndicators,globalSceneOptions:{}}),commonSetting=function(){var e={mobileMaxReserlution:function(){return 991.98},tabletMaxReserlution:function(){return 991.98},isRtl:function(){return!!$("body").hasClass("rtl")},isMobile:function(){return $(window).width()<=e.mobileMaxReserlution()},isTablet:function(){return $(window).width()<=e.tabletMaxReserlution()&&$(window).width()>e.mobileMaxReserlution()},isDesktop:function(){return $(window).width()>e.tabletMaxReserlution()},updateScrollPosition:function(t,i){var n=e.getScrollDurationPosition(t),o=n[0];n[1];i.offset(o)},updateScrollDurationPosition:function(t,i){var n=e.getScrollDurationPosition(t),o=n[0],a=n[1];i.offset(o),i.duration(a)},updateMobileScrollDurationPosition:function(t,i){var n=e.getMobileScrollDurationPosition(t),o=n[0],a=n[1];i.offset(o),i.duration(a)},getScrollDurationPosition:function(e){var t=0,i=0,n=5,o=5,a=e.outerHeight();return void 0!==e.data("top-trigger-percentage")&&(n=e.data("top-trigger-percentage"),t=parseInt(a*(n/100),10)),void 0!==e.data("bottom-trigger-percentage")&&(o=e.data("bottom-trigger-percentage"),i=a-parseInt(a*(o/100),10)-t),[t,i]},getMobileScrollDurationPosition:function(e){var t=0,i=0,n=5,o=5,a=e.outerHeight();return void 0!==e.data("m-top-trigger-percentage")&&(n=e.data("m-top-trigger-percentage"),t=parseInt(a*(n/100),10)),void 0!==e.data("m-bottom-trigger-percentage")&&(o=e.data("m-bottom-trigger-percentage"),i=a-parseInt(a*(o/100),10)-t),[t,i]}};return e}(),infoBar=function(){var e={init:function(){$(".info-bar").length>0&&(e.setupSticky(),e.setupToggleMenu(),setTimeout(function(){e.setupScrollToTab()},100))},switchSpecSelected:function(){setTimeout(function(){new ScrollMagic.Scene({triggerElement:".section-spec-wrapper",duration:$(".section-spec-wrapper").height()-1}).setClassToggle(".scroll-btn_spec","selected").addTo(centerController)},1e3)},switchItemSelected:function(){setTimeout(function(){$(".scroll-btn").each(function(e,t){var i=$(this).data("scroll-to");new ScrollMagic.Scene({triggerElement:".tab-group_"+i,duration:$(".tab-group_"+i).height()-1}).setClassToggle(".scroll-btn_"+i,"selected").addTo(centerController)})},1e3)},setupSticky:function(){var e=(new ScrollMagic.Scene({triggerElement:".info-bar",triggerHook:"onLeave"}).setPin(".info-bar",{pushFollowers:!0,spacerClass:"custome-id-pin-info-bar"}).addTo(controller),$(".info-bar")),t=$(window);$("body").hasClass("rtl")?t.scroll(function(i){"fixed"===e.css("position")?e.css({left:"auto",right:t.scrollLeft()+"px"}):e.css({left:"auto",right:"0px"})}):t.scroll(function(i){"fixed"===e.css("position")?e.css({left:-t.scrollLeft()+"px"}):e.css({left:"0px"})})},setupScrollToTab:function(){$(".scroll-btn").on("click",function(t){t.preventDefault();var i=$(this).data("scroll-to"),n=0;$(this).hasClass("trigger-animation");void 0!==i&&(n=$("#"+i).offset().top-$(".info-bar").height(),$(".tab-group").css("visibility","hidden"),$("html, body").animate({scrollTop:n},500,function(){$(".tab-group").css("visibility","visible")}),$(".info-bar").find(".m-toggle-menu").text($(this).text()),e.toggleMenu())})},setupToggleMenu:function(){$(".m-toggle-menu").on("click",function(t){t.preventDefault(),e.toggleMenu()})},toggleMenu:function(){$(".m-toggle-menu").toggleClass("active"),$(".scroll-btn-group").toggleClass("show")}};return e}(),modalVideo=function(){var e={init:function(){var t=$(".section__watch-video .modal-video");t.length>0&&$.each(t,function(t,i){var n=($(this),$(this).find(".play-modal-video-btn")),o=n.data("vtype"),a=n.data("vid");n.on("click",function(t){t.preventDefault(),"youtube"===o?youtubeVideo.init(a):(youkuVideo.init(a),e.showModal(),e.setupCloseModalBtn())})})},setupCloseModalBtn:function(){$(".modal-overlap-container .btn-close").off("click").on("click",function(t){t.preventDefault(),e.hideModal()})},showModal:function(){$(".modal-overlap-container").addClass("show"),$("html, body").addClass("fixed")},hideModal:function(){$(".modal-overlap-container").removeClass("show"),$("html, body").removeClass("fixed"),$(".modal-overlap-container .align-center").html('<div id="player"></div>')}};return e}(),autoPlayVideo=function(){var e={initVariable:[],init:function(){var t=$(".section__auto-video");t.length>0&&$.each(t,function(t,i){var n=$(this);e.setupAnimation(n,t),$(window).resize(function(){e.setupAnimation(n,t)})})},setupAnimation:function(t,i){if(!t.hasClass("animation-set")){var n=void 0!==t.data("scroll-auto-play-duration")?t.data("scroll-auto-play-duration"):"140%",o=t.find("video")[0].play();void 0!==o&&o.then(function(o){t.find("video")[0].pause(),e.initVariable[i]=new ScrollMagic.Scene({triggerElement:t[0],offset:0,duration:n}).on("enter leave",function(e){"enter"===e.type?t.find("video")[0].play():t.find("video")[0].pause()}).addTo(centerController)}).catch(function(e){t.find("video")[0].play()}),t.addClass("animation-set")}}};return e}(),viewZoomAnimation=function(){var e={init:function(){var t=$(".section__view-zoom-animation");t.length>0&&$.each(t,function(t,i){var n=$(this);e.setupAnimation(n),$(window).resize(function(){e.setupAnimation(n)})})},setupAnimation:function(e){commonSetting.isMobile()?e.hasClass("animation-set-pin")&&void 0!==viewZoomPinAnimationScrollMagicScene&&(viewZoomPinAnimationScrollMagicScene.destroy(!0),e.removeClass("animation-set-pin")):e.hasClass("animation-set-pin")||(viewZoomPinAnimationScrollMagicScene=new ScrollMagic.Scene({triggerElement:e[0],offset:0,duration:"50%"}).setPin(e[0],{pushFollowers:!0}).addTo(leaveController),e.addClass("animation-set-pin"));var t=commonSetting.isMobile()?-.2*e.outerHeight():.6*e.outerHeight();e.hasClass("animation-set-class")?viewZoomClassAnimationScrollMagicScene.offset(t):(viewZoomClassAnimationScrollMagicScene=new ScrollMagic.Scene({triggerElement:e[0],offset:t,duration:"200%"}).setClassToggle(e[0],"active").addTo(centerController),e.addClass("animation-set-class"))}};return e}(),scrollKVSection=function(){var e={initVariable:[],status:0,init:function(){var t=$(".custom-id-kv");t.length>0&&$.each(t,function(t,i){var n=$(this);e.setupAnimation(n,t),$(window).resize(function(){e.setupAnimation(n,t)})})},animationPin:function(t,i){t.find(".kv-block").css({opacity:1}),e.initVariable[i]=new ScrollMagic.Scene({triggerElement:t[0],offset:-22,duration:"400%"}).setPin(t[0],{pushFollowers:!0}).on("progress",function(n){var o=e.status;n.progress>.2&&n.progress<.6?2!==o&&(e.status=2,e.resizeSetting(t,i)):n.progress<.2?1!==o&&(e.status=1,e.resizeSetting(t,i)):n.progress>.6&&3!==o&&(e.status=3,e.resizeSetting(t,i))}).on("leave",function(n){"AFTER"===n.state?e.status=4:e.status=0,e.resizeSetting(t,i)}).addTo(leaveController)},resizeSetting:function(t,i){var n=t.find(".bg-block").innerHeight(),o=$(window).innerHeight(),a=o-n/3;switch(e.status){case 0:case 1:t.find(".bg-block").css({top:"0px"}),t.find(".asset-block.asset-block--first").removeClass("position--before"),t.find(".asset-block.asset-block--first").removeClass("position--after"),t.find(".asset-block.asset-block--second").removeClass("position--before"),t.find(".asset-block.asset-block--second").addClass("position--after"),t.find(".asset-block.asset-block--third").removeClass("position--before"),t.find(".asset-block.asset-block--third").addClass("position--after");break;case 2:t.find(".bg-block").css({top:"-"+(n/3-a)+"px"}),t.find(".asset-block.asset-block--first").addClass("position--before"),t.find(".asset-block.asset-block--first").removeClass("position--after"),t.find(".asset-block.asset-block--second").removeClass("position--before"),t.find(".asset-block.asset-block--second").removeClass("position--after"),t.find(".asset-block.asset-block--third").removeClass("position--before"),t.find(".asset-block.asset-block--third").addClass("position--after");break;case 3:t.find(".bg-block").css({top:"-"+(n/3*2-a)+"px"}),t.find(".asset-block.asset-block--first").addClass("position--before"),t.find(".asset-block.asset-block--first").removeClass("position--after"),t.find(".asset-block.asset-block--second").addClass("position--before"),t.find(".asset-block.asset-block--second").removeClass("position--after"),t.find(".asset-block.asset-block--third").removeClass("position--after"),t.find(".asset-block.asset-block--third").removeClass("position--after");break;case 4:t.find(".bg-block").css({top:"-"+(n/3*2-a)+"px"}),e.status=5}},setupAnimation:function(t,i){commonSetting.isMobile()?t.hasClass("animation-scroll-kv")&&void 0!==e.initVariable[i]&&(e.initVariable[i].destroy(!0),t.find(".bg-block").css({top:"0px"}),t.removeClass("animation-scroll-kv")):(e.resizeSetting(t,i),t.hasClass("animation-scroll-kv")||(e.animationPin(t,i),t.addClass("animation-scroll-kv")))}};return e}(),scrollActive=function(){var e={initVariable:[],init:function(){var t=$(".section__scroll-active-animation");t.length>0&&$.each(t,function(t,i){var n=$(this);e.setupAnimation(n,t),$(window).resize(function(){e.setupAnimation(n,t)})})},setupAnimation:function(t,i){if(t.hasClass("animation-active-set"))if(commonSetting.isMobile()||t.hasClass("animation-active-set-desktop")){if(commonSetting.isMobile()&&!t.hasClass("animation-active-set-mobile")){e.initVariable[i].triggerHook(function(){if(commonSetting.isMobile()){return void 0!==t.attr("scroll-active-hook-m")?t.attr("scroll-active-hook-m"):"0.7"}return"0.5"}()),t.addClass("animation-active-set-mobile"),t.removeClass("animation-active-set-desktop")}}else e.initVariable[i].triggerHook("0.5"),t.addClass("animation-active-set-desktop"),t.removeClass("animation-active-set-mobile");else{var n=void 0!==t.data("scroll-active-duration")?t.data("scroll-active-duration"):0,o=!0===t.data("scroll-active-toggle"),a=void 0!==t.data("scroll-active-offset")?Number(t.data("scroll-active-offset"))*t.innerHeight():"0";e.initVariable[i]=new ScrollMagic.Scene({triggerElement:t[0],offset:a,duration:n,triggerHook:function(){if(commonSetting.isMobile()){return void 0!==t.attr("data-scroll-active-hook-m")?t.attr("data-scroll-active-hook-m"):"0.7"}return"0.5"}()}).on("enter",function(e){t.addClass("active")}).on("leave",function(e){o&&t.removeClass("active")}).addTo(centerController),commonSetting.isMobile()?t.addClass("animation-active-set-mobile"):t.addClass("animation-active-set-desktop"),t.addClass("animation-active-set")}}};return e}(),scrollActivePortrait=function(){var e={initVariable:[],initVariableMobile:[],init:function(){var t=$(".custom-id-portrait-2");t.length>0&&$.each(t,function(t,i){var n=$(this);e.setupAnimation(n,t),$(window).resize(function(){e.setupAnimation(n,t)})})},setupAnimation:function(t,i){if(commonSetting.isMobile()){if(t.hasClass("animation-portrait-active-set")&&void 0!==e.initVariable[i]&&(e.initVariable[i].destroy(!0),t.removeClass("animation-portrait-active-set")),!t.hasClass("animation-portrait-active-set-mobile")){var n=void 0!==t.data("scroll-portrait-duration")?t.data("scroll-portrait-duration"):0,o=void 0!==t.data("scroll-portrait-hook")?t.data("scroll-portrait-hook"):"0.5",a=!0===t.data("scroll-portrait-toggle");e.initVariableMobile[i]=[],t.find(".image-item").each(function(t,r){e.initVariableMobile[i][t]=new ScrollMagic.Scene({triggerElement:r,offset:30,duration:n,triggerHook:o}).on("enter",function(e){$(r).addClass("active")}).on("leave",function(e){a&&$(r).removeClass("active")}).addTo(centerController)}),t.addClass("animation-portrait-active-set-mobile")}}else if(t.hasClass("animation-portrait-active-set-mobile")&&(e.initVariableMobile[i].map(function(t,n){void 0!==e.initVariableMobile[i][n]&&e.initVariableMobile[i][n].destroy(!0)}),t.removeClass("animation-portrait-active-set-mobile")),!t.hasClass("animation-portrait-active-set")){var r=void 0!==t.data("scroll-portrait-duration")?t.data("scroll-portrait-duration"):0,l=void 0!==t.data("scroll-portrait-hook")?t.data("scroll-portrait-hook"):"0.5",s=!0===t.data("scroll-portrait-toggle"),c=void 0!==t.data("scroll-portrait-offset")?Number(t.data("scroll-portrait-offset"))*t.innerHeight():"0";e.initVariable[i]=new ScrollMagic.Scene({triggerElement:t[0],offset:c,duration:r,triggerHook:l}).on("enter",function(e){t.find(".image-item").addClass("active")}).on("leave",function(e){s&&t.find(".image-item").removeClass("active")}).addTo(centerController),t.addClass("animation-portrait-active-set")}}};return e}(),scrollFixChangeImg=function(){var e={initVariable:[],initBall:[],init:function(){var t=$(".section-scroll-fix-change-animation");t.length>0&&$.each(t,function(t,i){var n=$(this);e.setupAnimation(n,t),$(window).resize(function(){e.setupAnimation(n,t)})})},animationPin:function(t,i){var n=t.data("pin")?t.data("pin"):"200%";e.initVariable[2*i-1]=new ScrollMagic.Scene({triggerElement:t[0],offset:0,duration:n}).setPin(t[0],{pushFollowers:!1}).addTo(leaveController)},animationOpacity:function(t,i){for(var n=function(){var e=t.data("mobile-height")?t.data("mobile-height"):360;return commonSetting.isMobile()?e/360*window.innerWidth:"100%"},o=commonSetting.isMobile()?centerController:leaveController,a=t.find(".bg-block--pin picture").length,r=new TimelineMax,l=a;l>1;l--){var s=t.find(".bg-block--pin picture:nth-child("+l+")")[0],c=TweenMax.fromTo(s,1,{opacity:1},{opacity:0});r.add(c)}e.initVariable[2*i]=new ScrollMagic.Scene({triggerElement:function(){if(commonSetting.isMobile()){return t.data("mobile-ele")?t.find("."+t.data("mobile-ele"))[0]:t[0]}return t[0]}(),offset:0,duration:n}).setTween(r).addTo(o)},animationBall:function(t,i){if(t.hasClass("custom-id-display")){var n=function(t,i){e.initBall[t]=new ScrollMagic.Scene({triggerElement:a(),offset:0,duration:r,triggerHook:o}).setTween(i).addTo(centerController)},o=commonSetting.isMobile()?"0.75":leaveController,a=function(){if(commonSetting.isMobile()){return t.data("mobile-ele")?t.find("."+t.data("mobile-ele"))[0]:t[0]}return t[0]},r=function(){if(commonSetting.isMobile()){return t.data("mobile-ele")?t.find("."+t.data("mobile-ele")).innerHeight():"100%"}return"100%"};[function(){var e=new TimelineMax,i=t.find(".front-device--shadow"),n=TweenMax.to(i,1,{top:"108%",width:"63%"}),o=TweenMax.to(i,1,{ease:Sine.easeOut,top:"115%",width:"75%"});return e.add(n).add(o),e},function(){var e=new TimelineMax,i=t.find(".front-device--text"),n=TweenMax.to(i,1,{opacity:"0",top:"42%"}),o=TweenMax.to(i,1,{ease:Sine.easeOut,opacity:"1",top:"50%"});return e.add(n).add(o),e},function(){var e=new TimelineMax,i=t.find(".front-device--left"),n=TweenMax.to(i,1,{right:"47%"}),o=TweenMax.to(i,1,{ease:Sine.easeOut,right:"50%",width:"50%"});return e.add(n).add(o),e},function(){var e=new TimelineMax,i=t.find(".front-device--right"),n=TweenMax.to(i,1,{left:"46.5%"}),o=TweenMax.to(i,1,{ease:Sine.easeOut,left:"50%",width:"50%"});return e.add(n).add(o),e},function(){var e=new TimelineMax,i=t.find(".front-pink-ball-1"),n=TweenMax.to(i,1,{top:"6.6%",left:"7.6%",width:"11.4%",filter:"blur(1px)"}),o=TweenMax.to(i,1,{ease:Sine.easeOut,top:"-15%",left:"-18%",width:"13%",filter:"blur(6px)"});return e.add(n).add(o),e},function(){var e=new TimelineMax,i=t.find(".front-pink-ball-2"),n=TweenMax.to(i,1,{top:"44.2%",left:"6.8%",width:"22.4%",filter:"blur(0.5px)"}),o=TweenMax.to(i,1,{ease:Sine.easeOut,top:"65%",left:"-22%",width:"28%",filter:"blur(4px)"});return e.add(n).add(o),e},function(){var e=new TimelineMax,i=t.find(".front-pink-ball-3"),n=TweenMax.to(i,1,{top:"54.2%",left:"35.8%",width:"5.4%"}),o=TweenMax.to(i,1,{ease:Sine.easeOut,top:"87%",left:"19%",width:"7%"});return e.add(n).add(o),e},function(){var e=new TimelineMax,i=t.find(".front-pink-ball-4"),n=TweenMax.to(i,1,{top:"5.8%",left:"53.8%",width:"24.4%"}),o=TweenMax.to(i,1,{ease:Sine.easeOut,top:"-35%",left:"77%",width:"26%"});return e.add(n).add(o),e},function(){var e=new TimelineMax,i=t.find(".front-pink-ball-5"),n=TweenMax.to(i,1,{top:"59%",left:"81.6%"}),o=TweenMax.to(i,1,{ease:Sine.easeOut,top:"103%",left:"108%"});return e.add(n).add(o),e},function(){var e=new TimelineMax,i=t.find(".front-white-ball-1"),n=TweenMax.to(i,1,{top:"34%",left:"17.6%"}),o=TweenMax.to(i,1,{ease:Sine.easeOut,top:"22%",left:"-4%"});return e.add(n).add(o),e},function(){var e=new TimelineMax,i=t.find(".front-white-ball-2"),n=TweenMax.to(i,1,{top:"69.6%",left:"27.4%"}),o=TweenMax.to(i,1,{ease:Sine.easeOut,top:"108%",left:"9%"});return e.add(n).add(o),e},function(){var e=new TimelineMax,i=t.find(".front-white-ball-3"),n=TweenMax.to(i,1,{top:"13.2%",left:"35.8%"}),o=TweenMax.to(i,1,{ease:Sine.easeOut,top:"-6%",left:"31%"});return e.add(n).add(o),e},function(){var e=new TimelineMax,i=t.find(".front-white-ball-4"),n=TweenMax.to(i,1,{top:"47.8%",left:"51.2%"}),o=TweenMax.to(i,1,{ease:Sine.easeOut,top:"63%",left:"88%"});return e.add(n).add(o),e},function(){var e=new TimelineMax,i=t.find(".front-white-ball-5"),n=TweenMax.to(i,1,{top:"-0.2%",left:"77.6%",width:"18.4%",filter:"blur(1px)"}),o=TweenMax.to(i,1,{ease:Sine.easeOut,top:"-5%",left:"116%",width:"8%",filter:"blur(6px)"});return e.add(n).add(o),e}].map(function(e,t){n(t,e())})}},setupAnimation:function(t,i){commonSetting.isMobile()?(t.hasClass("animation-scroll-fix-set")&&(void 0!==e.initVariable[2*i-1]&&e.initVariable[2*i-1].destroy(!0),void 0!==e.initVariable[2*i]&&e.initVariable[2*i].destroy(!0),t.hasClass("custom-id-display")&&void 0!==e.initBall[0]&&e.initBall.map(function(t,i){e.initBall[i].destroy(!0)}),t.removeClass("animation-scroll-fix-set")),t.hasClass("animation-scroll-fix-set-mobile")||(e.animationOpacity(t,i),e.animationBall(t,i),t.addClass("animation-scroll-fix-set-mobile"))):t.hasClass("animation-scroll-fix-set")||(t.hasClass("animation-scroll-fix-set-mobile")&&(void 0!==e.initVariable[2*i]&&e.initVariable[2*i].destroy(!0),t.hasClass("custom-id-display")&&void 0!==e.initBall[0]&&e.initBall.map(function(t,i){e.initBall[i].destroy(!0)}),t.removeClass("animation-scroll-fix-set-mobile")),e.animationPin(t,i),e.animationOpacity(t,i),e.animationBall(t,i),t.addClass("animation-scroll-fix-set"))}};return e}(),scrollScaleVideo=function(){var e={initVariable:[],changeScene:[],playPromise:[],init:function(){var t=$(".section__scroll-scale");t.length>0&&$.each(t,function(t,i){var n=$(this);e.setupAnimation(n,t),$(window).resize(function(){e.setupAnimation(n,t)})})},animationPin:function(t,i){t.find(".bg-block");t.attr("data-scroll-scale-top",!0),commonSetting.isMobile()&&(t.addClass("step-0"),t.find(".ball-1").addClass("active"),t.find(".video-area").find(".video-item").eq(0),t.find(".caption-block").eq(0).addClass("active")),e.initVariable[2*i-1]=new ScrollMagic.Scene({triggerElement:t[0],offset:0,duration:"100%"}).on("leave",function(e){"AFTER"===e.state?(t.find(".bg-block")[0].style.removeProperty("width"),t.find(".bg-block")[0].style.removeProperty("top"),t.find(".bg-block")[0].style.removeProperty("height"),t.attr("data-scroll-scale-top",!1)):"BEFORE"===e.state&&t.attr("data-scroll-scale-top",!0)}).on("enter",function(e){t.attr("data-scroll-scale-top",!1)}).addTo(leaveController)},animationPin2:function(t,i){var n=t.find(".video-area").find(".video-item").length,o=function(){return commonSetting.isMobile()?n*$(window).innerHeight()*.75:(n+1)*$(window).innerHeight()};e.initVariable[2*i]=new ScrollMagic.Scene({triggerElement:t[0],offset:0,duration:o}).setPin(t[0],{pushFollowers:!0}).addTo(leaveController)},animationChange1:function(t,i){var n=t.find(".bg-block"),o=t.find(".video-area").find(".video-item").length,a=1/(o+1),r=1/o,l=function(){return commonSetting.isMobile()?o*$(window).innerHeight()*.75:(o+1)*$(window).innerHeight()};e.changeScene[0]=new ScrollMagic.Scene({triggerElement:t[0],offset:0,duration:l}).on("progress",function(e){for(var i=0;i<=o-1;i++)if(commonSetting.isMobile())e.progress>=i*r&&e.progress<=(i+1)*r&&(t.addClass("step-"+i),t.removeClass("step-"+(i+1)),t.removeClass("step-"+(i-1)),t.find(".ball").removeClass("active"),t.find(".ball-"+(i+1)).addClass("active").removeClass("actived"),t.find(".ball-"+i).addClass("actived"),t.find(".video-area").find(".video-item").eq(i).addClass("active"),t.find(".video-area").find(".video-item").eq(i+1).removeClass("active"),t.find(".caption-block").removeClass("active"),t.find(".caption-block").eq(i).addClass("active"));else if(e.progress>=(1+i)*a&&e.progress<=(2+i)*a)t.addClass("step-"+i),t.removeClass("step-"+(i+1)),t.removeClass("step-"+(i-1)),t.find(".ball").removeClass("active"),t.find(".ball-"+(i+1)).addClass("active").removeClass("actived"),t.find(".ball-"+i).addClass("actived"),t.find(".video-area").find(".video-item").removeClass("active"),t.find(".video-area").find(".video-item").eq(i).addClass("active"),t.find(".caption-block").removeClass("active"),t.find(".caption-block").eq(i).addClass("active");else if(e.progress<1*a&&(t.find(".ball").removeClass("active"),t.find(".ball-1").addClass("actived"),t.find(".caption-block").removeClass("active"),t.find(".video-area").find(".video-item").removeClass("active actived"),t.find(".video-area").find(".video-item").eq(0).addClass("active actived"),!commonSetting.isMobile())){var l=100-e.progress*(100/a),s=Number(n.attr("data-dw"))*l+Number(n.attr("data-fw")),c=Number(n.attr("data-dh"))*l+Number(n.attr("data-fh")),d=Number(n.attr("data-dt"))*l+Number(n.attr("data-ft"));n.css({width:s+"px",height:c+"px",top:d+"px"})}}).addTo(leaveController)},initScaleSetting:function(e,t,i){if(e.find(".bg-block")[0].style.removeProperty("width"),e.find(".bg-block")[0].style.removeProperty("top"),e.find(".bg-block")[0].style.removeProperty("height"),commonSetting.isMobile())"true"===e.attr("data-scroll-scale-top")&&(e.addClass("step-0"),e.find(".ball-1").addClass("active"),e.find(".video-area").find(".video-item").eq(0).addClass("active"),e.find(".caption-block").eq(0).addClass("active"));else{var n=e.find(".bg-block"),o=Number(n.css("width").replace("px","")),a=Number(n.css("height").replace("px","")),r=Number(n.css("top").replace("px","")),l=$(window).innerWidth(),s=$(window).innerHeight(),c=l/s>=1075/501,d=c?1.1*l:1.1*s*1075/501,f=c?1.1*l*501/1075:1.1*s,u=-.15*s,m=(d-o)/100,p=(f-a)/100,v=(u-r)/100;n.attr("data-fw",o),n.attr("data-fh",a),n.attr("data-ft",r),n.attr("data-dw",m),n.attr("data-dh",p),n.attr("data-dt",v),(i||"true"===e.attr("data-scroll-scale-top"))&&n.css({width:d+"px",height:f+"px",top:u+"px"})}},setupAnimation:function(t,i){t.hasClass("animation-set-scroll-scale")||(e.animationPin(t,i),e.animationPin2(t,i),e.animationChange1(t,i),t.addClass("animation-set-scroll-scale")),e.initScaleSetting(t,i,!1)}};return e}(),imageComparison=function(){var e={init:function(){var t=$(".image-comparison-block");t.length>0&&$.each(t,function(t,i){var n=$(this);e.sliderSetup(n)})},sliderSetup:function(t){var i=t.find(".cd-image-container"),n=t.find(".cd-handle"),o=i.find(".cd-resize-img"),a=o.find("img");i.length>0&&(t.find(".cd-handle")[0].addEventListener("touchmove",function(e){e.preventDefault()},{passive:!1}),i[0].addEventListener("mousemove",function(t){e.trackImageClipLocation(i,o,a,n,t)},!1),i[0].addEventListener("touchstart",function(t){e.trackImageClipLocation(i,o,a,n,t)},!1),i[0].addEventListener("touchmove",function(t){e.trackImageClipLocation(i,o,a,n,t)},!1),i.addClass("is-visible"))},trackImageClipLocation:function(e,t,i,n,o){var a=e[0].getBoundingClientRect(),r=(o.pageX-a.left)/e.outerWidth()*100;if((r=void 0!==o.changedTouches?(o.changedTouches[0].pageX-a.left)/e.outerWidth()*100:(o.pageX-a.left)/e.outerWidth()*100)<=100){$(window).innerWidth()<768?(r>85&&(r=85),r<15&&(r=15)):(r>95&&(r=95),r<5&&(r=5)),n.css({left:r+"%"}),t.width(r+"%"),i.css({width:100/r*100+"%",zIndex:3})}}};return e}(),lazyLoadImg=function(){return{init:function(){if("undefined"!=typeof LazyLoad){var e=2*$(window).innerHeight();new LazyLoad({elements_selector:".lazy-img",threshold:e})}}}}(),resizeViewSection=function(){return{init:function(){var e=$(window).innerWidth();$("this").find(".caption-block"),$(".custom-id-view").each(function(){var t=$("this").find(".caption-block").length>0;if(e>=768){var i=$(this).innerHeight(),n=t?parseFloat($(this).find(".caption-block").css("padding-top")):0,o=t?$(this).find(".caption-block").innerHeight()-n:0,a=e>=1200?1e3:e*(5/6),r=e>=1200?560:e*(7/15),l=o+r+60,s=i>l+200,c=s?(i-l)/2:100;r=s?r:i-(o+2*c+60);var d=s?l:o+r+60;t&&$(this).find(".caption-block").css({"padding-top":c}),$(this).find(".bg-block").css({clip:"rect("+(c+o+60)+"px,"+(e/2+a/2)+"px,"+(c+d)+"px,"+(e/2-a/2)+"px)"})}else{var f=.15*e,u=.85*e,m=e/3*2*.15,p=e/3*2*.85;$(this).find(".bg-block").css({clip:"rect("+m+"px,"+u+"px,"+p+"px,"+f+"px)"})}})}}}(),textPerformance=function(){var e={init:function(){$(".text-performance").length>0&&$.each($(".text-performance"),function(t,i){var n=$(this);new ScrollMagic.Scene({triggerElement:n[0],triggerHook:"onEnter",offset:140}).addTo(controller).on("enter",function(){$.each(n.find(".time-optimize"),function(t,i){var n=$(this)[0],o=$(this).data("duration"),a=$(this).data("start"),r=$(this).data("to");e.runNumber(n,a,r,o)})})})},runNumber:function(e,t,i,n){new Odometer({el:e,value:t,duration:n,format:"d"}).update(i)}};return e}();$(window).resize(function(){resizeViewSection.init()}),$(document).ready(function(){lazyLoadImg.init()}),$(window).load(function(){infoBar.init(),modalVideo.init(),resizeViewSection.init(),viewZoomAnimation.init(),scrollKVSection.init(),scrollActive.init(),scrollActivePortrait.init(),autoPlayVideo.init(),textPerformance.init(),imageComparison.init(),scrollScaleVideo.init(),scrollFixChangeImg.init()});var youkuVideo=function(){return{init:function(e){new YKU.Player("player",{styleid:"0",client_id:"2a8fda48fc709b73",vid:e,newPlayer:!1,autoplay:!0,show_related:!1,events:{onPlayEnd:function(){modalVideo.hideModal()},onPlayStart:function(){modalVideo.showModal(),modalVideo.setupCloseModalBtn()}}})},resetPlayerHeight:function(){"youku"===$(".player-container").data("vtype")&&$("#player").height($("picture").height())}}}(),youtubeVideo=function(){return{init:function(e){function t(e){e.target.playVideo(),modalVideo.showModal(),modalVideo.setupCloseModalBtn()}function i(e){0===e.data&&modalVideo.hideModal()}var n=void 0;!function(){n=new YT.Player("player",{height:"390",width:"640",videoId:e,events:{onReady:t,onStateChange:i}})}()}}}();!function(e){e.fn.videobject=function(t){var i=e.extend({flash:'<iframe width="mywidth" height="myheight" src="myurl" frameborder="0" allowfullscreen></iframe>',id:"XMTcwMDMxNTA4",url:"youtube",width:"500",height:"282",warning:"You need Flash Player enabled."},t||{}),n=function(){var e=!1;try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash")&&(e=!0)}catch(t){void 0!==navigator.mimeTypes["application/x-shockwave-flash"]&&(e=!0)}return e};return this.empty().html(function(t){var o=!0,a=void 0,r="http"+(/^https/.test(location.protocol)?"s":"")+"://www.youtube.com/embed/myid?autoplay=1&wmode=opaque";return e("html").hasClass("desktop")?(o=n(),a="http://static.youku.com/v/swf/qplayer.swf?VideoIDS=myid=&isAutoPlay=true&isShowRelatedVideo=false&embedid=-&showAd=0"):a="http://static.youku.com/v1.0.0149/v/swf/loader.swf?VideoIDS=myid&quality=high&isAutoPlay=true&winType=adshow",o?(11===t.length?i.id=r.replace(/myid/,t):(i.id=a.replace(/myid/,t),i.flash="<embed src='myurl' allowFullScreen='true' quality='high' width='mywidth' height='myheight' align='middle' allowScriptAccess='always' type='application/x-shockwave-flash'></embed>"),i.flash.replace(/myurl/,i.id).replace(/mywidth/,i.width).replace(/myheight/,i.height)):i.warning}(i.id))}}(jQuery);