!function(){function e(t,n,i){function a(r,s){if(!n[r]){if(!t[r]){var d="function"==typeof require&&require;if(!s&&d)return d(r,!0);if(o)return o(r,!0);var c=new Error("Cannot find module '"+r+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[r]={exports:{}};t[r][0].call(l.exports,function(e){return a(t[r][1][e]||e)},l,l.exports,e,t,n,i)}return n[r].exports}for(var o="function"==typeof require&&require,r=0;r<i.length;r++)a(i[r]);return a}return e}()({1:[function(e,t,n){"use strict";var i=function(e){return e&&e.__esModule?e:{default:e}}(e("./libs/typemate")),a=new ScrollMagic.Controller({loglevel:0,addIndicators:!1}),o=new ScrollMagic.Controller({addIndicators:!1,globalSceneOptions:{triggerHook:"onEnter"}}),r=new ScrollMagic.Controller({addIndicators:!1,globalSceneOptions:{triggerHook:"onLeave"}}),s=new ScrollMagic.Controller({addIndicators:!1,globalSceneOptions:{}}),d={mobileMaxResolution:function(){return 991},isRtl:function(){return $("body").hasClass("rtl")},isMobile:function(){return $(window).width()<=d.mobileMaxResolution()},forcePageReload:function(){$(window).width()<=d.mobileMaxResolution()&&location.reload(),$(window).width(),d.mobileMaxResolution()},updateScrollDurationPosition:function(e,t){var n=d.getScrollDurationPosition(e),i=n[0],a=n[1];t.offset(i),t.duration(a)},getScrollDurationPosition:function(e){var t=0,n=0,i=5,a=5,o=e.outerHeight();return void 0!==e.data("top-trigger-percentage")&&(i=e.data("top-trigger-percentage")),t=parseInt(o*(i/100),10),void 0!==e.data("bottom-trigger-percentage")&&(a=e.data("bottom-trigger-percentage")),n=o-parseInt(o*(a/100),10)-t,[t,n]}},c={init:function(){var e=["us","uk","sg","nz","my-en","mea-en","in","hk","eu","ca","au"],t=$(document.querySelector("body")).attr("data-site");if(e.indexOf(t)>=0){var n=document.querySelectorAll(".sunrise-20-page")[0];new i.default(n,{selector:".text-fix-widow",minWords:2}).apply()}}},l={init:function(){var e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(e,"px")),window.addEventListener("resize",function(){var e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(e,"px"))})}},u={init:function(){var e=document.querySelectorAll(".page-sub-header .sub-header-link-area");if(e.length>0){[e[0].querySelectorAll(".sub-header-toggle-btn")[0],e[0].querySelectorAll(".page-sub-header-bg")[0]].forEach(function(t){t&&(t.onclick=function(){e[0].classList.contains("active")?e[0].classList.remove("active"):e[0].classList.add("active")})})}}},f={init:function(){var e=$(".recommend-carousel-area"),t=!1;"rtl"===$("html").attr("dir")&&(t=!0),e.length>0&&e.owlCarousel({rtl:t,center:!0,loop:!0,nav:!0,navText:["<div data-event-category='pdp' data-event-action='click-arrow' data-event-label='arrow-prev-focus3' data-event-gtm='event-tracking' style='width:100%;height:100%;'><div class='icon-nav icon-prev'></div></div>","<div data-event-category='pdp' data-event-action='click-arrow' data-event-label='arrow-next-focus3' data-event-gtm='event-tracking' style='width:100%;height:100%;'><div class='icon-nav icon-next'></div></div>"],responsive:{1920:{items:3},1366:{items:3},992:{items:3},0:{items:1}}})}},g=function(){var e={imagelength:61,imageLoadLength:[],init:function(){var t=$(".section-scroll-image-play");t.length>0&&$.each(t,function(t,n){var i=$(this);e.setupAnimation(i,t)})},setupAnimation:function(t,n){e.imageLoadLength[n]=0,e.preloadImages(e.imagelength,t,n)},preloadImages:function(t,n,i){for(var a=n.find(".master-area"),o=0;o<t;o++){var r=document.createElement("div");r.className="lazy bg-image-item bg-image-item--".concat(o),a.append(r)}e.startAnimation(n),e.setBgImage(0,a,n);var s;if("IntersectionObserver"in window){s=document.querySelectorAll(".lazy");var d={root:null,rootMargin:"1000px"},c=new IntersectionObserver(function(e,t){e.forEach(function(e){if(e.isIntersecting){var t=e.target;t.classList.remove("lazy"),c.unobserve(t)}})},d);s.forEach(function(e){c.observe(e)})}else{var l,u=function e(){l&&clearTimeout(l),l=setTimeout(function(){var t=window.pageYOffset;s.forEach(function(e){e.offsetTop<window.innerHeight+t&&(e.src=e.dataset.src,e.classList.remove("lazy"))}),0==s.length&&(document.removeEventListener("scroll",e),window.removeEventListener("resize",e),window.removeEventListener("orientationChange",e))},20)};s=document.querySelectorAll(".lazy"),document.addEventListener("scroll",u),window.addEventListener("resize",u),window.addEventListener("orientationChange",u)}},startAnimation:function(t){var n=t.find(".master-area");n.show();new ScrollMagic.Scene({triggerElement:t[0],duration:"500%"}).setPin(t[0],{pushFollowers:!0,spacerClass:"custome-id-pin-banner"}).addTo(r).on("progress",function(i){e.setBgImage(100*i.progress,n,t)})},setBgImage:function(t,n,i){var a,o=parseInt(10*t)/10;if(a=parseInt(o*e.imagelength/25)>e.imagelength?e.imagelength-1:parseInt(o*e.imagelength/25),o<=25)i.find(".master-area").show(0),n.find(".bg-image-item.active").removeClass("active"),n.find(".bg-image-item").eq(a).addClass("active"),a>=33&&a<42?i.find(".master-area .bg-mask").css({opacity:"".concat((42-a)/10)}):i.find(".master-area .bg-mask").css({opacity:0}),i.find(".wording-area--1, .wording-area--2, .wording-area--3").css({opacity:0}),i.find(".bg-block--1").css({top:0});else if(o<=40){var r=o-25;i.find(".master-area").hide(0),i.find(".wording-area--1").css({opacity:1*r/15,transform:"translate(0, ".concat(30*(15-r)/15,"px)")}),i.find(".wording-area--2, .wording-area--3").css({opacity:0}),i.find(".bg-block--1").css({top:0})}else if(o<=50)i.find(".wording-area--1").css({opacity:1,transform:"translate(0, 0)"}),i.find(".master-area").hide(0),i.find(".wording-area--2, .wording-area--3").css({opacity:0}),i.find(".bg-block--1").css({top:0});else if(o<=65){var s=o-50;s<7.5?i.find(".wording-area--1").css({opacity:1-2*s/15,transform:"translate(0, ".concat(2*s*-6,"px)")}):i.find(".wording-area--1").css({opacity:0}),s>12?i.find(".wording-area--2").css({opacity:Math.abs(2*(1.5-2*s/15)),transform:"translate(0, ".concat(30*(15-s)/15*2,"px)")}):i.find(".wording-area--2").css({opacity:0}),i.find(".bg-block--1").css({top:"".concat(-1*s*10/15*10,"%")}),i.find(".bg-block--2, .gradient-box").css({top:"".concat(40*(15-s)/15,"%")}),i.find(".master-area").hide(0),i.find(".wording-area--3").css({opacity:0}),i.find(".gradient-box").css({transform:"scaleX(1)",opacity:1,top:0})}else if(o<=70){var d=o-65;i.find(".gradient-box").css({transform:"scaleX(".concat(1+.6*d/5,")"),opacity:1,top:0}),i.find(".master-area").hide(0),i.find(".wording-area--1, .wording-area--3").css({opacity:0}),i.find(".wording-area--2").css({opacity:1,transform:"translate(0, 0)"}),i.find(".bg-block--2").css({top:0}),i.find(".bg-block--1").css({top:"100%"})}else if(o<=80)i.find(".master-area").hide(0),i.find(".wording-area--1, .wording-area--3").css({opacity:0}),i.find(".wording-area--2").css({opacity:1,transform:"translate(0, 0)"}),i.find(".bg-block--2").css({top:0}),i.find(".bg-block--1").css({top:"100%"}),i.find(".gradient-box").css({opacity:0});else if(o<=95){var c=o-80;c<7.5?i.find(".wording-area--2").css({opacity:1-2*c/15,transform:"translate(0, ".concat(2*c*-6,"px)")}):i.find(".wording-area--2").css({opacity:0}),c>12?i.find(".wording-area--3").css({opacity:Math.abs(2*(1.5-2*c/15)),transform:"translate(0, ".concat(30*(15-c)/15*2,"px)")}):i.find(".wording-area--3").css({opacity:0}),i.find(".bg-block--2").css({top:"".concat(-1*c*10/15*10,"%")}),i.find(".bg-block--3").css({top:"".concat(40*(15-c)/15,"%")}),i.find(".master-area").hide(0),i.find(".wording-area--1").css({opacity:0}),i.find(".bg-block--1").css({top:"100%"}),i.find(".gradient-box").css({opacity:0})}else i.find(".master-area").hide(0),i.find(".wording-area--1, .wording-area--2").css({opacity:0}),i.find(".wording-area--3").css({opacity:1,transform:"translate(0, 0)"}),i.find(".bg-block--1, .bg-block--2").css({top:"100%"}),i.find(".bg-block--3").css({top:0}),i.find(".gradient-box").css({opacity:0})},getImgUrl:function(t,n){var i=e.updateZero(t,3);return n?"/media/filer_public/fed-assets/sunrise/images/video-img/video-img-svg-"+i+".svg":"/media/filer_public/fed-assets/sunrise/images/video-img/video-img-"+i+".jpg"},updateZero:function(e,t){for(var n=(e+"").length;n<t;n=e.length)e=e;return e}};return e}(),p=function(){var e={init:function(){var t=$(".sunrise-20-page .wording-area--slide");t.length>0&&$.each(t,function(t,n){var i=$(this);e.setupAnimation(i)})},setupAnimation:function(e){var t={d:"number"==typeof e.data("trigger-hook")?e.data("trigger-hook"):.05,m:"number"==typeof e.data("trigger-hook-m")?e.data("trigger-hook-m"):.65},n=new ScrollMagic.Scene({triggerElement:e[0],offset:0,reverse:!1,triggerHook:d.isMobile()?t.m:t.d}).on("enter",function(t){e.addClass("active")}).addTo(s);$(window).resize(function(){n.triggerHook(d.isMobile()?t.m:t.d)})}};return e}(),v=function(){var e={playActive:[],init:function(){var t=$(".section-hand-tracking");t.length>0&&$.each(t,function(t,n){var i=$(this);e.setupfunction(i,t)})},setupfunction:function(t,n){var i=t.find(".video-list .video-item").eq(0),o=t.find(".video-area");e[n]={},e[n].playActive=0,e[n].playStop=!!d.isMobile(),e[n].forceStop=!1,$(window).resize(function(){e[n].forceStop||(e[n].playStop=!!d.isMobile())}),i.addClass("active"),i.find(".text-info").show();var r=function(){return d.isMobile()?1.2*$(window).innerHeight():.8*$(window).innerHeight()},s=new ScrollMagic.Scene({triggerElement:o[0],duration:r}).addTo(a).on("leave enter",function(i){"enter"===i.type?e.autoPlay(t,"play",n):"leave"===i.type&&e.autoPlay(t,"pause",n)});t.find(".video-list .video-item").each(function(i){var a=$(this).find("video")[0],o=$(this).find(".video-bg");a.addEventListener("ended",function(){!1===e[n].playStop?setTimeout(function(){e.autoPlay(t,"finish",n)},500):o.addClass("played")},!1),$(this).find(".text-title").on("click",function(a){a.preventDefault(),e[n].playStop=!0,e[n].forceStop=!0,e.autoPlay(t,"click",n,i),null!==s&&(s.destroy(!0),s=null)}),o.find(".video-replay").on("click",function(a){a.preventDefault(),e.autoPlay(t,"click",n,i)})})},autoPlay:function(t,n,i,a){var o=e[i].playActive,r=t.find(".video-list .video-item").eq(o).find("video");switch(n){case"play":t.find(".video-bg").removeClass("played"),r[0].play();break;case"pause":r[0].pause();break;case"finish":var s=t.find(".video-list .video-item").length,d=o+2>s?0:o+1;e[i].playActive=d,e.changeVideo(t,o,d,i);break;case"click":r[0].pause(),r[0].currentTime=0,e[i].playActive=a,e.changeVideo(t,o,a,i)}},changeVideo:function(t,n,i,a){var o=t.find(".video-list .video-item").eq(n),r=o.find(".text-info"),s=t.find(".video-list .video-item").eq(i),d=s.find(".text-info");n!==i&&(o.removeClass("active"),r.slideUp(),s.addClass("active"),d.slideDown()),e.autoPlay(t,"play",a)}};return e}(),m=function(){var e={setupVideoSource:function(t){var n=t,i=n[0];$.each(n.find("video"),function(t,o){var r=$(this),s=r[0],d=r.data("force-preload"),c={ld:{videoPoster:r.data("poster-path"),videoPath:r.data("video-path")},d:{videoPoster:r.data("d-poster-path"),videoPath:r.data("d-video-path")},l:{videoPoster:r.data("l-poster-path"),videoPath:r.data("l-video-path")},t:{videoPoster:r.data("t-poster-path"),videoPath:r.data("t-video-path")}};if(void 0!==d&&"yes"===d){e.changeView(r,c);var l=s.play();void 0!==l&&l.catch(function(e){}).then(function(){s.pause(),r.addClass("loaded")})}else{new ScrollMagic.Scene({triggerElement:i,offset:-640}).addTo(a).on("enter",function(t){"enter"!==t.type||r.hasClass("loaded")||(e.changeView(r,c),s.pause(),s.load(),r.addClass("loaded"))})}s.addEventListener("loadeddata",function(){e.setupScrollAndPlay(n,i,r,s)},!1)})},changeView:function(e,t){var n=function(e,t){var n=$(window).innerWidth(),i=n>1919?"ld":n>1365?"d":n>991?"l":"t",a=t[i];e.hasClass("video-changeView-".concat(i))||(e.removeClass("video-changeView-ld video-changeView-d video-changeView-l video-changeView-t"),e.addClass("video-changeView-".concat(i)),e.attr("poster",a.videoPoster||t.d.videoPoster),e[0].src=a.videoPath||t.d.videoPoster)};n(e,t),$(window).resize(function(){n(e,t)})},getPosition:function(e,t){var n,i,a=window.innerHeight,o=0,r=0,s=e.outerHeight();return d.isMobile()?(n=-15,i=-15,void 0!==t.data("md-top-trigger-playing")&&(n=t.data("md-top-trigger-playing")),o=parseInt(s*(n/100),10),void 0!==t.data("md-bottom-trigger-playing")&&(i=t.data("md-bottom-trigger-playing")),"yes"===t.data("md-trigger-vh")&&(s=a),r=s-parseInt(s*(i/100),10)-o):(n=5,i=5,void 0!==t.data("top-trigger-playing")&&(n=t.data("top-trigger-playing")),o=parseInt(s*(n/100),10),void 0!==t.data("bottom-trigger-playing")&&(i=t.data("bottom-trigger-playing")),"yes"===t.data("trigger-vh")&&(s=a),r=s-parseInt(s*(i/100),10)-o),[o,r]},updatePosition:function(t,n,i){var a=e.getPosition(t,n),o=a[0],r=a[1];i.offset(o),i.duration(r)},setupReplayBtn:function(e,t,n){var i=e.find(".replay-block");void 0!==i&&(i.addClass("show"),i.on("click",function(e){e.preventDefault(),n.play(),t.addClass("playing"),i.removeClass("show")}))},setupScrollAndPlay:function(t,n,i,a){var r,s=i.data("loop"),d=i.data("play-once"),c=i.data("leave-pause")||"no",l=e.getPosition(t,i),u=l[0],f=l[1],g=(i.outerHeight(),t.outerHeight(),function(){void 0!==d&&"yes"===d||(a.pause(),i.removeClass("playing"))});g(),r=new ScrollMagic.Scene({triggerElement:n,offset:u,duration:f}).addTo(o).on("enter leave",function(e){switch(e.type){case"enter":if(i.hasClass("loaded")&&!i.hasClass("playing")){var t=a.play();void 0!==t&&t.catch(function(e){}).then(function(){i.addClass("playing")})}break;case"leave":"yes"===c&&g()}}),a.addEventListener("ended",function(){void 0!==d&&"yes"===d?(i.addClass("playing"),e.setupReplayBtn(t,i,a)):void 0!==s&&"no"===s?(i.removeClass("playing"),e.setupReplayBtn(t,i,a)):i.hasClass("playing")&&(i.attr("loop","loop"),a.play())},!1),$(window).resize(function(n){e.updatePosition(t,i,r)})}};return e}(),y=function(){return{init:function(){$(".section--scroll-video-play").length>0&&$.each($(".section--scroll-video-play"),function(e,t){var n=$(this),i=n.find(".video-bg");m.setupVideoSource(i)})}}}(),h={init:function(e){new YKU.Player("player",{styleid:"0",client_id:"2a8fda48fc709b73",vid:e,newPlayer:!1,autoplay:!0,show_related:!1,events:{onPlayEnd:function(){b.hideModal()},onPlayStart:function(){b.showModal(),b.setupCloseModalBtn()}}})}},w={init:function(e){function t(e){e.target.playVideo(),b.showModal(),b.setupCloseModalBtn()}function n(e){0===e.data&&b.hideModal()}var i;!function(){i=new YT.Player("player",{height:"390",width:"640",videoId:e,events:{onReady:t,onStateChange:n}})}()}},b={init:function(){var e=document.querySelectorAll(".section-trailer-video .box-video");e&&e.forEach(function(e){var t=e.querySelector(".play-modal-video-btn"),n=t.getAttribute("data-vtype"),i=t.getAttribute("data-vid");t.addEventListener("click",function(e){e.preventDefault(),"youtube"===n?w.init(i):(h.init(i),b.showModal(),b.setupCloseModalBtn())})})},setupCloseModalBtn:function(){document.querySelector(".modal-overlap-container .btn-close").addEventListener("click",function(e){e.preventDefault(),b.hideModal()})},showModal:function(){var e=document.querySelector(".modal-overlap-container"),t=document.getElementsByTagName("html")[0],n=document.body;e.classList.add("show"),t.classList.add("fixed"),n.classList.add("fixed")},hideModal:function(){var e=document.querySelector(".modal-overlap-container"),t=document.getElementsByTagName("html")[0],n=document.body;e.classList.remove("show"),t.classList.remove("fixed"),n.classList.remove("fixed"),document.querySelector(".modal-overlap-container .align-center").innerHTML="<div id='player'></div>"}},S={init:function(){if("undefined"!=typeof LazyLoad){new LazyLoad({elements_selector:".lazy-img",threshold:2e3})}}};window.onload=function(){},$(function(){u.init(),c.init(),g.init(),p.init(),l.init(),b.init(),y.init(),f.init(),S.init(),v.init()})},{"./libs/typemate":2}],2:[function(e,t,n){"use strict";function i(e){return s(e)||r(e)||o(e)||a()}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}function r(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function s(e){if(Array.isArray(e))return d(e)}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function u(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var f=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};c(this,e);var a=this;a.settings=Object.assign({minWords:4,selector:"p",ignoreClass:"js-typemate__ignore",ignoreExistingSpaceChars:!1},n),a.elems=i(void 0===t?document.querySelectorAll(a.settings.selector):t.querySelectorAll(a.settings.selector))}return u(e,[{key:"apply",value:function(){var e=this;e.elems.map(function(t){if(t.classList.contains(e.settings.ignoreClass))return!1;if(e.shouldElementBeIgnored(t))return!1;var n="",i=t.innerHTML.trim().replace(/&nbsp;/g," ").split(/ (?=[^>]*(?:<|$))/);i.length<e.settings.minWords||(i=e.preventOrphans(i),n=i.join(" "),n=n.replace(/&nbsp; /g,"&nbsp;"),t.innerHTML=n)})}},{key:"preventOrphans",value:function(e){if(window.innerWidth>991.98){var t=e[e.length-2];e[e.length-2]=t+"&nbsp;"}else{var n=e[e.length-2];e[e.length-2]=n+"&nbsp;"}return e}},{key:"reset",value:function(){var e=this;e.elems.map(function(t){if(e.shouldElementBeIgnored(t))return!1;t.innerHTML=t.innerHTML.replace(/&nbsp;/g," ")})}},{key:"shouldElementBeIgnored",value:function(e){var t=this;return!!(e.innerHTML.indexOf("&nbsp;")>-1&&t.settings.ignoreExistingSpaceChars)}}]),e}();t.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new f(e,t)}},{}]},{},[1]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRlZmF1bHQuanMiXSwibmFtZXMiOlsiciIsImUiLCJuIiwidCIsIm8iLCJpIiwiZiIsImMiLCJyZXF1aXJlIiwidSIsImEiLCJFcnJvciIsImNvZGUiLCJwIiwiZXhwb3J0cyIsImNhbGwiLCJsZW5ndGgiLCIxIiwibW9kdWxlIiwiX3R5cGVtYXRlIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJjb250cm9sbGVyIiwiU2Nyb2xsTWFnaWMiLCJDb250cm9sbGVyIiwibG9nbGV2ZWwiLCJhZGRJbmRpY2F0b3JzIiwiZW50ZXJDb250cm9sbGVyIiwiZ2xvYmFsU2NlbmVPcHRpb25zIiwidHJpZ2dlckhvb2siLCJsZWF2ZUNvbnRyb2xsZXIiLCJjZW50ZXJDb250cm9sbGVyIiwiY29tbW9uU2V0dGluZyIsIm1vYmlsZU1heFJlc29sdXRpb24iLCJpc1J0bCIsIiQiLCJoYXNDbGFzcyIsImlzTW9iaWxlIiwid2luZG93Iiwid2lkdGgiLCJmb3JjZVBhZ2VSZWxvYWQiLCJsb2NhdGlvbiIsInJlbG9hZCIsInVwZGF0ZVNjcm9sbER1cmF0aW9uUG9zaXRpb24iLCJzZWN0aW9uT2JqIiwic2NlbmUiLCJwb3NpdGlvbkFycmF5IiwiZ2V0U2Nyb2xsRHVyYXRpb25Qb3NpdGlvbiIsInRvcFRyaWdnZXIiLCJib3R0b21UcmlnZ2VyIiwib2Zmc2V0IiwiZHVyYXRpb24iLCJkZWZhdWx0VG9wIiwiZGVmYXVsdEJvdHRvbSIsInNlY3Rpb25IZWlnaHQiLCJvdXRlckhlaWdodCIsImRhdGEiLCJwYXJzZUludCIsImZpeFdpZG93cyIsImluaXQiLCJzaXRlTGlzdCIsInByZWZpeCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImF0dHIiLCJpbmRleE9mIiwiY29udGVudEVsZW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwic2VsZWN0b3IiLCJtaW5Xb3JkcyIsImFwcGx5IiwiZnVsbEhlaWdodCIsInZoIiwiaW5uZXJIZWlnaHQiLCJkb2N1bWVudEVsZW1lbnQiLCJzdHlsZSIsInNldFByb3BlcnR5IiwiY29uY2F0IiwiYWRkRXZlbnRMaXN0ZW5lciIsInN1YkhlYWRlclRvZ2dsZSIsInN1YkhlYWRlciIsImZvckVhY2giLCJlbGVtIiwib25jbGljayIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwicmVtb3ZlIiwiYWRkIiwicHJvZHVjdENhcm91c2VsIiwiY2Fyb3VzZWxBcmVhIiwicnRsIiwib3dsQ2Fyb3VzZWwiLCJjZW50ZXIiLCJsb29wIiwibmF2IiwibmF2VGV4dCIsInJlc3BvbnNpdmUiLCIxOTIwIiwiaXRlbXMiLCIxMzY2IiwiOTkyIiwiMCIsImltYWdlc1BsYXlpbmciLCJpbWFnZWxlbmd0aCIsImltYWdlTG9hZExlbmd0aCIsInNlY3Rpb25CYW5uZXIiLCJlYWNoIiwiaW5kZXgiLCJ2YWwiLCJjdXJyZW50U2VjdGlvbiIsInRoaXMiLCJzZXR1cEFuaW1hdGlvbiIsInBhcmVudEVsZW1lbnQiLCJwcmVsb2FkSW1hZ2VzIiwidG90YWxJbWFnZXMiLCJiZ0ltYWdlIiwiZmluZCIsImRpdiIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJhcHBlbmQiLCJzdGFydEFuaW1hdGlvbiIsInNldEJnSW1hZ2UiLCJsYXp5bG9hZEltYWdlcyIsIm9wdGlvbnMiLCJyb290Iiwicm9vdE1hcmdpbiIsImltYWdlT2JzZXJ2ZXIiLCJJbnRlcnNlY3Rpb25PYnNlcnZlciIsImVudHJpZXMiLCJvYnNlcnZlciIsImVudHJ5IiwiaXNJbnRlcnNlY3RpbmciLCJpbWFnZSIsInRhcmdldCIsInVub2JzZXJ2ZSIsIm9ic2VydmUiLCJsYXp5bG9hZFRocm90dGxlVGltZW91dCIsImxhenlsb2FkIiwiY2xlYXJUaW1lb3V0Iiwic2V0VGltZW91dCIsInNjcm9sbFRvcCIsInBhZ2VZT2Zmc2V0IiwiaW1nIiwib2Zmc2V0VG9wIiwic3JjIiwiZGF0YXNldCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJzaG93IiwiU2NlbmUiLCJ0cmlnZ2VyRWxlbWVudCIsInNldFBpbiIsInB1c2hGb2xsb3dlcnMiLCJzcGFjZXJDbGFzcyIsImFkZFRvIiwib24iLCJwcm9ncmVzcyIsInBvc2l0aW9uIiwiaW1hZ2VOdW0iLCJyZW1vdmVDbGFzcyIsImVxIiwiYWRkQ2xhc3MiLCJjc3MiLCJvcGFjaXR5IiwidG9wIiwiaGVhZGVzdFRpbWUiLCJhcmVhUHJvZ3Jlc3MiLCJoaWRlIiwidHJhbnNmb3JtIiwiX2FyZWFQcm9ncmVzcyIsInRleHRTaG93VGltZSIsIk1hdGgiLCJhYnMiLCJfYXJlYVByb2dyZXNzMiIsIl9hcmVhUHJvZ3Jlc3MzIiwiZ2V0SW1nVXJsIiwibnVtIiwic3ZnIiwibmV3TnVtIiwidXBkYXRlWmVybyIsImxlbiIsImZhZGVJbkFuaW1hdGUiLCJpbWFnZVNlY3Rpb24iLCJkIiwibSIsImZhZGVJbkFuaW1hdGVTY3JvbGxNYWdpY1NjZW5lIiwicmV2ZXJzZSIsInJlc2l6ZSIsImhhbmRUcmFja2luZyIsInBsYXlBY3RpdmUiLCJzZWN0aW9uIiwic2VjdGlvbkluZGV4Iiwic2V0dXBmdW5jdGlvbiIsImZpcnN0SXRlbSIsInZpZGVvQXJlYSIsInBsYXlTdG9wIiwiZm9yY2VTdG9wIiwidHlwZSIsImF1dG9QbGF5IiwidmlkZW8iLCJiZyIsInByZXZlbnREZWZhdWx0IiwiZGVzdHJveSIsImNsaWNrSW5kZXgiLCJwbGF5IiwicGF1c2UiLCJ2aWRlb0xlbmd0aCIsIm5leHRBY3RpdmUiLCJjaGFuZ2VWaWRlbyIsImN1cnJlbnRUaW1lIiwiYWN0aXZlIiwibmV4dEluZGV4Iiwib2xkSXRlbSIsIm9sZFRleHQiLCJuZXhJdGVtIiwibmV4dFRleHQiLCJzbGlkZVVwIiwic2xpZGVEb3duIiwidmlkZW9TY3JvbGxBbmRQbGF5Iiwic2V0dXBWaWRlb1NvdXJjZSIsInNlY3Rpb25Eb20iLCJlbCIsInZpZGVvT2JqIiwidmlkZW9Eb20iLCJmb3JjZVZpZGVvUHJlbG9hZCIsInZpZGVvQXR0ciIsImxkIiwidmlkZW9Qb3N0ZXIiLCJ2aWRlb1BhdGgiLCJsIiwiY2hhbmdlVmlldyIsInByb21pc2UiLCJ1bmRlZmluZWQiLCJlcnJvciIsInRoZW4iLCJsb2FkIiwic2V0dXBTY3JvbGxBbmRQbGF5IiwiZWxlIiwiY2hhbmdlVmlld0Z1bmMiLCJ3aW5kb3dXIiwiaW5uZXJXaWR0aCIsImNoYW5nZUNsYXNzIiwidXNlRGF0YSIsImdldFBvc2l0aW9uIiwidXBkYXRlUG9zaXRpb24iLCJzZXR1cFJlcGxheUJ0biIsInJlcGxheUJ0biIsInZpZGVvTG9vcCIsInBsYXlPbmNlIiwibGVhdmVQYXVzZSIsInJlc2V0UGxheSIsImV2ZW50Iiwic2luZ2xlVmlkZW8iLCJ2aWRlb0Jsb2NrIiwieW91a3VWaWRlbyIsInZpZGVvSWQiLCJZS1UiLCJQbGF5ZXIiLCJzdHlsZWlkIiwiY2xpZW50X2lkIiwidmlkIiwibmV3UGxheWVyIiwiYXV0b3BsYXkiLCJzaG93X3JlbGF0ZWQiLCJldmVudHMiLCJvblBsYXlFbmQiLCJtb2RhbFZpZGVvIiwiaGlkZU1vZGFsIiwib25QbGF5U3RhcnQiLCJzaG93TW9kYWwiLCJzZXR1cENsb3NlTW9kYWxCdG4iLCJ5b3V0dWJlVmlkZW8iLCJvblBsYXllclJlYWR5IiwicGxheVZpZGVvIiwib25QbGF5ZXJTdGF0ZUNoYW5nZSIsInBsYXllcklnbm9yZWQiLCJZVCIsImhlaWdodCIsIm9uUmVhZHkiLCJvblN0YXRlQ2hhbmdlIiwibW9kYWxWaWRlb0Jsb2NrIiwicGxheUJ0biIsInZpZGVvVHlwZSIsImdldEF0dHJpYnV0ZSIsIm1vZGFsQ29udGFpbmVyIiwiaHRtbFRhZyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiYm9keVRhZyIsImJvZHkiLCJpbm5lckhUTUwiLCJsYXp5TG9hZEltZyIsIkxhenlMb2FkIiwiZWxlbWVudHNfc2VsZWN0b3IiLCJ0aHJlc2hvbGQiLCJvbmxvYWQiLCIuL2xpYnMvdHlwZW1hdGUiLCIyIiwiX3RvQ29uc3VtYWJsZUFycmF5IiwiYXJyIiwiX2FycmF5V2l0aG91dEhvbGVzIiwiX2l0ZXJhYmxlVG9BcnJheSIsIl91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSIsIl9ub25JdGVyYWJsZVNwcmVhZCIsIlR5cGVFcnJvciIsIm1pbkxlbiIsIl9hcnJheUxpa2VUb0FycmF5IiwiT2JqZWN0IiwicHJvdG90eXBlIiwidG9TdHJpbmciLCJzbGljZSIsImNvbnN0cnVjdG9yIiwibmFtZSIsIkFycmF5IiwiZnJvbSIsInRlc3QiLCJpdGVyIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJpc0FycmF5IiwiYXJyMiIsIl9jbGFzc0NhbGxDaGVjayIsImluc3RhbmNlIiwiQ29uc3RydWN0b3IiLCJfZGVmaW5lUHJvcGVydGllcyIsInByb3BzIiwiZGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsImRlZmluZVByb3BlcnR5Iiwia2V5IiwiX2NyZWF0ZUNsYXNzIiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwiVHlwZU1hdGUiLCJwYXJlbnQiLCJzZXR0aW5ncyIsImFyZ3VtZW50cyIsInNlbGYiLCJhc3NpZ24iLCJpZ25vcmVDbGFzcyIsImlnbm9yZUV4aXN0aW5nU3BhY2VDaGFycyIsImVsZW1zIiwidmFsdWUiLCJtYXAiLCJzaG91bGRFbGVtZW50QmVJZ25vcmVkIiwicmVzdWx0IiwidGV4dEl0ZW1zIiwidHJpbSIsInJlcGxhY2UiLCJzcGxpdCIsInByZXZlbnRPcnBoYW5zIiwiam9pbiIsImFnYWluVGFyZ2V0V29yZCIsInRhcmdldFdvcmQiXSwibWFwcGluZ3MiOiJDQUFBLFdBQVksUUFBU0EsR0FBRUMsRUFBRUMsRUFBRUMsR0FBRyxRQUFTQyxHQUFFQyxFQUFFQyxHQUFHLElBQUlKLEVBQUVHLEdBQUcsQ0FBQyxJQUFJSixFQUFFSSxHQUFHLENBQUMsR0FBSUUsR0FBRSxrQkFBbUJDLFVBQVNBLE9BQVEsS0FBSUYsR0FBR0MsRUFBRSxNQUFPQSxHQUFFRixHQUFFLEVBQUksSUFBR0ksRUFBRSxNQUFPQSxHQUFFSixHQUFFLEVBQUksSUFBSUssR0FBRSxHQUFJQyxPQUFNLHVCQUF1Qk4sRUFBRSxJQUFLLE1BQU1L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LEVBQVVBLEVBQVU1VSxPQUFTLEVBRTlDNFUsR0FBVUEsRUFBVTVVLE9BQVMsR0FBS21WLEVBQWEsU0FFakQsTUFBT1AsTUFPVGpCLElBQUssUUFDTGEsTUFBTyxXQUNMLEdBQUlMLEdBQU9wTyxJQUNYb08sR0FBS0ksTUFBTUUsSUFBSSxTQUFVdFEsR0FFdkIsR0FBSWdRLEVBQUtPLHVCQUF1QnZRLEdBQzlCLE9BQU8sQ0FFVEEsR0FBSytNLFVBQVkvTSxFQUFLK00sVUFBVTRELFFBQVEsVUFBVyxVQVd2RG5CLElBQUsseUJBQ0xhLE1BQU8sU0FBZ0NyUSxHQUNyQyxHQUFJZ1EsR0FBT3BPLElBSVgsVUFBSTVCLEVBQUsrTSxVQUFVaE8sUUFBUSxXQUFhLEdBQUtpUixFQUFLRixTQUFTSyw4QkFNeERQLElBR1Q3VCxHQUFPSixRQUFVLFNBQVVrVSxHQUN6QixHQUFJQyxHQUFXQyxVQUFVbFUsT0FBUyxPQUFzQnlOLEtBQWpCeUcsVUFBVSxHQUFtQkEsVUFBVSxLQUM5RSxPQUFPLElBQUlILEdBQVNDLEVBQVFDLGNBR25CIiwiZmlsZSI6ImRlZmF1bHQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpKHsxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xuXG52YXIgX3R5cGVtYXRlID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9saWJzL3R5cGVtYXRlXCIpKTtcbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuLyogZ2xvYmFsIFlLVSwgWVQsIExhenlMb2FkLCAkLCBUaW1lbGluZU1heCAqL1xuLyogZXNsaW50LWRpc2FibGUgKi9cbi8qKlxuICpcbiAqIEZpeCB3b3JkIHdpZG93XG4gKiBSZWY6IGh0dHBzOi8vZ2l0aHViLmNvbS9hbmR5YmVsbGRlc2lnbi90eXBlbWF0ZVxuICpcbiAqL1xuXG52YXIgX3R1cm5PbkluZGljYXRvcnMgPSBmYWxzZTtcbnZhciBjb250cm9sbGVyID0gbmV3IFNjcm9sbE1hZ2ljLkNvbnRyb2xsZXIoe1xuICBsb2dsZXZlbDogMCxcbiAgYWRkSW5kaWNhdG9yczogX3R1cm5PbkluZGljYXRvcnNcbn0pO1xudmFyIGVudGVyQ29udHJvbGxlciA9IG5ldyBTY3JvbGxNYWdpYy5Db250cm9sbGVyKHtcbiAgYWRkSW5kaWNhdG9yczogX3R1cm5PbkluZGljYXRvcnMsXG4gIGdsb2JhbFNjZW5lT3B0aW9uczoge1xuICAgIHRyaWdnZXJIb29rOiAnb25FbnRlcidcbiAgfVxufSk7XG52YXIgbGVhdmVDb250cm9sbGVyID0gbmV3IFNjcm9sbE1hZ2ljLkNvbnRyb2xsZXIoe1xuICBhZGRJbmRpY2F0b3JzOiBfdHVybk9uSW5kaWNhdG9ycyxcbiAgZ2xvYmFsU2NlbmVPcHRpb25zOiB7XG4gICAgdHJpZ2dlckhvb2s6ICdvbkxlYXZlJ1xuICB9XG59KTtcbnZhciBjZW50ZXJDb250cm9sbGVyID0gbmV3IFNjcm9sbE1hZ2ljLkNvbnRyb2xsZXIoe1xuICBhZGRJbmRpY2F0b3JzOiBfdHVybk9uSW5kaWNhdG9ycyxcbiAgZ2xvYmFsU2NlbmVPcHRpb25zOiB7fVxufSk7XG52YXIgaXNEZXNrdG9wVmlldyA9IHRydWU7XG52YXIgY29tbW9uU2V0dGluZyA9IHtcbiAgbW9iaWxlTWF4UmVzb2x1dGlvbjogZnVuY3Rpb24gbW9iaWxlTWF4UmVzb2x1dGlvbigpIHtcbiAgICByZXR1cm4gOTkxO1xuICB9LFxuICBpc1J0bDogZnVuY3Rpb24gaXNSdGwoKSB7XG4gICAgcmV0dXJuICQoJ2JvZHknKS5oYXNDbGFzcygncnRsJyk7XG4gIH0sXG4gIGlzTW9iaWxlOiBmdW5jdGlvbiBpc01vYmlsZSgpIHtcbiAgICByZXR1cm4gJCh3aW5kb3cpLndpZHRoKCkgPD0gY29tbW9uU2V0dGluZy5tb2JpbGVNYXhSZXNvbHV0aW9uKCk7XG4gIH0sXG4gIGZvcmNlUGFnZVJlbG9hZDogZnVuY3Rpb24gZm9yY2VQYWdlUmVsb2FkKCkge1xuICAgIC8vIEZvcmNlIHBhZ2UgcmVsb2FkIHdoZW4gZGVza3RvcCBhbmQgbW9iaWxlIHN3aXRjaFxuICAgIGlmICgkKHdpbmRvdykud2lkdGgoKSA8PSBjb21tb25TZXR0aW5nLm1vYmlsZU1heFJlc29sdXRpb24oKSAmJiBpc0Rlc2t0b3BWaWV3KSB7XG4gICAgICBsb2NhdGlvbi5yZWxvYWQoKTtcbiAgICB9XG4gICAgaWYgKCQod2luZG93KS53aWR0aCgpID4gY29tbW9uU2V0dGluZy5tb2JpbGVNYXhSZXNvbHV0aW9uKCkgJiYgIWlzRGVza3RvcFZpZXcpIHtcbiAgICAgIGxvY2F0aW9uLnJlbG9hZCgpO1xuICAgIH1cbiAgfSxcbiAgdXBkYXRlU2Nyb2xsRHVyYXRpb25Qb3NpdGlvbjogZnVuY3Rpb24gdXBkYXRlU2Nyb2xsRHVyYXRpb25Qb3NpdGlvbihzZWN0aW9uT2JqLCBzY2VuZSkge1xuICAgIHZhciBwb3NpdGlvbkFycmF5ID0gY29tbW9uU2V0dGluZy5nZXRTY3JvbGxEdXJhdGlvblBvc2l0aW9uKHNlY3Rpb25PYmopLFxuICAgICAgdG9wVHJpZ2dlciA9IHBvc2l0aW9uQXJyYXlbMF0sXG4gICAgICBib3R0b21UcmlnZ2VyID0gcG9zaXRpb25BcnJheVsxXTtcbiAgICBzY2VuZS5vZmZzZXQodG9wVHJpZ2dlcik7XG4gICAgc2NlbmUuZHVyYXRpb24oYm90dG9tVHJpZ2dlcik7XG4gIH0sXG4gIGdldFNjcm9sbER1cmF0aW9uUG9zaXRpb246IGZ1bmN0aW9uIGdldFNjcm9sbER1cmF0aW9uUG9zaXRpb24oc2VjdGlvbk9iaikge1xuICAgIHZhciB0b3BUcmlnZ2VyID0gMCxcbiAgICAgIGJvdHRvbVRyaWdnZXIgPSAwLFxuICAgICAgZGVmYXVsdFRvcCA9IDUsXG4gICAgICBkZWZhdWx0Qm90dG9tID0gNSxcbiAgICAgIHNlY3Rpb25IZWlnaHQgPSBzZWN0aW9uT2JqLm91dGVySGVpZ2h0KCk7XG4gICAgaWYgKHR5cGVvZiBzZWN0aW9uT2JqLmRhdGEoJ3RvcC10cmlnZ2VyLXBlcmNlbnRhZ2UnKSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGRlZmF1bHRUb3AgPSBzZWN0aW9uT2JqLmRhdGEoJ3RvcC10cmlnZ2VyLXBlcmNlbnRhZ2UnKTtcbiAgICB9XG4gICAgdG9wVHJpZ2dlciA9IHBhcnNlSW50KHNlY3Rpb25IZWlnaHQgKiAoZGVmYXVsdFRvcCAvIDEwMCksIDEwKTtcbiAgICBpZiAodHlwZW9mIHNlY3Rpb25PYmouZGF0YSgnYm90dG9tLXRyaWdnZXItcGVyY2VudGFnZScpICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgZGVmYXVsdEJvdHRvbSA9IHNlY3Rpb25PYmouZGF0YSgnYm90dG9tLXRyaWdnZXItcGVyY2VudGFnZScpO1xuICAgIH1cbiAgICBib3R0b21UcmlnZ2VyID0gc2VjdGlvbkhlaWdodCAtIHBhcnNlSW50KHNlY3Rpb25IZWlnaHQgKiAoZGVmYXVsdEJvdHRvbSAvIDEwMCksIDEwKSAtIHRvcFRyaWdnZXI7XG4gICAgcmV0dXJuIFt0b3BUcmlnZ2VyLCBib3R0b21UcmlnZ2VyXTtcbiAgfVxufTtcbnZhciBmaXhXaWRvd3MgPSB7XG4gIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgdmFyIHNpdGVMaXN0ID0gWyd1cycsICd1aycsICdzZycsICdueicsICdteS1lbicsICdtZWEtZW4nLCAnaW4nLCAnaGsnLCAnZXUnLCAnY2EnLCAnYXUnXTtcbiAgICB2YXIgcHJlZml4ID0gJChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5JykpLmF0dHIoJ2RhdGEtc2l0ZScpO1xuICAgIHZhciBkZXRlY3RTdHJpbmcgPSAnLnRleHQtZml4LXdpZG93JztcbiAgICBpZiAoc2l0ZUxpc3QuaW5kZXhPZihwcmVmaXgpID49IDApIHtcbiAgICAgIHZhciBjb250ZW50RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zdW5yaXNlLTIwLXBhZ2UnKVswXTtcbiAgICAgIHZhciB0eXBlTWF0ZUluc3RhbmNlID0gbmV3IF90eXBlbWF0ZVtcImRlZmF1bHRcIl0oY29udGVudEVsZW1lbnQsIHtcbiAgICAgICAgc2VsZWN0b3I6IGRldGVjdFN0cmluZyxcbiAgICAgICAgbWluV29yZHM6IDJcbiAgICAgIH0pO1xuICAgICAgLy8gY29uc29sZS5sb2codHlwZU1hdGVJbnN0YW5jZSlcbiAgICAgIHR5cGVNYXRlSW5zdGFuY2UuYXBwbHkoKTtcbiAgICB9XG4gIH1cbn07XG52YXIgZnVsbEhlaWdodCA9IHtcbiAgaW5pdDogZnVuY3Rpb24gaW5pdCgpIHtcbiAgICAvLyBGaXJzdCB3ZSBnZXQgdGhlIHZpZXdwb3J0IGhlaWdodCBhbmQgd2UgbXVsdGlwbGUgaXQgYnkgMSUgdG8gZ2V0IGEgdmFsdWUgZm9yIGEgdmggdW5pdFxuICAgIHZhciB2aCA9IHdpbmRvdy5pbm5lckhlaWdodCAqIDAuMDE7XG4gICAgLy8gVGhlbiB3ZSBzZXQgdGhlIHZhbHVlIGluIHRoZSAtLXZoIGN1c3RvbSBwcm9wZXJ0eSB0byB0aGUgcm9vdCBvZiB0aGUgZG9jdW1lbnRcbiAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoJy0tdmgnLCBcIlwiLmNvbmNhdCh2aCwgXCJweFwiKSk7XG5cbiAgICAvLyBXZSBsaXN0ZW4gdG8gdGhlIHJlc2l6ZSBldmVudFxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBXZSBleGVjdXRlIHRoZSBzYW1lIHNjcmlwdCBhcyBiZWZvcmVcbiAgICAgIHZhciB2aCA9IHdpbmRvdy5pbm5lckhlaWdodCAqIDAuMDE7XG4gICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoJy0tdmgnLCBcIlwiLmNvbmNhdCh2aCwgXCJweFwiKSk7XG4gICAgfSk7XG4gIH1cbn07XG5cbi8qPSA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuPSAgICAgICBTZWN0aW9uOiBTdWIgSGVhZGVyIFRvZ2dsZSAgICAgICAgICAgICAgICAgICAgICAgICA9XG49PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cbnZhciBzdWJIZWFkZXJUb2dnbGUgPSB7XG4gIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgdmFyIHN1YkhlYWRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wYWdlLXN1Yi1oZWFkZXIgLnN1Yi1oZWFkZXItbGluay1hcmVhJyk7XG4gICAgaWYgKHN1YkhlYWRlci5sZW5ndGggPiAwKSB7XG4gICAgICB2YXIgYnRuID0gc3ViSGVhZGVyWzBdLnF1ZXJ5U2VsZWN0b3JBbGwoJy5zdWItaGVhZGVyLXRvZ2dsZS1idG4nKVswXTtcbiAgICAgIHZhciBiZyA9IHN1YkhlYWRlclswXS5xdWVyeVNlbGVjdG9yQWxsKCcucGFnZS1zdWItaGVhZGVyLWJnJylbMF07XG4gICAgICBbYnRuLCBiZ10uZm9yRWFjaChmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICBpZiAoZWxlbSkge1xuICAgICAgICAgIGVsZW0ub25jbGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChzdWJIZWFkZXJbMF0uY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xuICAgICAgICAgICAgICBzdWJIZWFkZXJbMF0uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzdWJIZWFkZXJbMF0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICA7XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICA7XG4gICAgICB9KTtcbiAgICB9XG4gICAgO1xuICB9XG59O1xuXG4vKj0gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbj0gICAgICAgU2VjdGlvbjogcHJvZHVjdENhcm91c2VsICAgICAgICAgICAgICAgICAgICAgICAgICAgPVxuPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG52YXIgcHJvZHVjdENhcm91c2VsID0ge1xuICBpbml0OiBmdW5jdGlvbiBpbml0KCkge1xuICAgIHZhciBjYXJvdXNlbEFyZWEgPSAkKCcucmVjb21tZW5kLWNhcm91c2VsLWFyZWEnKTtcbiAgICB2YXIgcnRsID0gZmFsc2U7XG4gICAgaWYgKCQoJ2h0bWwnKS5hdHRyKCdkaXInKSA9PT0gJ3J0bCcpIHtcbiAgICAgIHJ0bCA9IHRydWU7XG4gICAgfVxuICAgIGlmIChjYXJvdXNlbEFyZWEubGVuZ3RoID4gMCkge1xuICAgICAgY2Fyb3VzZWxBcmVhLm93bENhcm91c2VsKHtcbiAgICAgICAgcnRsOiBydGwsXG4gICAgICAgIGNlbnRlcjogdHJ1ZSxcbiAgICAgICAgbG9vcDogdHJ1ZSxcbiAgICAgICAgbmF2OiB0cnVlLFxuICAgICAgICBuYXZUZXh0OiBbXCI8ZGl2IGRhdGEtZXZlbnQtY2F0ZWdvcnk9J3BkcCcgZGF0YS1ldmVudC1hY3Rpb249J2NsaWNrLWFycm93JyBkYXRhLWV2ZW50LWxhYmVsPSdhcnJvdy1wcmV2LWZvY3VzMycgZGF0YS1ldmVudC1ndG09J2V2ZW50LXRyYWNraW5nJyBzdHlsZT0nd2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTsnPjxkaXYgY2xhc3M9J2ljb24tbmF2IGljb24tcHJldic+PC9kaXY+PC9kaXY+XCIsIFwiPGRpdiBkYXRhLWV2ZW50LWNhdGVnb3J5PSdwZHAnIGRhdGEtZXZlbnQtYWN0aW9uPSdjbGljay1hcnJvdycgZGF0YS1ldmVudC1sYWJlbD0nYXJyb3ctbmV4dC1mb2N1czMnIGRhdGEtZXZlbnQtZ3RtPSdldmVudC10cmFja2luZycgc3R5bGU9J3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7Jz48ZGl2IGNsYXNzPSdpY29uLW5hdiBpY29uLW5leHQnPjwvZGl2PjwvZGl2PlwiXSxcbiAgICAgICAgcmVzcG9uc2l2ZToge1xuICAgICAgICAgIDE5MjA6IHtcbiAgICAgICAgICAgIGl0ZW1zOiAzXG4gICAgICAgICAgfSxcbiAgICAgICAgICAxMzY2OiB7XG4gICAgICAgICAgICBpdGVtczogM1xuICAgICAgICAgIH0sXG4gICAgICAgICAgOTkyOiB7XG4gICAgICAgICAgICBpdGVtczogM1xuICAgICAgICAgIH0sXG4gICAgICAgICAgMDoge1xuICAgICAgICAgICAgaXRlbXM6IDFcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufTtcblxuLyo9ID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG49ICAgICAgIFNlY3Rpb246IHNjcm9sbCBpbWFnZXNQbGF5aW5nXG49PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cbnZhciBpbWFnZXNQbGF5aW5nID0gZnVuY3Rpb24gKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIGltYWdlc1BsYXlpbmcgPSB7XG4gICAgaW1hZ2VsZW5ndGg6IDYxLFxuICAgIGltYWdlTG9hZExlbmd0aDogW10sXG4gICAgaW5pdDogZnVuY3Rpb24gaW5pdCgpIHtcbiAgICAgIHZhciBzZWN0aW9uQmFubmVyID0gJCgnLnNlY3Rpb24tc2Nyb2xsLWltYWdlLXBsYXknKTtcbiAgICAgIGlmIChzZWN0aW9uQmFubmVyLmxlbmd0aCA+IDApIHtcbiAgICAgICAgJC5lYWNoKHNlY3Rpb25CYW5uZXIsIGZ1bmN0aW9uIChpbmRleCwgdmFsKSB7XG4gICAgICAgICAgdmFyIGN1cnJlbnRTZWN0aW9uID0gJCh0aGlzKTtcbiAgICAgICAgICBpbWFnZXNQbGF5aW5nLnNldHVwQW5pbWF0aW9uKGN1cnJlbnRTZWN0aW9uLCBpbmRleCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sXG4gICAgc2V0dXBBbmltYXRpb246IGZ1bmN0aW9uIHNldHVwQW5pbWF0aW9uKHBhcmVudEVsZW1lbnQsIGluZGV4KSB7XG4gICAgICBpbWFnZXNQbGF5aW5nLmltYWdlTG9hZExlbmd0aFtpbmRleF0gPSAwO1xuICAgICAgaW1hZ2VzUGxheWluZy5wcmVsb2FkSW1hZ2VzKGltYWdlc1BsYXlpbmcuaW1hZ2VsZW5ndGgsIHBhcmVudEVsZW1lbnQsIGluZGV4KTtcbiAgICB9LFxuICAgIHByZWxvYWRJbWFnZXM6IGZ1bmN0aW9uIHByZWxvYWRJbWFnZXModG90YWxJbWFnZXMsIHBhcmVudEVsZW1lbnQsIGluZGV4KSB7XG4gICAgICB2YXIgYmdJbWFnZSA9IHBhcmVudEVsZW1lbnQuZmluZChcIi5tYXN0ZXItYXJlYVwiKTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG90YWxJbWFnZXM7IGkrKykge1xuICAgICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGRpdi5jbGFzc05hbWUgPSBcImxhenkgYmctaW1hZ2UtaXRlbSBiZy1pbWFnZS1pdGVtLS1cIi5jb25jYXQoaSk7XG4gICAgICAgIGJnSW1hZ2UuYXBwZW5kKGRpdik7XG4gICAgICB9XG4gICAgICBpbWFnZXNQbGF5aW5nLnN0YXJ0QW5pbWF0aW9uKHBhcmVudEVsZW1lbnQpO1xuICAgICAgaW1hZ2VzUGxheWluZy5zZXRCZ0ltYWdlKDAsIGJnSW1hZ2UsIHBhcmVudEVsZW1lbnQpO1xuICAgICAgdmFyIGxhenlsb2FkSW1hZ2VzO1xuICAgICAgaWYgKFwiSW50ZXJzZWN0aW9uT2JzZXJ2ZXJcIiBpbiB3aW5kb3cpIHtcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ0ludGVyc2VjdGlvbk9ic2VydmVyJyk7XG4gICAgICAgIGxhenlsb2FkSW1hZ2VzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5sYXp5XCIpO1xuICAgICAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgICAgICAvLyBudWxsIG1lYW5zIHZpZXdwb3J0LCBvciB1c2UgZWxlbWVudFxuICAgICAgICAgIHJvb3Q6IG51bGwsXG4gICAgICAgICAgcm9vdE1hcmdpbjogJzEwMDBweCdcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGltYWdlT2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24gKGVudHJpZXMsIG9ic2VydmVyKSB7XG4gICAgICAgICAgZW50cmllcy5mb3JFYWNoKGZ1bmN0aW9uIChlbnRyeSkge1xuICAgICAgICAgICAgaWYgKGVudHJ5LmlzSW50ZXJzZWN0aW5nKSB7XG4gICAgICAgICAgICAgIHZhciBpbWFnZSA9IGVudHJ5LnRhcmdldDtcbiAgICAgICAgICAgICAgaW1hZ2UuY2xhc3NMaXN0LnJlbW92ZShcImxhenlcIik7XG4gICAgICAgICAgICAgIGltYWdlT2JzZXJ2ZXIudW5vYnNlcnZlKGltYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSwgb3B0aW9ucyk7XG4gICAgICAgIGxhenlsb2FkSW1hZ2VzLmZvckVhY2goZnVuY3Rpb24gKGltYWdlKSB7XG4gICAgICAgICAgaW1hZ2VPYnNlcnZlci5vYnNlcnZlKGltYWdlKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgbGF6eWxvYWQgPSBmdW5jdGlvbiBsYXp5bG9hZCgpIHtcbiAgICAgICAgICBpZiAobGF6eWxvYWRUaHJvdHRsZVRpbWVvdXQpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dChsYXp5bG9hZFRocm90dGxlVGltZW91dCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGxhenlsb2FkVGhyb3R0bGVUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgc2Nyb2xsVG9wID0gd2luZG93LnBhZ2VZT2Zmc2V0O1xuICAgICAgICAgICAgbGF6eWxvYWRJbWFnZXMuZm9yRWFjaChmdW5jdGlvbiAoaW1nKSB7XG4gICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdzY3JvbGxUb3A9JyxzY3JvbGxUb3ApO1xuICAgICAgICAgICAgICBpZiAoaW1nLm9mZnNldFRvcCA8IHdpbmRvdy5pbm5lckhlaWdodCArIHNjcm9sbFRvcCkge1xuICAgICAgICAgICAgICAgIGltZy5zcmMgPSBpbWcuZGF0YXNldC5zcmM7XG4gICAgICAgICAgICAgICAgaW1nLmNsYXNzTGlzdC5yZW1vdmUoJ2xhenknKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAobGF6eWxvYWRJbWFnZXMubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBsYXp5bG9hZCk7XG4gICAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIGxhenlsb2FkKTtcbiAgICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJvcmllbnRhdGlvbkNoYW5nZVwiLCBsYXp5bG9hZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSwgMjApO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgbGF6eWxvYWRUaHJvdHRsZVRpbWVvdXQ7XG4gICAgICAgIGxhenlsb2FkSW1hZ2VzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5sYXp5XCIpO1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIGxhenlsb2FkKTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgbGF6eWxvYWQpO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm9yaWVudGF0aW9uQ2hhbmdlXCIsIGxhenlsb2FkKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHN0YXJ0QW5pbWF0aW9uOiBmdW5jdGlvbiBzdGFydEFuaW1hdGlvbihwYXJlbnRFbGVtZW50KSB7XG4gICAgICB2YXIgYmdJbWFnZSA9IHBhcmVudEVsZW1lbnQuZmluZChcIi5tYXN0ZXItYXJlYVwiKTtcbiAgICAgIGJnSW1hZ2Uuc2hvdygpO1xuICAgICAgdmFyIHNjZW5lID0gbmV3IFNjcm9sbE1hZ2ljLlNjZW5lKHtcbiAgICAgICAgdHJpZ2dlckVsZW1lbnQ6IHBhcmVudEVsZW1lbnRbMF0sXG4gICAgICAgIGR1cmF0aW9uOiAnNTAwJSdcbiAgICAgIH0pLnNldFBpbihwYXJlbnRFbGVtZW50WzBdLCB7XG4gICAgICAgIHB1c2hGb2xsb3dlcnM6IHRydWUsXG4gICAgICAgIHNwYWNlckNsYXNzOiAnY3VzdG9tZS1pZC1waW4tYmFubmVyJ1xuICAgICAgfSkuYWRkVG8obGVhdmVDb250cm9sbGVyKVxuICAgICAgLy8gLmFkZEluZGljYXRvcnMoKSAvLyBhZGQgaW5kaWNhdG9ycyAocmVxdWlyZXMgcGx1Z2luKVxuICAgICAgLm9uKFwicHJvZ3Jlc3NcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgaW1hZ2VzUGxheWluZy5zZXRCZ0ltYWdlKGUucHJvZ3Jlc3MgKiAxMDAsIGJnSW1hZ2UsIHBhcmVudEVsZW1lbnQpO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBzZXRCZ0ltYWdlOiBmdW5jdGlvbiBzZXRCZ0ltYWdlKHBvc2l0aW9uLCBiZ0ltYWdlLCBwYXJlbnRFbGVtZW50KSB7XG4gICAgICB2YXIgaGVhZGVzdFRpbWUgPSAyNTtcbiAgICAgIHZhciB0ZXh0U2hvd1RpbWUgPSAxNTtcbiAgICAgIHZhciB0ZXh0U2hvd3B4ID0gMzA7XG4gICAgICB2YXIgdGV4dFJlYWRUaW1lID0gMTA7XG4gICAgICB2YXIgcHJvZ3Jlc3MgPSBwYXJzZUludChwb3NpdGlvbiAqIDEwKSAvIDEwO1xuICAgICAgdmFyIGltYWdlTnVtO1xuICAgICAgLy9oZWFkZXN0IG9wZW5cbiAgICAgIGltYWdlTnVtID0gcGFyc2VJbnQocHJvZ3Jlc3MgKiBpbWFnZXNQbGF5aW5nLmltYWdlbGVuZ3RoIC8gaGVhZGVzdFRpbWUpID4gaW1hZ2VzUGxheWluZy5pbWFnZWxlbmd0aCA/IGltYWdlc1BsYXlpbmcuaW1hZ2VsZW5ndGggLSAxIDogcGFyc2VJbnQocHJvZ3Jlc3MgKiBpbWFnZXNQbGF5aW5nLmltYWdlbGVuZ3RoIC8gaGVhZGVzdFRpbWUpO1xuICAgICAgaWYgKHByb2dyZXNzIDw9IGhlYWRlc3RUaW1lKSB7XG4gICAgICAgIC8vPD0yNVxuICAgICAgICBwYXJlbnRFbGVtZW50LmZpbmQoJy5tYXN0ZXItYXJlYScpLnNob3coMCk7XG4gICAgICAgIC8vIGJnSW1hZ2UuZmluZChcIi5iZy1pbWFnZS1pdGVtXCIpLnNob3coMCk7XG4gICAgICAgIGJnSW1hZ2UuZmluZChcIi5iZy1pbWFnZS1pdGVtLmFjdGl2ZVwiKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgIGJnSW1hZ2UuZmluZChcIi5iZy1pbWFnZS1pdGVtXCIpLmVxKGltYWdlTnVtKS5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgIC8vIGJnSW1hZ2UuZmluZChcIi5iZy1pbWFnZS1pdGVtXCIpLmVxKGltYWdlTnVtKS5jc3MoeydvcGFjaXR5JzoxfSk7XG4gICAgICAgIC8vIGJnSW1hZ2UuZmluZChcIi5iZy1pbWFnZS1pdGVtXCIpLm5vdChgOmVxKCR7aW1hZ2VOdW19KWApLmNzcyh7J29wYWNpdHknOjB9KTtcblxuICAgICAgICBpZiAoaW1hZ2VOdW0gPj0gMzMgJiYgaW1hZ2VOdW0gPCA0Mikge1xuICAgICAgICAgIHBhcmVudEVsZW1lbnQuZmluZCgnLm1hc3Rlci1hcmVhIC5iZy1tYXNrJykuY3NzKHtcbiAgICAgICAgICAgICdvcGFjaXR5JzogXCJcIi5jb25jYXQoKDQyIC0gaW1hZ2VOdW0pIC8gMTApXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGFyZW50RWxlbWVudC5maW5kKCcubWFzdGVyLWFyZWEgLmJnLW1hc2snKS5jc3Moe1xuICAgICAgICAgICAgJ29wYWNpdHknOiAwXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8xOiDpoK3nm5RcbiAgICAgICAgcGFyZW50RWxlbWVudC5maW5kKCcud29yZGluZy1hcmVhLS0xLCAud29yZGluZy1hcmVhLS0yLCAud29yZGluZy1hcmVhLS0zJykuY3NzKHtcbiAgICAgICAgICAnb3BhY2l0eSc6IDBcbiAgICAgICAgfSk7XG4gICAgICAgIHBhcmVudEVsZW1lbnQuZmluZCgnLmJnLWJsb2NrLS0xJykuY3NzKHtcbiAgICAgICAgICAndG9wJzogMFxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAocHJvZ3Jlc3MgPD0gaGVhZGVzdFRpbWUgKyB0ZXh0U2hvd1RpbWUpIHtcbiAgICAgICAgLy88PTM1XG4gICAgICAgIHZhciBhcmVhUHJvZ3Jlc3MgPSBwcm9ncmVzcyAtIGhlYWRlc3RUaW1lO1xuICAgICAgICBwYXJlbnRFbGVtZW50LmZpbmQoJy5tYXN0ZXItYXJlYScpLmhpZGUoMCk7XG4gICAgICAgIHBhcmVudEVsZW1lbnQuZmluZCgnLndvcmRpbmctYXJlYS0tMScpLmNzcyh7XG4gICAgICAgICAgJ29wYWNpdHknOiBhcmVhUHJvZ3Jlc3MgKiAxIC8gdGV4dFNob3dUaW1lLFxuICAgICAgICAgICd0cmFuc2Zvcm0nOiBcInRyYW5zbGF0ZSgwLCBcIi5jb25jYXQoKHRleHRTaG93VGltZSAtIGFyZWFQcm9ncmVzcykgKiB0ZXh0U2hvd3B4IC8gdGV4dFNob3dUaW1lLCBcInB4KVwiKVxuICAgICAgICB9KTtcbiAgICAgICAgLy8yOiAx5paH5a2X6YCyXG4gICAgICAgIHBhcmVudEVsZW1lbnQuZmluZCgnLndvcmRpbmctYXJlYS0tMiwgLndvcmRpbmctYXJlYS0tMycpLmNzcyh7XG4gICAgICAgICAgJ29wYWNpdHknOiAwXG4gICAgICAgIH0pO1xuICAgICAgICBwYXJlbnRFbGVtZW50LmZpbmQoJy5iZy1ibG9jay0tMScpLmNzcyh7XG4gICAgICAgICAgJ3RvcCc6IDBcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHByb2dyZXNzIDw9IGhlYWRlc3RUaW1lICsgdGV4dFNob3dUaW1lICsgdGV4dFJlYWRUaW1lKSB7XG4gICAgICAgIC8vPD00NVxuICAgICAgICBwYXJlbnRFbGVtZW50LmZpbmQoJy53b3JkaW5nLWFyZWEtLTEnKS5jc3Moe1xuICAgICAgICAgICdvcGFjaXR5JzogMSxcbiAgICAgICAgICAndHJhbnNmb3JtJzogXCJ0cmFuc2xhdGUoMCwgMClcIlxuICAgICAgICB9KTtcbiAgICAgICAgLy8zOiAx5paH5a2X55yLXG4gICAgICAgIHBhcmVudEVsZW1lbnQuZmluZCgnLm1hc3Rlci1hcmVhJykuaGlkZSgwKTtcbiAgICAgICAgcGFyZW50RWxlbWVudC5maW5kKCcud29yZGluZy1hcmVhLS0yLCAud29yZGluZy1hcmVhLS0zJykuY3NzKHtcbiAgICAgICAgICAnb3BhY2l0eSc6IDBcbiAgICAgICAgfSk7XG4gICAgICAgIHBhcmVudEVsZW1lbnQuZmluZCgnLmJnLWJsb2NrLS0xJykuY3NzKHtcbiAgICAgICAgICAndG9wJzogMFxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAocHJvZ3Jlc3MgPD0gaGVhZGVzdFRpbWUgKyB0ZXh0U2hvd1RpbWUgKyB0ZXh0UmVhZFRpbWUgKyB0ZXh0U2hvd1RpbWUpIHtcbiAgICAgICAgLy88PTYwXG4gICAgICAgIHZhciBfYXJlYVByb2dyZXNzID0gcHJvZ3Jlc3MgLSAoaGVhZGVzdFRpbWUgKyB0ZXh0U2hvd1RpbWUgKyB0ZXh0UmVhZFRpbWUpO1xuICAgICAgICBpZiAoX2FyZWFQcm9ncmVzcyA8IHRleHRTaG93VGltZSAvIDIpIHtcbiAgICAgICAgICBwYXJlbnRFbGVtZW50LmZpbmQoJy53b3JkaW5nLWFyZWEtLTEnKS5jc3Moe1xuICAgICAgICAgICAgJ29wYWNpdHknOiAxIC0gX2FyZWFQcm9ncmVzcyAqIDIgLyB0ZXh0U2hvd1RpbWUsXG4gICAgICAgICAgICAndHJhbnNmb3JtJzogXCJ0cmFuc2xhdGUoMCwgXCIuY29uY2F0KF9hcmVhUHJvZ3Jlc3MgKiAyICogLTYsIFwicHgpXCIpXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGFyZW50RWxlbWVudC5maW5kKCcud29yZGluZy1hcmVhLS0xJykuY3NzKHtcbiAgICAgICAgICAgICdvcGFjaXR5JzogMFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIDtcbiAgICAgICAgaWYgKF9hcmVhUHJvZ3Jlc3MgPiB0ZXh0U2hvd1RpbWUgKiAwLjgpIHtcbiAgICAgICAgICBwYXJlbnRFbGVtZW50LmZpbmQoJy53b3JkaW5nLWFyZWEtLTInKS5jc3Moe1xuICAgICAgICAgICAgJ29wYWNpdHknOiBNYXRoLmFicygoMS41IC0gX2FyZWFQcm9ncmVzcyAqIDIgLyB0ZXh0U2hvd1RpbWUpICogMiksXG4gICAgICAgICAgICAndHJhbnNmb3JtJzogXCJ0cmFuc2xhdGUoMCwgXCIuY29uY2F0KCh0ZXh0U2hvd1RpbWUgLSBfYXJlYVByb2dyZXNzKSAqIHRleHRTaG93cHggLyB0ZXh0U2hvd1RpbWUgKiAyLCBcInB4KVwiKVxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBhcmVudEVsZW1lbnQuZmluZCgnLndvcmRpbmctYXJlYS0tMicpLmNzcyh7XG4gICAgICAgICAgICAnb3BhY2l0eSc6IDBcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICA7XG4gICAgICAgIHBhcmVudEVsZW1lbnQuZmluZCgnLmJnLWJsb2NrLS0xJykuY3NzKHtcbiAgICAgICAgICAndG9wJzogXCJcIi5jb25jYXQoLTEgKiBfYXJlYVByb2dyZXNzICogMTAgLyB0ZXh0U2hvd1RpbWUgKiAxMCwgXCIlXCIpXG4gICAgICAgIH0pO1xuICAgICAgICBwYXJlbnRFbGVtZW50LmZpbmQoJy5iZy1ibG9jay0tMiwgLmdyYWRpZW50LWJveCcpLmNzcyh7XG4gICAgICAgICAgJ3RvcCc6IFwiXCIuY29uY2F0KCh0ZXh0U2hvd1RpbWUgLSBfYXJlYVByb2dyZXNzKSAqIDQwIC8gdGV4dFNob3dUaW1lLCBcIiVcIilcbiAgICAgICAgfSk7XG4gICAgICAgIC8vNDogMeaWh+Wtl+mboiAy5paH5a2X6YCyIDHlnJblh7ogMuWclumAslxuICAgICAgICBwYXJlbnRFbGVtZW50LmZpbmQoJy5tYXN0ZXItYXJlYScpLmhpZGUoMCk7XG4gICAgICAgIHBhcmVudEVsZW1lbnQuZmluZCgnLndvcmRpbmctYXJlYS0tMycpLmNzcyh7XG4gICAgICAgICAgJ29wYWNpdHknOiAwXG4gICAgICAgIH0pO1xuICAgICAgICBwYXJlbnRFbGVtZW50LmZpbmQoJy5ncmFkaWVudC1ib3gnKS5jc3Moe1xuICAgICAgICAgICd0cmFuc2Zvcm0nOiBcInNjYWxlWCgxKVwiLFxuICAgICAgICAgICdvcGFjaXR5JzogMSxcbiAgICAgICAgICAndG9wJzogMFxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAocHJvZ3Jlc3MgPD0gaGVhZGVzdFRpbWUgKyB0ZXh0U2hvd1RpbWUgKyB0ZXh0UmVhZFRpbWUgKyB0ZXh0U2hvd1RpbWUgKyA1KSB7XG4gICAgICAgIC8vIDw2NVxuICAgICAgICB2YXIgX2FyZWFQcm9ncmVzczIgPSBwcm9ncmVzcyAtIChoZWFkZXN0VGltZSArIHRleHRTaG93VGltZSArIHRleHRSZWFkVGltZSArIHRleHRTaG93VGltZSk7XG4gICAgICAgIHBhcmVudEVsZW1lbnQuZmluZCgnLmdyYWRpZW50LWJveCcpLmNzcyh7XG4gICAgICAgICAgJ3RyYW5zZm9ybSc6IFwic2NhbGVYKFwiLmNvbmNhdCgxICsgX2FyZWFQcm9ncmVzczIgKiAwLjYgLyA1LCBcIilcIiksXG4gICAgICAgICAgJ29wYWNpdHknOiAxLFxuICAgICAgICAgICd0b3AnOiAwXG4gICAgICAgIH0pO1xuICAgICAgICAvLzUuIOmWi+eql1xuICAgICAgICBwYXJlbnRFbGVtZW50LmZpbmQoJy5tYXN0ZXItYXJlYScpLmhpZGUoMCk7XG4gICAgICAgIHBhcmVudEVsZW1lbnQuZmluZCgnLndvcmRpbmctYXJlYS0tMSwgLndvcmRpbmctYXJlYS0tMycpLmNzcyh7XG4gICAgICAgICAgJ29wYWNpdHknOiAwXG4gICAgICAgIH0pO1xuICAgICAgICBwYXJlbnRFbGVtZW50LmZpbmQoJy53b3JkaW5nLWFyZWEtLTInKS5jc3Moe1xuICAgICAgICAgICdvcGFjaXR5JzogMSxcbiAgICAgICAgICAndHJhbnNmb3JtJzogXCJ0cmFuc2xhdGUoMCwgMClcIlxuICAgICAgICB9KTtcbiAgICAgICAgcGFyZW50RWxlbWVudC5maW5kKCcuYmctYmxvY2stLTInKS5jc3Moe1xuICAgICAgICAgICd0b3AnOiAwXG4gICAgICAgIH0pO1xuICAgICAgICBwYXJlbnRFbGVtZW50LmZpbmQoJy5iZy1ibG9jay0tMScpLmNzcyh7XG4gICAgICAgICAgJ3RvcCc6ICcxMDAlJ1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAocHJvZ3Jlc3MgPD0gaGVhZGVzdFRpbWUgKyB0ZXh0U2hvd1RpbWUgKyB0ZXh0UmVhZFRpbWUgKyB0ZXh0U2hvd1RpbWUgKyA1ICsgdGV4dFJlYWRUaW1lKSB7XG4gICAgICAgIC8vPDc1XG4gICAgICAgIC8vNi4gMuaWh+Wtl+eci1xuICAgICAgICBwYXJlbnRFbGVtZW50LmZpbmQoJy5tYXN0ZXItYXJlYScpLmhpZGUoMCk7XG4gICAgICAgIHBhcmVudEVsZW1lbnQuZmluZCgnLndvcmRpbmctYXJlYS0tMSwgLndvcmRpbmctYXJlYS0tMycpLmNzcyh7XG4gICAgICAgICAgJ29wYWNpdHknOiAwXG4gICAgICAgIH0pO1xuICAgICAgICBwYXJlbnRFbGVtZW50LmZpbmQoJy53b3JkaW5nLWFyZWEtLTInKS5jc3Moe1xuICAgICAgICAgICdvcGFjaXR5JzogMSxcbiAgICAgICAgICAndHJhbnNmb3JtJzogXCJ0cmFuc2xhdGUoMCwgMClcIlxuICAgICAgICB9KTtcbiAgICAgICAgcGFyZW50RWxlbWVudC5maW5kKCcuYmctYmxvY2stLTInKS5jc3Moe1xuICAgICAgICAgICd0b3AnOiAwXG4gICAgICAgIH0pO1xuICAgICAgICBwYXJlbnRFbGVtZW50LmZpbmQoJy5iZy1ibG9jay0tMScpLmNzcyh7XG4gICAgICAgICAgJ3RvcCc6ICcxMDAlJ1xuICAgICAgICB9KTtcbiAgICAgICAgcGFyZW50RWxlbWVudC5maW5kKCcuZ3JhZGllbnQtYm94JykuY3NzKHtcbiAgICAgICAgICAnb3BhY2l0eSc6IDBcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHByb2dyZXNzIDw9IGhlYWRlc3RUaW1lICsgdGV4dFNob3dUaW1lICsgdGV4dFJlYWRUaW1lICsgdGV4dFNob3dUaW1lICsgNSArIHRleHRSZWFkVGltZSArIHRleHRTaG93VGltZSkge1xuICAgICAgICAvLzw5MFxuICAgICAgICB2YXIgX2FyZWFQcm9ncmVzczMgPSBwcm9ncmVzcyAtIChoZWFkZXN0VGltZSArIHRleHRTaG93VGltZSArIHRleHRSZWFkVGltZSArIHRleHRTaG93VGltZSArIDUgKyB0ZXh0UmVhZFRpbWUpO1xuICAgICAgICBpZiAoX2FyZWFQcm9ncmVzczMgPCB0ZXh0U2hvd1RpbWUgLyAyKSB7XG4gICAgICAgICAgcGFyZW50RWxlbWVudC5maW5kKCcud29yZGluZy1hcmVhLS0yJykuY3NzKHtcbiAgICAgICAgICAgICdvcGFjaXR5JzogMSAtIF9hcmVhUHJvZ3Jlc3MzICogMiAvIHRleHRTaG93VGltZSxcbiAgICAgICAgICAgICd0cmFuc2Zvcm0nOiBcInRyYW5zbGF0ZSgwLCBcIi5jb25jYXQoX2FyZWFQcm9ncmVzczMgKiAyICogLTYsIFwicHgpXCIpXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGFyZW50RWxlbWVudC5maW5kKCcud29yZGluZy1hcmVhLS0yJykuY3NzKHtcbiAgICAgICAgICAgICdvcGFjaXR5JzogMFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIDtcbiAgICAgICAgaWYgKF9hcmVhUHJvZ3Jlc3MzID4gdGV4dFNob3dUaW1lICogMC44KSB7XG4gICAgICAgICAgcGFyZW50RWxlbWVudC5maW5kKCcud29yZGluZy1hcmVhLS0zJykuY3NzKHtcbiAgICAgICAgICAgICdvcGFjaXR5JzogTWF0aC5hYnMoKDEuNSAtIF9hcmVhUHJvZ3Jlc3MzICogMiAvIHRleHRTaG93VGltZSkgKiAyKSxcbiAgICAgICAgICAgICd0cmFuc2Zvcm0nOiBcInRyYW5zbGF0ZSgwLCBcIi5jb25jYXQoKHRleHRTaG93VGltZSAtIF9hcmVhUHJvZ3Jlc3MzKSAqIHRleHRTaG93cHggLyB0ZXh0U2hvd1RpbWUgKiAyLCBcInB4KVwiKVxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBhcmVudEVsZW1lbnQuZmluZCgnLndvcmRpbmctYXJlYS0tMycpLmNzcyh7XG4gICAgICAgICAgICAnb3BhY2l0eSc6IDBcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICA7XG4gICAgICAgIHBhcmVudEVsZW1lbnQuZmluZCgnLmJnLWJsb2NrLS0yJykuY3NzKHtcbiAgICAgICAgICAndG9wJzogXCJcIi5jb25jYXQoLTEgKiBfYXJlYVByb2dyZXNzMyAqIDEwIC8gdGV4dFNob3dUaW1lICogMTAsIFwiJVwiKVxuICAgICAgICB9KTtcbiAgICAgICAgcGFyZW50RWxlbWVudC5maW5kKCcuYmctYmxvY2stLTMnKS5jc3Moe1xuICAgICAgICAgICd0b3AnOiBcIlwiLmNvbmNhdCgodGV4dFNob3dUaW1lIC0gX2FyZWFQcm9ncmVzczMpICogNDAgLyB0ZXh0U2hvd1RpbWUsIFwiJVwiKVxuICAgICAgICB9KTtcbiAgICAgICAgLy83LiAy5paH5a2X5Ye6IDPmloflrZfpgLIgMuWcluWHuiAz5ZyW6YCyXG4gICAgICAgIHBhcmVudEVsZW1lbnQuZmluZCgnLm1hc3Rlci1hcmVhJykuaGlkZSgwKTtcbiAgICAgICAgcGFyZW50RWxlbWVudC5maW5kKCcud29yZGluZy1hcmVhLS0xJykuY3NzKHtcbiAgICAgICAgICAnb3BhY2l0eSc6IDBcbiAgICAgICAgfSk7XG4gICAgICAgIHBhcmVudEVsZW1lbnQuZmluZCgnLmJnLWJsb2NrLS0xJykuY3NzKHtcbiAgICAgICAgICAndG9wJzogJzEwMCUnXG4gICAgICAgIH0pO1xuICAgICAgICBwYXJlbnRFbGVtZW50LmZpbmQoJy5ncmFkaWVudC1ib3gnKS5jc3Moe1xuICAgICAgICAgICdvcGFjaXR5JzogMFxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vPDEwMFxuICAgICAgICAvLzcgM+Wtl+eci1xuICAgICAgICBwYXJlbnRFbGVtZW50LmZpbmQoJy5tYXN0ZXItYXJlYScpLmhpZGUoMCk7XG4gICAgICAgIHBhcmVudEVsZW1lbnQuZmluZCgnLndvcmRpbmctYXJlYS0tMSwgLndvcmRpbmctYXJlYS0tMicpLmNzcyh7XG4gICAgICAgICAgJ29wYWNpdHknOiAwXG4gICAgICAgIH0pO1xuICAgICAgICBwYXJlbnRFbGVtZW50LmZpbmQoJy53b3JkaW5nLWFyZWEtLTMnKS5jc3Moe1xuICAgICAgICAgICdvcGFjaXR5JzogMSxcbiAgICAgICAgICAndHJhbnNmb3JtJzogXCJ0cmFuc2xhdGUoMCwgMClcIlxuICAgICAgICB9KTtcbiAgICAgICAgcGFyZW50RWxlbWVudC5maW5kKCcuYmctYmxvY2stLTEsIC5iZy1ibG9jay0tMicpLmNzcyh7XG4gICAgICAgICAgJ3RvcCc6ICcxMDAlJ1xuICAgICAgICB9KTtcbiAgICAgICAgcGFyZW50RWxlbWVudC5maW5kKCcuYmctYmxvY2stLTMnKS5jc3Moe1xuICAgICAgICAgICd0b3AnOiAwXG4gICAgICAgIH0pO1xuICAgICAgICBwYXJlbnRFbGVtZW50LmZpbmQoJy5ncmFkaWVudC1ib3gnKS5jc3Moe1xuICAgICAgICAgICdvcGFjaXR5JzogMFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLy8gY29uc29sZS5sb2coJz09PT09PT09PScpXG4gICAgICAvLyBjb25zb2xlLmxvZygncHJvZ3Jlc3M6JywgcHJvZ3Jlc3MpO1xuICAgICAgLy8gY29uc29sZS5sb2coYGhlYWRzZXQ6JHtpbWFnZXNQbGF5aW5nLmltYWdlbGVuZ3RofTpgLCBpbWFnZU51bSk7XG4gICAgICAvLyBjb25zb2xlLmxvZyhgb3BhY2l0eTE6YCwgdGV4dFNob3cpXG4gICAgfSxcblxuICAgIGdldEltZ1VybDogZnVuY3Rpb24gZ2V0SW1nVXJsKG51bSwgc3ZnKSB7XG4gICAgICB2YXIgbmV3TnVtID0gaW1hZ2VzUGxheWluZy51cGRhdGVaZXJvKG51bSwgMyk7XG4gICAgICBpZiAoIXN2Zykge1xuICAgICAgICByZXR1cm4gXCIvbWVkaWEvZmlsZXJfcHVibGljL2ZlZC1hc3NldHMvc3VucmlzZS9pbWFnZXMvdmlkZW8taW1nL3ZpZGVvLWltZy1cIiArIG5ld051bSArIFwiLmpwZ1wiO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFwiL21lZGlhL2ZpbGVyX3B1YmxpYy9mZWQtYXNzZXRzL3N1bnJpc2UvaW1hZ2VzL3ZpZGVvLWltZy92aWRlby1pbWctc3ZnLVwiICsgbmV3TnVtICsgXCIuc3ZnXCI7XG4gICAgICB9XG4gICAgfSxcbiAgICB1cGRhdGVaZXJvOiBmdW5jdGlvbiB1cGRhdGVaZXJvKG51bSwgbGVuZ3RoKSB7XG4gICAgICBmb3IgKHZhciBsZW4gPSAobnVtICsgXCJcIikubGVuZ3RoOyBsZW4gPCBsZW5ndGg7IGxlbiA9IG51bS5sZW5ndGgpIHtcbiAgICAgICAgbnVtID0gbnVtO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bTtcbiAgICB9XG4gIH07XG4gIHJldHVybiBpbWFnZXNQbGF5aW5nO1xufSgpO1xuXG4vKj0gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbj0gICAgICAgU2VjdGlvbjogZmFkZSB3b3JkaW5nICAgICAgICAgICAgICAgICAgICAgICAgICAgID1cbj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xudmFyIGZhZGVJbkFuaW1hdGUgPSBmdW5jdGlvbiAoKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgZmFkZUluQW5pbWF0ZSA9IHtcbiAgICBpbml0OiBmdW5jdGlvbiBpbml0KCkge1xuICAgICAgdmFyIGltYWdlU2VjdGlvbiA9ICQoJy5zdW5yaXNlLTIwLXBhZ2UgLndvcmRpbmctYXJlYS0tc2xpZGUnKTtcbiAgICAgIGlmIChpbWFnZVNlY3Rpb24ubGVuZ3RoID4gMCkge1xuICAgICAgICAkLmVhY2goaW1hZ2VTZWN0aW9uLCBmdW5jdGlvbiAoaW5kZXgsIHZhbCkge1xuICAgICAgICAgIHZhciBjdXJyZW50U2VjdGlvbiA9ICQodGhpcyk7XG4gICAgICAgICAgZmFkZUluQW5pbWF0ZS5zZXR1cEFuaW1hdGlvbihjdXJyZW50U2VjdGlvbik7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sXG4gICAgc2V0dXBBbmltYXRpb246IGZ1bmN0aW9uIHNldHVwQW5pbWF0aW9uKHBhcmVudEVsZW1lbnQpIHtcbiAgICAgIHZhciB0cmlnZ2VySG9vayA9IHtcbiAgICAgICAgZDogdHlwZW9mIHBhcmVudEVsZW1lbnQuZGF0YSgndHJpZ2dlci1ob29rJykgPT09IFwibnVtYmVyXCIgPyBwYXJlbnRFbGVtZW50LmRhdGEoJ3RyaWdnZXItaG9vaycpIDogMC4wNSxcbiAgICAgICAgbTogdHlwZW9mIHBhcmVudEVsZW1lbnQuZGF0YSgndHJpZ2dlci1ob29rLW0nKSA9PT0gXCJudW1iZXJcIiA/IHBhcmVudEVsZW1lbnQuZGF0YSgndHJpZ2dlci1ob29rLW0nKSA6IDAuNjVcbiAgICAgIH07XG4gICAgICB2YXIgZmFkZUluQW5pbWF0ZVNjcm9sbE1hZ2ljU2NlbmUgPSBuZXcgU2Nyb2xsTWFnaWMuU2NlbmUoe1xuICAgICAgICB0cmlnZ2VyRWxlbWVudDogcGFyZW50RWxlbWVudFswXSxcbiAgICAgICAgb2Zmc2V0OiAwLFxuICAgICAgICByZXZlcnNlOiBmYWxzZSxcbiAgICAgICAgdHJpZ2dlckhvb2s6ICFjb21tb25TZXR0aW5nLmlzTW9iaWxlKCkgPyB0cmlnZ2VySG9vay5kIDogdHJpZ2dlckhvb2subVxuICAgICAgfSkub24oJ2VudGVyJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgLy8gY29uc29sZS5sb2cocGFyZW50RWxlbWVudClcbiAgICAgICAgcGFyZW50RWxlbWVudC5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgICB9KVxuICAgICAgLy8gLmFkZEluZGljYXRvcnMoe1xuICAgICAgLy8gICBuYW1lOiAnZmFkZWluJyxcbiAgICAgIC8vICAgaW5kZW50OiAzMFxuICAgICAgLy8gfSlcbiAgICAgIC5hZGRUbyhjZW50ZXJDb250cm9sbGVyKTtcbiAgICAgICQod2luZG93KS5yZXNpemUoZnVuY3Rpb24gKCkge1xuICAgICAgICBmYWRlSW5BbmltYXRlU2Nyb2xsTWFnaWNTY2VuZS50cmlnZ2VySG9vayghY29tbW9uU2V0dGluZy5pc01vYmlsZSgpID8gdHJpZ2dlckhvb2suZCA6IHRyaWdnZXJIb29rLm0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuICByZXR1cm4gZmFkZUluQW5pbWF0ZTtcbn0oKTtcblxuLyo9ID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG49ICAgICAgIFNlY3Rpb246IHNjcm9sbCBpbWFnZXNQbGF5aW5nXG49PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cbnZhciBoYW5kVHJhY2tpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgaGFuZFRyYWNraW5nID0ge1xuICAgIHBsYXlBY3RpdmU6IFtdLFxuICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgICB2YXIgc2VjdGlvbiA9ICQoJy5zZWN0aW9uLWhhbmQtdHJhY2tpbmcnKTtcbiAgICAgIGlmIChzZWN0aW9uLmxlbmd0aCA+IDApIHtcbiAgICAgICAgJC5lYWNoKHNlY3Rpb24sIGZ1bmN0aW9uIChzZWN0aW9uSW5kZXgsIHZhbCkge1xuICAgICAgICAgIHZhciBjdXJyZW50U2VjdGlvbiA9ICQodGhpcyk7XG4gICAgICAgICAgaGFuZFRyYWNraW5nLnNldHVwZnVuY3Rpb24oY3VycmVudFNlY3Rpb24sIHNlY3Rpb25JbmRleCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sXG4gICAgc2V0dXBmdW5jdGlvbjogZnVuY3Rpb24gc2V0dXBmdW5jdGlvbihwYXJlbnRFbGVtZW50LCBzZWN0aW9uSW5kZXgpIHtcbiAgICAgIHZhciBmaXJzdEl0ZW0gPSBwYXJlbnRFbGVtZW50LmZpbmQoJy52aWRlby1saXN0IC52aWRlby1pdGVtJykuZXEoMCk7XG4gICAgICB2YXIgdmlkZW9BcmVhID0gcGFyZW50RWxlbWVudC5maW5kKCcudmlkZW8tYXJlYScpO1xuICAgICAgaGFuZFRyYWNraW5nW3NlY3Rpb25JbmRleF0gPSB7fTtcbiAgICAgIGhhbmRUcmFja2luZ1tzZWN0aW9uSW5kZXhdLnBsYXlBY3RpdmUgPSAwO1xuICAgICAgaGFuZFRyYWNraW5nW3NlY3Rpb25JbmRleF0ucGxheVN0b3AgPSBjb21tb25TZXR0aW5nLmlzTW9iaWxlKCkgPyB0cnVlIDogZmFsc2U7XG4gICAgICBoYW5kVHJhY2tpbmdbc2VjdGlvbkluZGV4XS5mb3JjZVN0b3AgPSBmYWxzZTtcbiAgICAgICQod2luZG93KS5yZXNpemUoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIWhhbmRUcmFja2luZ1tzZWN0aW9uSW5kZXhdLmZvcmNlU3RvcCkge1xuICAgICAgICAgIGhhbmRUcmFja2luZ1tzZWN0aW9uSW5kZXhdLnBsYXlTdG9wID0gY29tbW9uU2V0dGluZy5pc01vYmlsZSgpID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIDtcbiAgICAgIH0pO1xuICAgICAgZmlyc3RJdGVtLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgIGZpcnN0SXRlbS5maW5kKCcudGV4dC1pbmZvJykuc2hvdygpO1xuICAgICAgdmFyIGR1cmF0aW9uID0gZnVuY3Rpb24gZHVyYXRpb24oKSB7XG4gICAgICAgIGlmICghY29tbW9uU2V0dGluZy5pc01vYmlsZSgpKSB7XG4gICAgICAgICAgcmV0dXJuICQod2luZG93KS5pbm5lckhlaWdodCgpICogMC44O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiAkKHdpbmRvdykuaW5uZXJIZWlnaHQoKSAqIDEuMjtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHZhciBzY2VuZSA9IG5ldyBTY3JvbGxNYWdpYy5TY2VuZSh7XG4gICAgICAgIHRyaWdnZXJFbGVtZW50OiB2aWRlb0FyZWFbMF0sXG4gICAgICAgIGR1cmF0aW9uOiBkdXJhdGlvblxuICAgICAgfSlcbiAgICAgIC8vIC5hZGRJbmRpY2F0b3JzKHtcbiAgICAgIC8vICAgbmFtZTogJ2hhbmRUcmFja2luZydcbiAgICAgIC8vIH0pXG4gICAgICAuYWRkVG8oY29udHJvbGxlcikub24oJ2xlYXZlIGVudGVyJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgaWYgKGUudHlwZSA9PT0gJ2VudGVyJykge1xuICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdhdXRvcGxheScpXG4gICAgICAgICAgaGFuZFRyYWNraW5nLmF1dG9QbGF5KHBhcmVudEVsZW1lbnQsICdwbGF5Jywgc2VjdGlvbkluZGV4KTtcbiAgICAgICAgfSBlbHNlIGlmIChlLnR5cGUgPT09ICdsZWF2ZScpIHtcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZygnc3RvcCBhdXRvJylcbiAgICAgICAgICBoYW5kVHJhY2tpbmcuYXV0b1BsYXkocGFyZW50RWxlbWVudCwgJ3BhdXNlJywgc2VjdGlvbkluZGV4KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBwYXJlbnRFbGVtZW50LmZpbmQoJy52aWRlby1saXN0IC52aWRlby1pdGVtJykuZWFjaChmdW5jdGlvbiAoaSkge1xuICAgICAgICB2YXIgdmlkZW8gPSAkKHRoaXMpLmZpbmQoJ3ZpZGVvJylbMF07XG4gICAgICAgIHZhciBiZyA9ICQodGhpcykuZmluZCgnLnZpZGVvLWJnJyk7XG4gICAgICAgIHZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCd2aWRlbyBlbmQgLi4uICcpO1xuICAgICAgICAgIGlmIChoYW5kVHJhY2tpbmdbc2VjdGlvbkluZGV4XS5wbGF5U3RvcCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICBoYW5kVHJhY2tpbmcuYXV0b1BsYXkocGFyZW50RWxlbWVudCwgJ2ZpbmlzaCcsIHNlY3Rpb25JbmRleCk7XG4gICAgICAgICAgICB9LCA1MDApO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBiZy5hZGRDbGFzcygncGxheWVkJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIDtcbiAgICAgICAgfSwgZmFsc2UpO1xuICAgICAgICAkKHRoaXMpLmZpbmQoJy50ZXh0LXRpdGxlJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgaGFuZFRyYWNraW5nW3NlY3Rpb25JbmRleF0ucGxheVN0b3AgPSB0cnVlO1xuICAgICAgICAgIGhhbmRUcmFja2luZ1tzZWN0aW9uSW5kZXhdLmZvcmNlU3RvcCA9IHRydWU7XG4gICAgICAgICAgaGFuZFRyYWNraW5nLmF1dG9QbGF5KHBhcmVudEVsZW1lbnQsICdjbGljaycsIHNlY3Rpb25JbmRleCwgaSk7XG4gICAgICAgICAgaWYgKHNjZW5lICE9PSBudWxsKSB7XG4gICAgICAgICAgICBzY2VuZS5kZXN0cm95KHRydWUpO1xuICAgICAgICAgICAgc2NlbmUgPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGJnLmZpbmQoJy52aWRlby1yZXBsYXknKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBoYW5kVHJhY2tpbmcuYXV0b1BsYXkocGFyZW50RWxlbWVudCwgJ2NsaWNrJywgc2VjdGlvbkluZGV4LCBpKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGF1dG9QbGF5OiBmdW5jdGlvbiBhdXRvUGxheShwYXJlbnRFbGVtZW50LCB0eXBlLCBzZWN0aW9uSW5kZXgsIGNsaWNrSW5kZXgpIHtcbiAgICAgIHZhciBwbGF5QWN0aXZlID0gaGFuZFRyYWNraW5nW3NlY3Rpb25JbmRleF0ucGxheUFjdGl2ZTtcbiAgICAgIHZhciB2aWRlbyA9IHBhcmVudEVsZW1lbnQuZmluZCgnLnZpZGVvLWxpc3QgLnZpZGVvLWl0ZW0nKS5lcShwbGF5QWN0aXZlKS5maW5kKCd2aWRlbycpO1xuICAgICAgLy8gbGV0IHBsYXlQcm9taXNlID0gdmlkZW9bMF0ucGxheSgpO1xuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgJ3BsYXknOlxuICAgICAgICAgIHBhcmVudEVsZW1lbnQuZmluZCgnLnZpZGVvLWJnJykucmVtb3ZlQ2xhc3MoJ3BsYXllZCcpO1xuICAgICAgICAgIHZpZGVvWzBdLnBsYXkoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAncGF1c2UnOlxuICAgICAgICAgIC8vIGxldCBwbGF5UHJvbWlzZSA9IHZpZGVvWzBdLnBsYXkoKTtcbiAgICAgICAgICAvLyBpZiAocGxheVByb21pc2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIC8vICAgcGxheVByb21pc2UudGhlbihfID0+IHtcbiAgICAgICAgICB2aWRlb1swXS5wYXVzZSgpO1xuICAgICAgICAgIC8vICAgfSlcbiAgICAgICAgICAvLyB9O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdmaW5pc2gnOlxuICAgICAgICAgIC8vIGlmIChwbGF5UHJvbWlzZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgLy8gICBwbGF5UHJvbWlzZS50aGVuKF8gPT4ge1xuICAgICAgICAgIC8vICAgICB2aWRlb1swXS5wYXVzZSgpO1xuICAgICAgICAgIC8vICAgfSlcbiAgICAgICAgICAvLyB9O1xuICAgICAgICAgIHZhciB2aWRlb0xlbmd0aCA9IHBhcmVudEVsZW1lbnQuZmluZCgnLnZpZGVvLWxpc3QgLnZpZGVvLWl0ZW0nKS5sZW5ndGg7XG4gICAgICAgICAgdmFyIG5leHRBY3RpdmUgPSBwbGF5QWN0aXZlICsgMiA+IHZpZGVvTGVuZ3RoID8gMCA6IHBsYXlBY3RpdmUgKyAxO1xuICAgICAgICAgIGhhbmRUcmFja2luZ1tzZWN0aW9uSW5kZXhdLnBsYXlBY3RpdmUgPSBuZXh0QWN0aXZlO1xuICAgICAgICAgIGhhbmRUcmFja2luZy5jaGFuZ2VWaWRlbyhwYXJlbnRFbGVtZW50LCBwbGF5QWN0aXZlLCBuZXh0QWN0aXZlLCBzZWN0aW9uSW5kZXgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdjbGljayc6XG4gICAgICAgICAgLy8gbGV0IHBsYXlQcm9taXNlID0gdmlkZW9bMF0ucGxheSgpO1xuICAgICAgICAgIC8vIGlmIChwbGF5UHJvbWlzZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgLy8gICBwbGF5UHJvbWlzZS50aGVuKF8gPT4ge1xuICAgICAgICAgIHZpZGVvWzBdLnBhdXNlKCk7XG4gICAgICAgICAgLy8gICB9KVxuICAgICAgICAgIC8vIH07XG4gICAgICAgICAgdmlkZW9bMF0uY3VycmVudFRpbWUgPSAwO1xuICAgICAgICAgIGhhbmRUcmFja2luZ1tzZWN0aW9uSW5kZXhdLnBsYXlBY3RpdmUgPSBjbGlja0luZGV4O1xuICAgICAgICAgIGhhbmRUcmFja2luZy5jaGFuZ2VWaWRlbyhwYXJlbnRFbGVtZW50LCBwbGF5QWN0aXZlLCBjbGlja0luZGV4LCBzZWN0aW9uSW5kZXgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgO1xuICAgIH0sXG4gICAgY2hhbmdlVmlkZW86IGZ1bmN0aW9uIGNoYW5nZVZpZGVvKHBhcmVudEVsZW1lbnQsIGFjdGl2ZSwgbmV4dEluZGV4LCBzZWN0aW9uSW5kZXgpIHtcbiAgICAgIHZhciBvbGRJdGVtID0gcGFyZW50RWxlbWVudC5maW5kKCcudmlkZW8tbGlzdCAudmlkZW8taXRlbScpLmVxKGFjdGl2ZSk7XG4gICAgICB2YXIgb2xkVGV4dCA9IG9sZEl0ZW0uZmluZCgnLnRleHQtaW5mbycpO1xuICAgICAgdmFyIG5leEl0ZW0gPSBwYXJlbnRFbGVtZW50LmZpbmQoJy52aWRlby1saXN0IC52aWRlby1pdGVtJykuZXEobmV4dEluZGV4KTtcbiAgICAgIHZhciBuZXh0VGV4dCA9IG5leEl0ZW0uZmluZCgnLnRleHQtaW5mbycpO1xuICAgICAgaWYgKGFjdGl2ZSAhPT0gbmV4dEluZGV4KSB7XG4gICAgICAgIG9sZEl0ZW0ucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICBvbGRUZXh0LnNsaWRlVXAoKTtcbiAgICAgICAgbmV4SXRlbS5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgIG5leHRUZXh0LnNsaWRlRG93bigpO1xuICAgICAgfVxuICAgICAgaGFuZFRyYWNraW5nLmF1dG9QbGF5KHBhcmVudEVsZW1lbnQsICdwbGF5Jywgc2VjdGlvbkluZGV4KTtcbiAgICB9XG4gIH07XG4gIHJldHVybiBoYW5kVHJhY2tpbmc7XG59KCk7XG5cbi8qPSA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuPSAgICAgICBTZWN0aW9uOiBTaW5nbGUgdmlkZW8gICAgICAgICAgICAgICAgICAgICAgICAgICAgPVxuPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG52YXIgdmlkZW9TY3JvbGxBbmRQbGF5ID0gZnVuY3Rpb24gKCkge1xuICB2YXIgdmlkZW9TY3JvbGxBbmRQbGF5ID0ge1xuICAgIHNldHVwVmlkZW9Tb3VyY2U6IGZ1bmN0aW9uIHNldHVwVmlkZW9Tb3VyY2UocGFyZW50RWxlbWVudCkge1xuICAgICAgLy8gaWYgKCFjb21tb25TZXR0aW5nLmlzTW9iaWxlKCkpIHtcbiAgICAgIHZhciBzZWN0aW9uT2JqID0gcGFyZW50RWxlbWVudCxcbiAgICAgICAgc2VjdGlvbkRvbSA9IHNlY3Rpb25PYmpbMF07XG4gICAgICAkLmVhY2goc2VjdGlvbk9iai5maW5kKCd2aWRlbycpLCBmdW5jdGlvbiAoaW5kZXgsIGVsKSB7XG4gICAgICAgIHZhciB2aWRlb09iaiA9ICQodGhpcyksXG4gICAgICAgICAgdmlkZW9Eb20gPSB2aWRlb09ialswXSxcbiAgICAgICAgICBvZmZzZXQgPSAtNjQwLFxuICAgICAgICAgIGZvcmNlVmlkZW9QcmVsb2FkID0gdmlkZW9PYmouZGF0YSgnZm9yY2UtcHJlbG9hZCcpLFxuICAgICAgICAgIHZpZGVvQXR0ciA9IHtcbiAgICAgICAgICAgIGxkOiB7XG4gICAgICAgICAgICAgIHZpZGVvUG9zdGVyOiB2aWRlb09iai5kYXRhKCdwb3N0ZXItcGF0aCcpLFxuICAgICAgICAgICAgICB2aWRlb1BhdGg6IHZpZGVvT2JqLmRhdGEoJ3ZpZGVvLXBhdGgnKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGQ6IHtcbiAgICAgICAgICAgICAgdmlkZW9Qb3N0ZXI6IHZpZGVvT2JqLmRhdGEoJ2QtcG9zdGVyLXBhdGgnKSxcbiAgICAgICAgICAgICAgdmlkZW9QYXRoOiB2aWRlb09iai5kYXRhKCdkLXZpZGVvLXBhdGgnKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGw6IHtcbiAgICAgICAgICAgICAgdmlkZW9Qb3N0ZXI6IHZpZGVvT2JqLmRhdGEoJ2wtcG9zdGVyLXBhdGgnKSxcbiAgICAgICAgICAgICAgdmlkZW9QYXRoOiB2aWRlb09iai5kYXRhKCdsLXZpZGVvLXBhdGgnKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHQ6IHtcbiAgICAgICAgICAgICAgdmlkZW9Qb3N0ZXI6IHZpZGVvT2JqLmRhdGEoJ3QtcG9zdGVyLXBhdGgnKSxcbiAgICAgICAgICAgICAgdmlkZW9QYXRoOiB2aWRlb09iai5kYXRhKCd0LXZpZGVvLXBhdGgnKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgIGlmICh0eXBlb2YgZm9yY2VWaWRlb1ByZWxvYWQgIT09ICd1bmRlZmluZWQnICYmIGZvcmNlVmlkZW9QcmVsb2FkID09PSAneWVzJykge1xuICAgICAgICAgIHZpZGVvU2Nyb2xsQW5kUGxheS5jaGFuZ2VWaWV3KHZpZGVvT2JqLCB2aWRlb0F0dHIpO1xuICAgICAgICAgIC8vIHZpZGVvRG9tLnBhdXNlKCk7XG4gICAgICAgICAgLy8gdmlkZW9Eb20ubG9hZCgpO1xuICAgICAgICAgIHZhciBwcm9taXNlID0gdmlkZW9Eb20ucGxheSgpO1xuICAgICAgICAgIGlmIChwcm9taXNlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHByb21pc2VbXCJjYXRjaFwiXShmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgLy8gQXV0by1wbGF5IHdhcyBwcmV2ZW50ZWRcbiAgICAgICAgICAgICAgLy8gU2hvdyBhIFVJIGVsZW1lbnQgdG8gbGV0IHRoZSB1c2VyIG1hbnVhbGx5IHN0YXJ0IHBsYXliYWNrXG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgLy8gQXV0by1wbGF5IHN0YXJ0ZWRcbiAgICAgICAgICAgICAgdmlkZW9Eb20ucGF1c2UoKTtcbiAgICAgICAgICAgICAgLy8gdmlkZW9Eb20ubG9hZCgpO1xuICAgICAgICAgICAgICB2aWRlb09iai5hZGRDbGFzcygnbG9hZGVkJyk7IC8vIFBsYXkgb25jZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIHZpZGVvT2JqLmFkZENsYXNzKCdsb2FkZWQnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgc2NlbmUgPSBuZXcgU2Nyb2xsTWFnaWMuU2NlbmUoe1xuICAgICAgICAgICAgdHJpZ2dlckVsZW1lbnQ6IHNlY3Rpb25Eb20sXG4gICAgICAgICAgICBvZmZzZXQ6IG9mZnNldFxuICAgICAgICAgIH0pLmFkZFRvKGNvbnRyb2xsZXIpLm9uKCdlbnRlcicsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBpZiAoZS50eXBlID09PSAnZW50ZXInICYmICF2aWRlb09iai5oYXNDbGFzcygnbG9hZGVkJykpIHtcbiAgICAgICAgICAgICAgdmlkZW9TY3JvbGxBbmRQbGF5LmNoYW5nZVZpZXcodmlkZW9PYmosIHZpZGVvQXR0cik7XG4gICAgICAgICAgICAgIHZpZGVvRG9tLnBhdXNlKCk7XG4gICAgICAgICAgICAgIHZpZGVvRG9tLmxvYWQoKTtcbiAgICAgICAgICAgICAgdmlkZW9PYmouYWRkQ2xhc3MoJ2xvYWRlZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHZpZGVvRG9tLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWRlZGRhdGEnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdmlkZW9TY3JvbGxBbmRQbGF5LnNldHVwU2Nyb2xsQW5kUGxheShzZWN0aW9uT2JqLCBzZWN0aW9uRG9tLCB2aWRlb09iaiwgdmlkZW9Eb20pO1xuICAgICAgICB9LCBmYWxzZSk7XG4gICAgICB9KTtcbiAgICAgIC8vIH1cbiAgICB9LFxuICAgIGNoYW5nZVZpZXc6IGZ1bmN0aW9uIGNoYW5nZVZpZXcoZWxlLCBkYXRhKSB7XG4gICAgICB2YXIgY2hhbmdlVmlld0Z1bmMgPSBmdW5jdGlvbiBjaGFuZ2VWaWV3RnVuYyhlbGUsIGRhdGEpIHtcbiAgICAgICAgdmFyIHdpbmRvd1cgPSAkKHdpbmRvdykuaW5uZXJXaWR0aCgpO1xuICAgICAgICB2YXIgY2hhbmdlQ2xhc3MgPSB3aW5kb3dXID4gMTkxOSA/ICdsZCcgOiB3aW5kb3dXID4gMTM2NSA/ICdkJyA6IHdpbmRvd1cgPiA5OTEgPyAnbCcgOiAndCc7XG4gICAgICAgIHZhciB1c2VEYXRhID0gZGF0YVtjaGFuZ2VDbGFzc107XG4gICAgICAgIGlmICghZWxlLmhhc0NsYXNzKFwidmlkZW8tY2hhbmdlVmlldy1cIi5jb25jYXQoY2hhbmdlQ2xhc3MpKSkge1xuICAgICAgICAgIGVsZS5yZW1vdmVDbGFzcygndmlkZW8tY2hhbmdlVmlldy1sZCB2aWRlby1jaGFuZ2VWaWV3LWQgdmlkZW8tY2hhbmdlVmlldy1sIHZpZGVvLWNoYW5nZVZpZXctdCcpO1xuICAgICAgICAgIGVsZS5hZGRDbGFzcyhcInZpZGVvLWNoYW5nZVZpZXctXCIuY29uY2F0KGNoYW5nZUNsYXNzKSk7XG4gICAgICAgICAgZWxlLmF0dHIoJ3Bvc3RlcicsIHVzZURhdGEudmlkZW9Qb3N0ZXIgfHwgZGF0YS5kLnZpZGVvUG9zdGVyKTtcbiAgICAgICAgICBlbGVbMF0uc3JjID0gdXNlRGF0YS52aWRlb1BhdGggfHwgZGF0YS5kLnZpZGVvUG9zdGVyO1xuICAgICAgICB9XG4gICAgICAgIDtcbiAgICAgIH07XG4gICAgICBjaGFuZ2VWaWV3RnVuYyhlbGUsIGRhdGEpO1xuICAgICAgJCh3aW5kb3cpLnJlc2l6ZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNoYW5nZVZpZXdGdW5jKGVsZSwgZGF0YSk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGdldFBvc2l0aW9uOiBmdW5jdGlvbiBnZXRQb3NpdGlvbihzZWN0aW9uT2JqLCB2aWRlb09iaikge1xuICAgICAgdmFyIHZoID0gd2luZG93LmlubmVySGVpZ2h0O1xuICAgICAgdmFyIHRvcFRyaWdnZXIgPSAwLFxuICAgICAgICBib3R0b21UcmlnZ2VyID0gMCxcbiAgICAgICAgZGVmYXVsdFRvcCxcbiAgICAgICAgZGVmYXVsdEJvdHRvbSxcbiAgICAgICAgc2VjdGlvbkhlaWdodCA9IHNlY3Rpb25PYmoub3V0ZXJIZWlnaHQoKTtcbiAgICAgIGlmIChjb21tb25TZXR0aW5nLmlzTW9iaWxlKCkpIHtcbiAgICAgICAgZGVmYXVsdFRvcCA9IC0xNTtcbiAgICAgICAgZGVmYXVsdEJvdHRvbSA9IC0xNTtcbiAgICAgICAgaWYgKHR5cGVvZiB2aWRlb09iai5kYXRhKCdtZC10b3AtdHJpZ2dlci1wbGF5aW5nJykgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgZGVmYXVsdFRvcCA9IHZpZGVvT2JqLmRhdGEoJ21kLXRvcC10cmlnZ2VyLXBsYXlpbmcnKTtcbiAgICAgICAgfVxuICAgICAgICB0b3BUcmlnZ2VyID0gcGFyc2VJbnQoc2VjdGlvbkhlaWdodCAqIChkZWZhdWx0VG9wIC8gMTAwKSwgMTApO1xuICAgICAgICBpZiAodHlwZW9mIHZpZGVvT2JqLmRhdGEoJ21kLWJvdHRvbS10cmlnZ2VyLXBsYXlpbmcnKSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBkZWZhdWx0Qm90dG9tID0gdmlkZW9PYmouZGF0YSgnbWQtYm90dG9tLXRyaWdnZXItcGxheWluZycpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2aWRlb09iai5kYXRhKCdtZC10cmlnZ2VyLXZoJykgPT09ICd5ZXMnKSB7XG4gICAgICAgICAgc2VjdGlvbkhlaWdodCA9IHZoO1xuICAgICAgICB9XG4gICAgICAgIGJvdHRvbVRyaWdnZXIgPSBzZWN0aW9uSGVpZ2h0IC0gcGFyc2VJbnQoc2VjdGlvbkhlaWdodCAqIChkZWZhdWx0Qm90dG9tIC8gMTAwKSwgMTApIC0gdG9wVHJpZ2dlcjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRlZmF1bHRUb3AgPSA1O1xuICAgICAgICBkZWZhdWx0Qm90dG9tID0gNTtcbiAgICAgICAgaWYgKHR5cGVvZiB2aWRlb09iai5kYXRhKCd0b3AtdHJpZ2dlci1wbGF5aW5nJykgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgZGVmYXVsdFRvcCA9IHZpZGVvT2JqLmRhdGEoJ3RvcC10cmlnZ2VyLXBsYXlpbmcnKTtcbiAgICAgICAgfVxuICAgICAgICB0b3BUcmlnZ2VyID0gcGFyc2VJbnQoc2VjdGlvbkhlaWdodCAqIChkZWZhdWx0VG9wIC8gMTAwKSwgMTApO1xuICAgICAgICBpZiAodHlwZW9mIHZpZGVvT2JqLmRhdGEoJ2JvdHRvbS10cmlnZ2VyLXBsYXlpbmcnKSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBkZWZhdWx0Qm90dG9tID0gdmlkZW9PYmouZGF0YSgnYm90dG9tLXRyaWdnZXItcGxheWluZycpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2aWRlb09iai5kYXRhKCd0cmlnZ2VyLXZoJykgPT09ICd5ZXMnKSB7XG4gICAgICAgICAgc2VjdGlvbkhlaWdodCA9IHZoO1xuICAgICAgICB9XG4gICAgICAgIGJvdHRvbVRyaWdnZXIgPSBzZWN0aW9uSGVpZ2h0IC0gcGFyc2VJbnQoc2VjdGlvbkhlaWdodCAqIChkZWZhdWx0Qm90dG9tIC8gMTAwKSwgMTApIC0gdG9wVHJpZ2dlcjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBbdG9wVHJpZ2dlciwgYm90dG9tVHJpZ2dlcl07XG4gICAgfSxcbiAgICB1cGRhdGVQb3NpdGlvbjogZnVuY3Rpb24gdXBkYXRlUG9zaXRpb24oc2VjdGlvbk9iaiwgdmlkZW9PYmosIHNjZW5lKSB7XG4gICAgICB2YXIgcG9zaXRpb25BcnJheSA9IHZpZGVvU2Nyb2xsQW5kUGxheS5nZXRQb3NpdGlvbihzZWN0aW9uT2JqLCB2aWRlb09iaiksXG4gICAgICAgIHRvcFRyaWdnZXIgPSBwb3NpdGlvbkFycmF5WzBdLFxuICAgICAgICBib3R0b21UcmlnZ2VyID0gcG9zaXRpb25BcnJheVsxXTtcbiAgICAgIHNjZW5lLm9mZnNldCh0b3BUcmlnZ2VyKTtcbiAgICAgIHNjZW5lLmR1cmF0aW9uKGJvdHRvbVRyaWdnZXIpO1xuICAgIH0sXG4gICAgc2V0dXBSZXBsYXlCdG46IGZ1bmN0aW9uIHNldHVwUmVwbGF5QnRuKHNlY3Rpb25PYmosIHZpZGVvT2JqLCB2aWRlb0RvbSkge1xuICAgICAgdmFyIHJlcGxheUJ0biA9IHNlY3Rpb25PYmouZmluZCgnLnJlcGxheS1ibG9jaycpO1xuICAgICAgaWYgKHR5cGVvZiByZXBsYXlCdG4gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJlcGxheUJ0bi5hZGRDbGFzcygnc2hvdycpO1xuICAgICAgICByZXBsYXlCdG4ub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgdmlkZW9Eb20ucGxheSgpO1xuICAgICAgICAgIHZpZGVvT2JqLmFkZENsYXNzKCdwbGF5aW5nJyk7XG4gICAgICAgICAgcmVwbGF5QnRuLnJlbW92ZUNsYXNzKCdzaG93Jyk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sXG4gICAgc2V0dXBTY3JvbGxBbmRQbGF5OiBmdW5jdGlvbiBzZXR1cFNjcm9sbEFuZFBsYXkoc2VjdGlvbk9iaiwgc2VjdGlvbkRvbSwgdmlkZW9PYmosIHZpZGVvRG9tKSB7XG4gICAgICB2YXIgc2NlbmUsXG4gICAgICAgIHZpZGVvTG9vcCA9IHZpZGVvT2JqLmRhdGEoJ2xvb3AnKSxcbiAgICAgICAgcGxheU9uY2UgPSB2aWRlb09iai5kYXRhKCdwbGF5LW9uY2UnKSxcbiAgICAgICAgbGVhdmVQYXVzZSA9IHZpZGVvT2JqLmRhdGEoJ2xlYXZlLXBhdXNlJykgfHwgJ25vJyxcbiAgICAgICAgcG9zaXRpb25BcnJheSA9IHZpZGVvU2Nyb2xsQW5kUGxheS5nZXRQb3NpdGlvbihzZWN0aW9uT2JqLCB2aWRlb09iaiksXG4gICAgICAgIHRvcFRyaWdnZXIgPSBwb3NpdGlvbkFycmF5WzBdLFxuICAgICAgICBib3R0b21UcmlnZ2VyID0gcG9zaXRpb25BcnJheVsxXSxcbiAgICAgICAgdmlkZW9IZWlnaHQgPSB2aWRlb09iai5vdXRlckhlaWdodCgpLFxuICAgICAgICBzZWN0aW9uSGVpZ2h0ID0gc2VjdGlvbk9iai5vdXRlckhlaWdodCgpLFxuICAgICAgICByZXNldFBsYXkgPSBmdW5jdGlvbiByZXNldFBsYXkoKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBwbGF5T25jZSA9PT0gJ3VuZGVmaW5lZCcgfHwgcGxheU9uY2UgIT09ICd5ZXMnKSB7XG4gICAgICAgICAgICB2aWRlb0RvbS5wYXVzZSgpO1xuICAgICAgICAgICAgdmlkZW9PYmoucmVtb3ZlQ2xhc3MoJ3BsYXlpbmcnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICByZXNldFBsYXkoKTtcbiAgICAgIHNjZW5lID0gbmV3IFNjcm9sbE1hZ2ljLlNjZW5lKHtcbiAgICAgICAgdHJpZ2dlckVsZW1lbnQ6IHNlY3Rpb25Eb20sXG4gICAgICAgIG9mZnNldDogdG9wVHJpZ2dlcixcbiAgICAgICAgZHVyYXRpb246IGJvdHRvbVRyaWdnZXJcbiAgICAgIH0pXG4gICAgICAvLyAuYWRkSW5kaWNhdG9ycyh7XG4gICAgICAvLyAgIG5hbWU6ICd2aWRlb1Njcm9sbEFuZFBsYXknXG4gICAgICAvLyB9KVxuICAgICAgLmFkZFRvKGVudGVyQ29udHJvbGxlcikub24oJ2VudGVyIGxlYXZlJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgc3dpdGNoIChlLnR5cGUpIHtcbiAgICAgICAgICBjYXNlICdlbnRlcic6XG4gICAgICAgICAgICBpZiAodmlkZW9PYmouaGFzQ2xhc3MoJ2xvYWRlZCcpICYmICF2aWRlb09iai5oYXNDbGFzcygncGxheWluZycpKSB7XG4gICAgICAgICAgICAgIC8vIHZpZGVvRG9tLnBsYXkoKTtcbiAgICAgICAgICAgICAgLy8gdmlkZW9PYmouYWRkQ2xhc3MoJ3BsYXlpbmcnKTtcbiAgICAgICAgICAgICAgdmFyIHByb21pc2UgPSB2aWRlb0RvbS5wbGF5KCk7XG4gICAgICAgICAgICAgIGlmIChwcm9taXNlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBwcm9taXNlW1wiY2F0Y2hcIl0oZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAvLyBBdXRvLXBsYXkgd2FzIHByZXZlbnRlZFxuICAgICAgICAgICAgICAgICAgLy8gU2hvdyBhIFVJIGVsZW1lbnQgdG8gbGV0IHRoZSB1c2VyIG1hbnVhbGx5IHN0YXJ0IHBsYXliYWNrXG4gICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAvLyBBdXRvLXBsYXkgc3RhcnRlZFxuICAgICAgICAgICAgICAgICAgdmlkZW9PYmouYWRkQ2xhc3MoJ3BsYXlpbmcnKTsgLy8gUGxheSBvbmNlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnbGVhdmUnOlxuICAgICAgICAgICAgaWYgKGxlYXZlUGF1c2UgPT09ICd5ZXMnKSB7XG4gICAgICAgICAgICAgIHJlc2V0UGxheSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICAvLyBzY2VuZS5hZGRJbmRpY2F0b3JzKHtcbiAgICAgIC8vICAgICBuYW1lOiBgc2Nyb2xsIChzSGVpZ2h0OiR7c2VjdGlvbkhlaWdodH0gfCB2SGVpZ2h0OiR7dmlkZW9IZWlnaHR9IHwgb2Zmc2V0OiR7dG9wVHJpZ2dlcn0gfCBkdXJhdGlvbjoke2JvdHRvbVRyaWdnZXJ9KWAsXG4gICAgICAvLyB9KTtcbiAgICAgIC8vXG4gICAgICAvLyBzY2VuZS5yZW1vdmVJbmRpY2F0b3JzKCk7XG5cbiAgICAgIHZpZGVvRG9tLmFkZEV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodHlwZW9mIHBsYXlPbmNlICE9PSAndW5kZWZpbmVkJyAmJiBwbGF5T25jZSA9PT0gJ3llcycpIHtcbiAgICAgICAgICB2aWRlb09iai5hZGRDbGFzcygncGxheWluZycpO1xuICAgICAgICAgIHZpZGVvU2Nyb2xsQW5kUGxheS5zZXR1cFJlcGxheUJ0bihzZWN0aW9uT2JqLCB2aWRlb09iaiwgdmlkZW9Eb20pO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiB2aWRlb0xvb3AgIT09ICd1bmRlZmluZWQnICYmIHZpZGVvTG9vcCA9PT0gJ25vJykge1xuICAgICAgICAgIHZpZGVvT2JqLnJlbW92ZUNsYXNzKCdwbGF5aW5nJyk7XG4gICAgICAgICAgdmlkZW9TY3JvbGxBbmRQbGF5LnNldHVwUmVwbGF5QnRuKHNlY3Rpb25PYmosIHZpZGVvT2JqLCB2aWRlb0RvbSk7XG4gICAgICAgIH0gZWxzZSBpZiAodmlkZW9PYmouaGFzQ2xhc3MoJ3BsYXlpbmcnKSkge1xuICAgICAgICAgIHZpZGVvT2JqLmF0dHIoJ2xvb3AnLCAnbG9vcCcpO1xuICAgICAgICAgIHZpZGVvRG9tLnBsYXkoKTtcbiAgICAgICAgfVxuICAgICAgfSwgZmFsc2UpO1xuICAgICAgJCh3aW5kb3cpLnJlc2l6ZShmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgLyogQWN0IG9uIHRoZSBldmVudCAqL1xuICAgICAgICB2aWRlb1Njcm9sbEFuZFBsYXkudXBkYXRlUG9zaXRpb24oc2VjdGlvbk9iaiwgdmlkZW9PYmosIHNjZW5lKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIHZpZGVvU2Nyb2xsQW5kUGxheTtcbn0oKTtcblxuLyo9ID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG49ICAgICAgIFNlY3Rpb246IE1vZGFsIFZpZGVvICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPVxuPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG52YXIgc2luZ2xlVmlkZW8gPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBzaW5nbGVWaWRlbyA9IHtcbiAgICBpbml0OiBmdW5jdGlvbiBpbml0KCkge1xuICAgICAgaWYgKCQoJy5zZWN0aW9uLS1zY3JvbGwtdmlkZW8tcGxheScpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgJC5lYWNoKCQoJy5zZWN0aW9uLS1zY3JvbGwtdmlkZW8tcGxheScpLCBmdW5jdGlvbiAoaW5kZXgsIGVsKSB7XG4gICAgICAgICAgdmFyIHNlY3Rpb25PYmogPSAkKHRoaXMpLFxuICAgICAgICAgICAgdmlkZW9CbG9jayA9IHNlY3Rpb25PYmouZmluZCgnLnZpZGVvLWJnJyk7XG4gICAgICAgICAgdmlkZW9TY3JvbGxBbmRQbGF5LnNldHVwVmlkZW9Tb3VyY2UodmlkZW9CbG9jayk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgcmV0dXJuIHNpbmdsZVZpZGVvO1xufSgpO1xuXG4vKj0gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbj0gICAgICAgRGV0ZWN0IFlvdXR1YmUgb3IgWW91a3UgcGx1Z2luICAgICAgICAgICAgICAgICAgICA9XG49PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cbnZhciB5b3VrdVZpZGVvID0ge1xuICBpbml0OiBmdW5jdGlvbiBpbml0KHZpZGVvSWQpIHtcbiAgICB2YXIgcGxheWVySWdub3JlZCA9IG5ldyBZS1UuUGxheWVyKCdwbGF5ZXInLCB7XG4gICAgICBzdHlsZWlkOiAnMCcsXG4gICAgICBjbGllbnRfaWQ6ICcyYThmZGE0OGZjNzA5YjczJyxcbiAgICAgIHZpZDogdmlkZW9JZCxcbiAgICAgIG5ld1BsYXllcjogZmFsc2UsXG4gICAgICBhdXRvcGxheTogdHJ1ZSxcbiAgICAgIHNob3dfcmVsYXRlZDogZmFsc2UsXG4gICAgICBldmVudHM6IHtcbiAgICAgICAgb25QbGF5RW5kOiBmdW5jdGlvbiBvblBsYXlFbmQoKSB7XG4gICAgICAgICAgbW9kYWxWaWRlby5oaWRlTW9kYWwoKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25QbGF5U3RhcnQ6IGZ1bmN0aW9uIG9uUGxheVN0YXJ0KCkge1xuICAgICAgICAgIG1vZGFsVmlkZW8uc2hvd01vZGFsKCk7XG4gICAgICAgICAgbW9kYWxWaWRlby5zZXR1cENsb3NlTW9kYWxCdG4oKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59O1xudmFyIHlvdXR1YmVWaWRlbyA9IHtcbiAgaW5pdDogZnVuY3Rpb24gaW5pdCh2aWQpIHtcbiAgICB2YXIgcGxheWVySWdub3JlZDtcbiAgICBmdW5jdGlvbiBvblBsYXllclJlYWR5KGV2ZW50KSB7XG4gICAgICBldmVudC50YXJnZXQucGxheVZpZGVvKCk7XG4gICAgICBtb2RhbFZpZGVvLnNob3dNb2RhbCgpO1xuICAgICAgbW9kYWxWaWRlby5zZXR1cENsb3NlTW9kYWxCdG4oKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gb25QbGF5ZXJTdGF0ZUNoYW5nZShldmVudCkge1xuICAgICAgaWYgKGV2ZW50LmRhdGEgPT09IDApIHtcbiAgICAgICAgbW9kYWxWaWRlby5oaWRlTW9kYWwoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gb25Zb3VUdWJlUGxheWVyQVBJUmVhZHkoKSB7XG4gICAgICBwbGF5ZXJJZ25vcmVkID0gbmV3IFlULlBsYXllcigncGxheWVyJywge1xuICAgICAgICBoZWlnaHQ6ICczOTAnLFxuICAgICAgICB3aWR0aDogJzY0MCcsXG4gICAgICAgIHZpZGVvSWQ6IHZpZCxcbiAgICAgICAgZXZlbnRzOiB7XG4gICAgICAgICAgb25SZWFkeTogb25QbGF5ZXJSZWFkeSxcbiAgICAgICAgICBvblN0YXRlQ2hhbmdlOiBvblBsYXllclN0YXRlQ2hhbmdlXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBvbllvdVR1YmVQbGF5ZXJBUElSZWFkeSgpO1xuICB9XG59O1xuXG4vKj0gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbj0gICAgICAgU2VjdGlvbjogQmFubmVyIG1vZGFsIHZpZGVvICAgICAgICAgICAgICAgICAgICAgICA9XG49PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cbnZhciBtb2RhbFZpZGVvID0ge1xuICBpbml0OiBmdW5jdGlvbiBpbml0KCkge1xuICAgIHZhciBtb2RhbFZpZGVvQmxvY2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2VjdGlvbi10cmFpbGVyLXZpZGVvIC5ib3gtdmlkZW8nKTtcbiAgICBpZiAobW9kYWxWaWRlb0Jsb2NrKSB7XG4gICAgICBtb2RhbFZpZGVvQmxvY2suZm9yRWFjaChmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICB2YXIgcGxheUJ0biA9IGVsZW0ucXVlcnlTZWxlY3RvcignLnBsYXktbW9kYWwtdmlkZW8tYnRuJyk7XG4gICAgICAgIHZhciB2aWRlb1R5cGUgPSBwbGF5QnRuLmdldEF0dHJpYnV0ZSgnZGF0YS12dHlwZScpO1xuICAgICAgICB2YXIgdmlkZW9JZCA9IHBsYXlCdG4uZ2V0QXR0cmlidXRlKCdkYXRhLXZpZCcpO1xuICAgICAgICBwbGF5QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAvKiBBY3Qgb24gdGhlIGV2ZW50ICovXG4gICAgICAgICAgaWYgKHZpZGVvVHlwZSA9PT0gJ3lvdXR1YmUnKSB7XG4gICAgICAgICAgICAvLyBZb3V0dWJlXG4gICAgICAgICAgICB5b3V0dWJlVmlkZW8uaW5pdCh2aWRlb0lkKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gWW91S3VcbiAgICAgICAgICAgIHlvdWt1VmlkZW8uaW5pdCh2aWRlb0lkKTtcbiAgICAgICAgICAgIG1vZGFsVmlkZW8uc2hvd01vZGFsKCk7XG4gICAgICAgICAgICBtb2RhbFZpZGVvLnNldHVwQ2xvc2VNb2RhbEJ0bigpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG4gIHNldHVwQ2xvc2VNb2RhbEJ0bjogZnVuY3Rpb24gc2V0dXBDbG9zZU1vZGFsQnRuKCkge1xuICAgIHZhciBjbG9zZUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbC1vdmVybGFwLWNvbnRhaW5lciAuYnRuLWNsb3NlJyk7XG4gICAgY2xvc2VCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBtb2RhbFZpZGVvLmhpZGVNb2RhbCgpO1xuICAgIH0pO1xuICB9LFxuICBzaG93TW9kYWw6IGZ1bmN0aW9uIHNob3dNb2RhbCgpIHtcbiAgICB2YXIgbW9kYWxDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWwtb3ZlcmxhcC1jb250YWluZXInKTtcbiAgICB2YXIgaHRtbFRhZyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdodG1sJylbMF07XG4gICAgdmFyIGJvZHlUYWcgPSBkb2N1bWVudC5ib2R5O1xuICAgIG1vZGFsQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ3Nob3cnKTtcbiAgICBodG1sVGFnLmNsYXNzTGlzdC5hZGQoJ2ZpeGVkJyk7XG4gICAgYm9keVRhZy5jbGFzc0xpc3QuYWRkKCdmaXhlZCcpO1xuICB9LFxuICBoaWRlTW9kYWw6IGZ1bmN0aW9uIGhpZGVNb2RhbCgpIHtcbiAgICB2YXIgbW9kYWxDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWwtb3ZlcmxhcC1jb250YWluZXInKTtcbiAgICB2YXIgaHRtbFRhZyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdodG1sJylbMF07XG4gICAgdmFyIGJvZHlUYWcgPSBkb2N1bWVudC5ib2R5O1xuICAgIG1vZGFsQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3cnKTtcbiAgICBodG1sVGFnLmNsYXNzTGlzdC5yZW1vdmUoJ2ZpeGVkJyk7XG4gICAgYm9keVRhZy5jbGFzc0xpc3QucmVtb3ZlKCdmaXhlZCcpO1xuICAgIHZhciBwbGF5QXJlYSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbC1vdmVybGFwLWNvbnRhaW5lciAuYWxpZ24tY2VudGVyJyk7XG4gICAgcGxheUFyZWEuaW5uZXJIVE1MID0gJzxkaXYgaWQ9XFwncGxheWVyXFwnPjwvZGl2Pic7XG4gIH1cbn07XG52YXIgbGF6eUxvYWRJbWcgPSB7XG4gIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgaWYgKHR5cGVvZiBMYXp5TG9hZCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHZhciBsYXp5TG9hZEluc3RhbmNlID0gbmV3IExhenlMb2FkKHtcbiAgICAgICAgZWxlbWVudHNfc2VsZWN0b3I6ICcubGF6eS1pbWcnLFxuICAgICAgICB0aHJlc2hvbGQ6IDIwMDBcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufTtcbndpbmRvdy5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7fTtcbiQoZnVuY3Rpb24gKCkge1xuICBzdWJIZWFkZXJUb2dnbGUuaW5pdCgpO1xuICBmaXhXaWRvd3MuaW5pdCgpO1xuICBpbWFnZXNQbGF5aW5nLmluaXQoKTtcbiAgZmFkZUluQW5pbWF0ZS5pbml0KCk7XG4gIGZ1bGxIZWlnaHQuaW5pdCgpO1xuICBtb2RhbFZpZGVvLmluaXQoKTtcbiAgc2luZ2xlVmlkZW8uaW5pdCgpO1xuICBwcm9kdWN0Q2Fyb3VzZWwuaW5pdCgpO1xuICBsYXp5TG9hZEltZy5pbml0KCk7XG4gIGhhbmRUcmFja2luZy5pbml0KCk7XG59KTtcblxufSx7XCIuL2xpYnMvdHlwZW1hdGVcIjoyfV0sMjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgeyByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpOyB9XG5mdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9XG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IH1cbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXkoaXRlcikgeyBpZiAodHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBpdGVyW1N5bWJvbC5pdGVyYXRvcl0gIT0gbnVsbCB8fCBpdGVyW1wiQEBpdGVyYXRvclwiXSAhPSBudWxsKSByZXR1cm4gQXJyYXkuZnJvbShpdGVyKTsgfVxuZnVuY3Rpb24gX2FycmF5V2l0aG91dEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkoYXJyKTsgfVxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9XG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29uc3RydWN0b3IsIFwicHJvdG90eXBlXCIsIHsgd3JpdGFibGU6IGZhbHNlIH0pOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cbi8qIGVzbGludC1kaXNhYmxlICovXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSpcXFxuICAgIFRZUEVNQVRFXG5cbiAgICBSdW4gdGV4dCBmaWx0ZXJzIGFjcm9zcyBET00gZWxlbWVudHNcbiAgICB0byBoZWxwIGFjaGlldmUgbmljZSB0eXBlc2V0dGluZ1xuICAgIG9uIGR5bmFtaWMgY29udGVudC5cblxcKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG52YXIgVHlwZU1hdGUgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBUeXBlTWF0ZShwYXJlbnQpIHtcbiAgICB2YXIgc2V0dGluZ3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUeXBlTWF0ZSk7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgLy8gU2V0IHNvbWUgc2V0dGluZ3MsIGJ5IG1lcmdpbmcgZGVmYXVsdHMgYW5kIHBhc3NlZCBzZXR0aW5nc1xuICAgIHNlbGYuc2V0dGluZ3MgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgIG1pbldvcmRzOiA0LFxuICAgICAgc2VsZWN0b3I6ICdwJyxcbiAgICAgIGlnbm9yZUNsYXNzOiAnanMtdHlwZW1hdGVfX2lnbm9yZScsXG4gICAgICBpZ25vcmVFeGlzdGluZ1NwYWNlQ2hhcnM6IGZhbHNlXG4gICAgfSwgc2V0dGluZ3MpO1xuXG4gICAgLy8gRWl0aGVyIGxvYWQgZnJvbSByb290IG9yIHRoZSBwYXNzZWQgcGFyZW50IGVsZW1lbnRcbiAgICBpZiAodHlwZW9mIHBhcmVudCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHNlbGYuZWxlbXMgPSBfdG9Db25zdW1hYmxlQXJyYXkoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxmLnNldHRpbmdzLnNlbGVjdG9yKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNlbGYuZWxlbXMgPSBfdG9Db25zdW1hYmxlQXJyYXkocGFyZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZi5zZXR0aW5ncy5zZWxlY3RvcikpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBcHBseSBmb3JtYXR0aW5nIHRvIHRoZSBsb2FkZWQgZWxlbWVudHNcbiAgICogQHJldHVybiB2b2lkXG4gICAqL1xuICBfY3JlYXRlQ2xhc3MoVHlwZU1hdGUsIFt7XG4gICAga2V5OiBcImFwcGx5XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFwcGx5KCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgc2VsZi5lbGVtcy5tYXAoZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgICAgLy8gQmFpbCBvdXQgaWYgdGhlIGlnbm9yZSBjbGFzcyBpcyBwcmVzZW50IG9uIHRoaXMgZWxlbWVudFxuICAgICAgICBpZiAoZWxlbS5jbGFzc0xpc3QuY29udGFpbnMoc2VsZi5zZXR0aW5ncy5pZ25vcmVDbGFzcykpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSdW4gdGhlIGlnbm9yZSBjaGVja2VyIG5kIGJhaWwgaWYgcmVxdWlyZWRcbiAgICAgICAgaWYgKHNlbGYuc2hvdWxkRWxlbWVudEJlSWdub3JlZChlbGVtKSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRoZSByZXN1bHQgc3RyaW5nIHdpbGwgYmUgdGFja2VkIG9uIHRvIHRoaXNcbiAgICAgICAgdmFyIHJlc3VsdCA9ICcnO1xuXG4gICAgICAgIC8vIFNwbGl0IHdvcmRzL3RhZ3MgaW50byBhcnJheVxuICAgICAgICB2YXIgdGV4dEl0ZW1zID0gZWxlbS5pbm5lckhUTUwudHJpbSgpLnJlcGxhY2UoLyZuYnNwOy9nLCAnICcpLnNwbGl0KC8gKD89W14+XSooPzo8fCQpKS8pO1xuXG4gICAgICAgIC8vIENoZWNrIGlmIHRoZSB0ZXh0IHdhcnJhbnRzIHRoaXMgbW9kdWxlXG4gICAgICAgIGlmICh0ZXh0SXRlbXMubGVuZ3RoIDwgc2VsZi5zZXR0aW5ncy5taW5Xb3Jkcykge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBSdW4gb3JwaGFucyBmaWx0ZXJcbiAgICAgICAgdGV4dEl0ZW1zID0gc2VsZi5wcmV2ZW50T3JwaGFucyh0ZXh0SXRlbXMpO1xuXG4gICAgICAgIC8vIEpvaW4gdGhlIHdvcmRzIGJhY2sgdG9nZXRoZXJcbiAgICAgICAgcmVzdWx0ID0gdGV4dEl0ZW1zLmpvaW4oJyAnKTtcblxuICAgICAgICAvLyBSZXBsYWNlIHdoaXRlc3BhY2UgYWZ0ZXIgbm8gYnJlYWsgc3BhY2VzXG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdC5yZXBsYWNlKC8mbmJzcDsgL2csICcmbmJzcDsnKTtcbiAgICAgICAgLy8gU2V0IHRoZSBjb250ZW50IG9mIHRoZSBlbGVtZW50IHdpdGggb3VyIHNoaW55IHN0cmluZ1xuICAgICAgICBlbGVtLmlubmVySFRNTCA9IHJlc3VsdDtcbiAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBcHBseSB0aGUgb3JwaGFucyBmaWx0ZXIgdG8gdGhlIHBhc3NlZCB0ZXh0IGFuZCByZXR1cm4gaXRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dEl0ZW1zXG4gICAgICovXG4gIH0sIHtcbiAgICBrZXk6IFwicHJldmVudE9ycGhhbnNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcHJldmVudE9ycGhhbnModGV4dEl0ZW1zKSB7XG4gICAgICAvLyBGaW5kIHRoZSBzZWNvbmQgdG8gbGFzdCB3b3JrXG4gICAgICBpZiAod2luZG93LmlubmVyV2lkdGggPiA5OTEuOTgpIHtcbiAgICAgICAgdmFyIGFnYWluVGFyZ2V0V29yZCA9IHRleHRJdGVtc1t0ZXh0SXRlbXMubGVuZ3RoIC0gMl07XG4gICAgICAgIHRleHRJdGVtc1t0ZXh0SXRlbXMubGVuZ3RoIC0gMl0gPSBhZ2FpblRhcmdldFdvcmQgKyAnJm5ic3A7JztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciB0YXJnZXRXb3JkID0gdGV4dEl0ZW1zW3RleHRJdGVtcy5sZW5ndGggLSAyXTtcbiAgICAgICAgLy8gU3RpY2sgYSBubyBicmVhayBzcGFjZSB0byB0aGUgZW5kIG9mIHRoZSB3b3JkIGFuZCByZXBsYWNlIHRoZSBpbnN0YW5jZSBpbiB0aGUgYXJyYXlcbiAgICAgICAgdGV4dEl0ZW1zW3RleHRJdGVtcy5sZW5ndGggLSAyXSA9IHRhcmdldFdvcmQgKyAnJm5ic3A7JztcbiAgICAgIH1cbiAgICAgIHJldHVybiB0ZXh0SXRlbXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlc2V0IGFueSBmb3JtYXR0aW5nXG4gICAgICogQHJldHVybiB2b2lkXG4gICAgICovXG4gIH0sIHtcbiAgICBrZXk6IFwicmVzZXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVzZXQoKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICBzZWxmLmVsZW1zLm1hcChmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICAvLyBSdW4gdGhlIGlnbm9yZSBjaGVja2VyIG5kIGJhaWwgaWYgcmVxdWlyZWRcbiAgICAgICAgaWYgKHNlbGYuc2hvdWxkRWxlbWVudEJlSWdub3JlZChlbGVtKSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBlbGVtLmlubmVySFRNTCA9IGVsZW0uaW5uZXJIVE1MLnJlcGxhY2UoLyZuYnNwOy9nLCAnICcpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUnVuIGNoZWNrcyB0byBzZWUgaWYgdGhlIHBhc3NlZCBlbGVtZW50IHNob3VsZCBiZSBza2lwcGVkXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtXG4gICAgICogQHJldHVybnMgYm9vbGVhblxuICAgICAqL1xuICB9LCB7XG4gICAga2V5OiBcInNob3VsZEVsZW1lbnRCZUlnbm9yZWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2hvdWxkRWxlbWVudEJlSWdub3JlZChlbGVtKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIC8vIENoZWNrIGlmIHRoZSBlbGVtZW50IGFscmVhZHkgY29udGFpbnMgMSBvciBtb3JlICZuYnNwOyBjaGFyYWN0ZXJzIGFuZCB0aGVcbiAgICAgIC8vIGlnbm9yZSBzZXR0aW5nIGlzIHRydWUuIElmIHNvOiBiYWlsLlxuICAgICAgaWYgKGVsZW0uaW5uZXJIVE1MLmluZGV4T2YoJyZuYnNwOycpID4gLTEgJiYgc2VsZi5zZXR0aW5ncy5pZ25vcmVFeGlzdGluZ1NwYWNlQ2hhcnMpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBUeXBlTWF0ZTtcbn0oKTtcbjtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHBhcmVudCkge1xuICB2YXIgc2V0dGluZ3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICByZXR1cm4gbmV3IFR5cGVNYXRlKHBhcmVudCwgc2V0dGluZ3MpO1xufTtcblxufSx7fV19LHt9LFsxXSk7XG4iXX0=
