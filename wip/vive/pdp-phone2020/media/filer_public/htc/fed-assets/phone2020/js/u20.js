"use strict";var _turnOnIndicators=!1,controller=new ScrollMagic.Controller({loglevel:0,addIndicators:_turnOnIndicators}),enterController=new ScrollMagic.Controller({addIndicators:_turnOnIndicators,globalSceneOptions:{triggerHook:"onEnter"}}),leaveController=new ScrollMagic.Controller({addIndicators:_turnOnIndicators,globalSceneOptions:{triggerHook:"onLeave"}}),centerController=new ScrollMagic.Controller({addIndicators:_turnOnIndicators,globalSceneOptions:{}}),commonSetting=function(){var t={mobileMaxReserlution:function(){return 767.98},tabletMaxReserlution:function(){return 991.98},isRtl:function(){return!!$("body").hasClass("rtl")},isMobile:function(){return $(window).width()<=t.mobileMaxReserlution()},isTablet:function(){return $(window).width()<=t.tabletMaxReserlution()&&$(window).width()>t.mobileMaxReserlution()},isDesktop:function(){return $(window).width()>t.tabletMaxReserlution()},updateScrollPosition:function(e,o){var n=t.getScrollDurationPosition(e),i=n[0];n[1];o.offset(i)},updateScrollDurationPosition:function(e,o){var n=t.getScrollDurationPosition(e),i=n[0],a=n[1];o.offset(i),o.duration(a)},updateMobileScrollDurationPosition:function(e,o){var n=t.getMobileScrollDurationPosition(e),i=n[0],a=n[1];o.offset(i),o.duration(a)},getScrollDurationPosition:function(t){var e=0,o=0,n=5,i=5,a=t.outerHeight();return void 0!==t.data("top-trigger-percentage")&&(n=t.data("top-trigger-percentage"),e=parseInt(a*(n/100),10)),void 0!==t.data("bottom-trigger-percentage")&&(i=t.data("bottom-trigger-percentage"),o=a-parseInt(a*(i/100),10)-e),[e,o]},getMobileScrollDurationPosition:function(t){var e=0,o=0,n=5,i=5,a=t.outerHeight();return void 0!==t.data("m-top-trigger-percentage")&&(n=t.data("m-top-trigger-percentage"),e=parseInt(a*(n/100),10)),void 0!==t.data("m-bottom-trigger-percentage")&&(i=t.data("m-bottom-trigger-percentage"),o=a-parseInt(a*(i/100),10)-e),[e,o]}};return t}(),infoBar=function(){var t={init:function(){$(".info-bar").length>0&&(t.setupSticky(),t.setupToggleMenu(),setTimeout(function(){t.setupScrollToTab()},100))},switchSpecSelected:function(){setTimeout(function(){new ScrollMagic.Scene({triggerElement:".section-spec-wrapper",duration:$(".section-spec-wrapper").height()-1}).setClassToggle(".scroll-btn_spec","selected").addTo(centerController)},1e3)},switchItemSelected:function(){setTimeout(function(){$(".scroll-btn").each(function(t,e){var o=$(this).data("scroll-to");new ScrollMagic.Scene({triggerElement:".tab-group_"+o,duration:$(".tab-group_"+o).height()-1}).setClassToggle(".scroll-btn_"+o,"selected").addTo(centerController)})},1e3)},setupSticky:function(){var t=(new ScrollMagic.Scene({triggerElement:".info-bar",triggerHook:"onLeave"}).setPin(".info-bar",{pushFollowers:!0,spacerClass:"custome-id-pin-info-bar"}).addTo(controller),$(".info-bar")),e=$(window);$("body").hasClass("rtl")?e.scroll(function(o){"fixed"===t.css("position")?t.css({left:"auto",right:e.scrollLeft()+"px"}):t.css({left:"auto",right:"0px"})}):e.scroll(function(o){"fixed"===t.css("position")?t.css({left:-e.scrollLeft()+"px"}):t.css({left:"0px"})})},setupScrollToTab:function(){$(".scroll-btn").on("click",function(e){e.preventDefault();var o=$(this).data("scroll-to"),n=0;$(this).hasClass("trigger-animation");void 0!==o&&(n=$("#"+o).offset().top-$(".info-bar").height(),$(".tab-group").css("visibility","hidden"),$("html, body").animate({scrollTop:n},500,function(){$(".tab-group").css("visibility","visible")}),$(".info-bar").find(".m-toggle-menu").text($(this).text()),t.toggleMenu())})},setupToggleMenu:function(){$(".m-toggle-menu").on("click",function(e){e.preventDefault(),t.toggleMenu()})},toggleMenu:function(){$(".m-toggle-menu").toggleClass("active"),$(".scroll-btn-group").toggleClass("show")}};return t}(),modalVideo=function(){var t={init:function(){var e=$(".section__watch-video .modal-video");e.length>0&&$.each(e,function(e,o){var n=($(this),$(this).find(".play-modal-video-btn")),i=n.data("vtype"),a=n.data("vid");n.on("click",function(e){e.preventDefault(),"youtube"===i?youtubeVideo.init(a):(youkuVideo.init(a),t.showModal(),t.setupCloseModalBtn())})})},setupCloseModalBtn:function(){$(".modal-overlap-container .btn-close").off("click").on("click",function(e){e.preventDefault(),t.hideModal()})},showModal:function(){$(".modal-overlap-container").addClass("show"),$("html, body").addClass("fixed")},hideModal:function(){$(".modal-overlap-container").removeClass("show"),$("html, body").removeClass("fixed"),$(".modal-overlap-container .align-center").html('<div id="player"></div>')}};return t}(),owlCarouselFunc=function(){var t={init:function(){var e=$(".custom-id-feature");e.length>0&&$.each(e,function(e,o){var n=$(this);t.setupAnimation(n)})},setupAnimation:function(t){t.owlCarousel({loop:!0,margin:10,nav:!1,dots:!0,autoplay:!0,autoplayTimeout:7e3,responsive:{0:{items:1}},onInitialized:function(){lazyLoadImg.init()}})}};return t}(),autoPlayVideo=function(){var t={initVariable:[],init:function(){var e=$(".section__auto-video");e.length>0&&$.each(e,function(e,o){var n=$(this);t.setupAnimation(n,e),$(window).resize(function(){t.setupAnimation(n,e)})})},setupAnimation:function(e,o){if(!e.hasClass("animation-set")){var n=e.find("video")[0].play();void 0!==n&&n.then(function(n){e.find("video")[0].pause(),t.initVariable[o]=new ScrollMagic.Scene({triggerElement:e[0],offset:0,duration:"100%"}).on("enter leave",function(t){"enter"===t.type?e.find("video")[0].play():e.find("video")[0].pause()}).addTo(centerController)}),e.addClass("animation-set")}}};return t}(),lazyLoadImg=function(){return{init:function(){if("undefined"!=typeof LazyLoad){new LazyLoad({elements_selector:".lazy-img"})}}}}();$(document).ready(function(){lazyLoadImg.init()}),$(window).load(function(){infoBar.init(),modalVideo.init(),owlCarouselFunc.init(),autoPlayVideo.init()});var youkuVideo=function(){return{init:function(t){new YKU.Player("player",{styleid:"0",client_id:"2a8fda48fc709b73",vid:t,newPlayer:!1,autoplay:!0,show_related:!1,events:{onPlayEnd:function(){modalVideo.hideModal()},onPlayStart:function(){modalVideo.showModal(),modalVideo.setupCloseModalBtn()}}})},resetPlayerHeight:function(){"youku"===$(".player-container").data("vtype")&&$("#player").height($("picture").height())}}}(),youtubeVideo=function(){return{init:function(t){function e(t){t.target.playVideo(),modalVideo.showModal(),modalVideo.setupCloseModalBtn()}function o(t){0===t.data&&modalVideo.hideModal()}var n=void 0;!function(){n=new YT.Player("player",{height:"390",width:"640",videoId:t,events:{onReady:e,onStateChange:o}})}()}}}();!function(t){t.fn.videobject=function(e){var o=t.extend({flash:'<iframe width="mywidth" height="myheight" src="myurl" frameborder="0" allowfullscreen></iframe>',id:"XMTcwMDMxNTA4",url:"youtube",width:"500",height:"282",warning:"You need Flash Player enabled."},e||{}),n=function(){var t=!1;try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash")&&(t=!0)}catch(e){void 0!==navigator.mimeTypes["application/x-shockwave-flash"]&&(t=!0)}return t};return this.empty().html(function(e){var i=!0,a=void 0,r="http"+(/^https/.test(location.protocol)?"s":"")+"://www.youtube.com/embed/myid?autoplay=1&wmode=opaque";return t("html").hasClass("desktop")?(i=n(),a="http://static.youku.com/v/swf/qplayer.swf?VideoIDS=myid=&isAutoPlay=true&isShowRelatedVideo=false&embedid=-&showAd=0"):a="http://static.youku.com/v1.0.0149/v/swf/loader.swf?VideoIDS=myid&quality=high&isAutoPlay=true&winType=adshow",i?(11===e.length?o.id=r.replace(/myid/,e):(o.id=a.replace(/myid/,e),o.flash="<embed src='myurl' allowFullScreen='true' quality='high' width='mywidth' height='myheight' align='middle' allowScriptAccess='always' type='application/x-shockwave-flash'></embed>"),o.flash.replace(/myurl/,o.id).replace(/mywidth/,o.width).replace(/myheight/,o.height)):o.warning}(o.id))}}(jQuery);