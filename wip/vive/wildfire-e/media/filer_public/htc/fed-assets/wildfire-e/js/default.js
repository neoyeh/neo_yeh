"use strict";var _turnOnIndicators=!1,controller=new ScrollMagic.Controller({loglevel:0,addIndicators:_turnOnIndicators}),enterController=new ScrollMagic.Controller({addIndicators:_turnOnIndicators,globalSceneOptions:{triggerHook:"onEnter"}}),leaveController=new ScrollMagic.Controller({addIndicators:_turnOnIndicators,globalSceneOptions:{triggerHook:"onLeave"}}),centerController=new ScrollMagic.Controller({addIndicators:_turnOnIndicators,globalSceneOptions:{}}),commonSetting=function(){var e={mobileMaxReserlution:function(){return 767.98},tabletMaxReserlution:function(){return 991.98},isRtl:function(){return!!$("body").hasClass("rtl")},isMobile:function(){return $(window).width()<=e.mobileMaxReserlution()},isTablet:function(){return $(window).width()<=e.tabletMaxReserlution()&&$(window).width()>e.mobileMaxReserlution()},isDesktop:function(){return $(window).width()>e.tabletMaxReserlution()},updateScrollPosition:function(t,o){var i=e.getScrollDurationPosition(t),n=i[0];i[1];o.offset(n)},updateScrollDurationPosition:function(t,o){var i=e.getScrollDurationPosition(t),n=i[0],a=i[1];o.offset(n),o.duration(a)},updateMobileScrollDurationPosition:function(t,o){var i=e.getMobileScrollDurationPosition(t),n=i[0],a=i[1];o.offset(n),o.duration(a)},getScrollDurationPosition:function(e){var t=0,o=0,i=5,n=5,a=e.outerHeight();return void 0!==e.data("top-trigger-percentage")&&(i=e.data("top-trigger-percentage"),t=parseInt(a*(i/100),10)),void 0!==e.data("bottom-trigger-percentage")&&(n=e.data("bottom-trigger-percentage"),o=a-parseInt(a*(n/100),10)-t),[t,o]},getMobileScrollDurationPosition:function(e){var t=0,o=0,i=5,n=5,a=e.outerHeight();return void 0!==e.data("m-top-trigger-percentage")&&(i=e.data("m-top-trigger-percentage"),t=parseInt(a*(i/100),10)),void 0!==e.data("m-bottom-trigger-percentage")&&(n=e.data("m-bottom-trigger-percentage"),o=a-parseInt(a*(n/100),10)-t),[t,o]}};return e}(),infoBar=function(){var e={init:function(){$(".info-bar").length>0&&(e.setupSticky(),e.switchItemSelected(),e.switchSpecSelected(),e.setupToggleMenu(),setTimeout(function(){e.setupScrollToTab()},100))},switchSpecSelected:function(){setTimeout(function(){new ScrollMagic.Scene({triggerElement:".section-spec-wrapper",duration:$(".section-spec-wrapper").height()-1}).setClassToggle(".scroll-btn_spec","selected").addTo(centerController)},1e3)},switchItemSelected:function(){setTimeout(function(){$(".scroll-btn").each(function(e,t){var o=$(this).data("scroll-to");new ScrollMagic.Scene({triggerElement:".tab-group_"+o,duration:$(".tab-group_"+o).height()-1}).setClassToggle(".scroll-btn_"+o,"selected").addTo(centerController)})},1e3)},setupSticky:function(){var e=(new ScrollMagic.Scene({triggerElement:".info-bar",triggerHook:"onLeave"}).setPin(".info-bar",{pushFollowers:!0,spacerClass:"custome-id-pin-info-bar"}).setClassToggle("body","info-bar-sticky").addTo(controller),$(".info-bar")),t=$(window);$("body").hasClass("rtl")?t.scroll(function(o){"fixed"===e.css("position")?e.css({left:"auto",right:t.scrollLeft()+"px"}):e.css({left:"auto",right:"0px"})}):t.scroll(function(o){"fixed"===e.css("position")?e.css({left:-t.scrollLeft()+"px"}):e.css({left:"0px"})})},setupScrollToTab:function(){$(".scroll-btn").on("click",function(t){if(t.preventDefault(),!$(this).hasClass("selected")){var o=$(this).data("scroll-to"),i=0;$(this).hasClass("trigger-animation");void 0!==o&&($(".scroll-btn").removeClass("selected"),i=$("#"+o).offset().top-$(".info-bar").height(),$(".tab-group").css("visibility","hidden"),$("html, body").animate({scrollTop:i},500,function(){$(".tab-group").css("visibility","visible")}),$(".info-bar").find(".m-toggle-menu").text($(this).text()),$(this).addClass("selected"),e.toggleMenu())}})},setupToggleMenu:function(){$(".m-toggle-menu").on("click",function(t){t.preventDefault(),e.toggleMenu()})},toggleMenu:function(){$(".m-toggle-menu").toggleClass("active"),$(".scroll-btn-group").toggleClass("show")}};return e}(),modalVideo=function(){var e={init:function(){var t=$(".section__watch-video .modal-video");t.length>0&&$.each(t,function(t,o){var i=($(this),$(this).find(".play-modal-video-btn")),n=i.data("vtype"),a=i.data("vid");i.on("click",function(t){t.preventDefault(),"youtube"===n?youtubeVideo.init(a):(youkuVideo.init(a),e.showModal(),e.setupCloseModalBtn())})})},setupCloseModalBtn:function(){$(".modal-overlap-container .btn-close").off("click").on("click",function(t){t.preventDefault(),e.hideModal()})},showModal:function(){$(".modal-overlap-container").addClass("show"),$("html, body").addClass("fixed")},hideModal:function(){$(".modal-overlap-container").removeClass("show"),$("html, body").removeClass("fixed"),$(".modal-overlap-container .align-center").html('<div id="player"></div>')}};return e}(),lazyLoadImg=function(){return{init:function(){if("undefined"!=typeof LazyLoad){new LazyLoad({elements_selector:".lazy-img"})}}}}();$(document).ready(function(){lazyLoadImg.init(),infoBar.init(),modalVideo.init()}),$(window).load(function(){$(".signup-popup-container").length>0&&($(".signup-popup-container").remove(),$("body").removeClass("fixed"))});var youkuVideo=function(){return{init:function(e){new YKU.Player("player",{styleid:"0",client_id:"2a8fda48fc709b73",vid:e,newPlayer:!1,autoplay:!0,show_related:!1,events:{onPlayEnd:function(){modalVideo.hideModal()},onPlayStart:function(){modalVideo.showModal(),modalVideo.setupCloseModalBtn()}}})},resetPlayerHeight:function(){"youku"===$(".player-container").data("vtype")&&$("#player").height($("picture").height())}}}(),youtubeVideo=function(){return{init:function(e){function t(e){e.target.playVideo(),modalVideo.showModal(),modalVideo.setupCloseModalBtn()}function o(e){0===e.data&&modalVideo.hideModal()}var i=void 0;!function(){i=new YT.Player("player",{height:"390",width:"640",videoId:e,events:{onReady:t,onStateChange:o}})}()}}}();!function(e){e.fn.videobject=function(t){var o=e.extend({flash:'<iframe width="mywidth" height="myheight" src="myurl" frameborder="0" allowfullscreen></iframe>',id:"XMTcwMDMxNTA4",url:"youtube",width:"500",height:"282",warning:"You need Flash Player enabled."},t||{}),i=function(){var e=!1;try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash")&&(e=!0)}catch(t){void 0!==navigator.mimeTypes["application/x-shockwave-flash"]&&(e=!0)}return e};return this.empty().html(function(t){var n=!0,a=void 0,l="http"+(/^https/.test(location.protocol)?"s":"")+"://www.youtube.com/embed/myid?autoplay=1&wmode=opaque";return e("html").hasClass("desktop")?(n=i(),a="http://static.youku.com/v/swf/qplayer.swf?VideoIDS=myid=&isAutoPlay=true&isShowRelatedVideo=false&embedid=-&showAd=0"):a="http://static.youku.com/v1.0.0149/v/swf/loader.swf?VideoIDS=myid&quality=high&isAutoPlay=true&winType=adshow",n?(11===t.length?o.id=l.replace(/myid/,t):(o.id=a.replace(/myid/,t),o.flash="<embed src='myurl' allowFullScreen='true' quality='high' width='mywidth' height='myheight' align='middle' allowScriptAccess='always' type='application/x-shockwave-flash'></embed>"),o.flash.replace(/myurl/,o.id).replace(/mywidth/,o.width).replace(/myheight/,o.height)):o.warning}(o.id))}}(jQuery);